function ug(n,a){for(var r=0;r<a.length;r++){const i=a[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const d=Object.getOwnPropertyDescriptor(i,o);d&&Object.defineProperty(n,o,d.get?d:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}})();function ap(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zc={exports:{}},Hn={},Wc={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function mg(){if(uh)return We;uh=1;var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=h&&C[h]||C["@@iterator"],typeof C=="function"?C:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,E={};function $(C,U,oe){this.props=C,this.context=U,this.refs=E,this.updater=oe||F}$.prototype.isReactComponent={},$.prototype.setState=function(C,U){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,U,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=$.prototype;function z(C,U,oe){this.props=C,this.context=U,this.refs=E,this.updater=oe||F}var R=z.prototype=new O;R.constructor=z,I(R,$.prototype),R.isPureReactComponent=!0;var K=Array.isArray,Z=Object.prototype.hasOwnProperty,ee={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function Q(C,U,oe){var ue,ge={},ve=null,Ie=null;if(U!=null)for(ue in U.ref!==void 0&&(Ie=U.ref),U.key!==void 0&&(ve=""+U.key),U)Z.call(U,ue)&&!te.hasOwnProperty(ue)&&(ge[ue]=U[ue]);var Ce=arguments.length-2;if(Ce===1)ge.children=oe;else if(1<Ce){for(var Re=Array(Ce),Ze=0;Ze<Ce;Ze++)Re[Ze]=arguments[Ze+2];ge.children=Re}if(C&&C.defaultProps)for(ue in Ce=C.defaultProps,Ce)ge[ue]===void 0&&(ge[ue]=Ce[ue]);return{$$typeof:n,type:C,key:ve,ref:Ie,props:ge,_owner:ee.current}}function se(C,U){return{$$typeof:n,type:C.type,key:U,ref:C.ref,props:C.props,_owner:C._owner}}function _e(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function pe(C){var U={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(oe){return U[oe]})}var L=/\/+/g;function V(C,U){return typeof C=="object"&&C!==null&&C.key!=null?pe(""+C.key):U.toString(36)}function D(C,U,oe,ue,ge){var ve=typeof C;(ve==="undefined"||ve==="boolean")&&(C=null);var Ie=!1;if(C===null)Ie=!0;else switch(ve){case"string":case"number":Ie=!0;break;case"object":switch(C.$$typeof){case n:case a:Ie=!0}}if(Ie)return Ie=C,ge=ge(Ie),C=ue===""?"."+V(Ie,0):ue,K(ge)?(oe="",C!=null&&(oe=C.replace(L,"$&/")+"/"),D(ge,U,oe,"",function(Ze){return Ze})):ge!=null&&(_e(ge)&&(ge=se(ge,oe+(!ge.key||Ie&&Ie.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+C)),U.push(ge)),1;if(Ie=0,ue=ue===""?".":ue+":",K(C))for(var Ce=0;Ce<C.length;Ce++){ve=C[Ce];var Re=ue+V(ve,Ce);Ie+=D(ve,U,oe,Re,ge)}else if(Re=_(C),typeof Re=="function")for(C=Re.call(C),Ce=0;!(ve=C.next()).done;)ve=ve.value,Re=ue+V(ve,Ce++),Ie+=D(ve,U,oe,Re,ge);else if(ve==="object")throw U=String(C),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Ie}function H(C,U,oe){if(C==null)return C;var ue=[],ge=0;return D(C,ue,"","",function(ve){return U.call(oe,ve,ge++)}),ue}function w(C){if(C._status===-1){var U=C._result;U=U(),U.then(function(oe){(C._status===0||C._status===-1)&&(C._status=1,C._result=oe)},function(oe){(C._status===0||C._status===-1)&&(C._status=2,C._result=oe)}),C._status===-1&&(C._status=0,C._result=U)}if(C._status===1)return C._result.default;throw C._result}var re={current:null},Y={transition:null},k={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Y,ReactCurrentOwner:ee};function W(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:H,forEach:function(C,U,oe){H(C,function(){U.apply(this,arguments)},oe)},count:function(C){var U=0;return H(C,function(){U++}),U},toArray:function(C){return H(C,function(U){return U})||[]},only:function(C){if(!_e(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},We.Component=$,We.Fragment=r,We.Profiler=o,We.PureComponent=z,We.StrictMode=i,We.Suspense=x,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,We.act=W,We.cloneElement=function(C,U,oe){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ue=I({},C.props),ge=C.key,ve=C.ref,Ie=C._owner;if(U!=null){if(U.ref!==void 0&&(ve=U.ref,Ie=ee.current),U.key!==void 0&&(ge=""+U.key),C.type&&C.type.defaultProps)var Ce=C.type.defaultProps;for(Re in U)Z.call(U,Re)&&!te.hasOwnProperty(Re)&&(ue[Re]=U[Re]===void 0&&Ce!==void 0?Ce[Re]:U[Re])}var Re=arguments.length-2;if(Re===1)ue.children=oe;else if(1<Re){Ce=Array(Re);for(var Ze=0;Ze<Re;Ze++)Ce[Ze]=arguments[Ze+2];ue.children=Ce}return{$$typeof:n,type:C.type,key:ge,ref:ve,props:ue,_owner:Ie}},We.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:d,_context:C},C.Consumer=C},We.createElement=Q,We.createFactory=function(C){var U=Q.bind(null,C);return U.type=C,U},We.createRef=function(){return{current:null}},We.forwardRef=function(C){return{$$typeof:p,render:C}},We.isValidElement=_e,We.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:w}},We.memo=function(C,U){return{$$typeof:f,type:C,compare:U===void 0?null:U}},We.startTransition=function(C){var U=Y.transition;Y.transition={};try{C()}finally{Y.transition=U}},We.unstable_act=W,We.useCallback=function(C,U){return re.current.useCallback(C,U)},We.useContext=function(C){return re.current.useContext(C)},We.useDebugValue=function(){},We.useDeferredValue=function(C){return re.current.useDeferredValue(C)},We.useEffect=function(C,U){return re.current.useEffect(C,U)},We.useId=function(){return re.current.useId()},We.useImperativeHandle=function(C,U,oe){return re.current.useImperativeHandle(C,U,oe)},We.useInsertionEffect=function(C,U){return re.current.useInsertionEffect(C,U)},We.useLayoutEffect=function(C,U){return re.current.useLayoutEffect(C,U)},We.useMemo=function(C,U){return re.current.useMemo(C,U)},We.useReducer=function(C,U,oe){return re.current.useReducer(C,U,oe)},We.useRef=function(C){return re.current.useRef(C)},We.useState=function(C){return re.current.useState(C)},We.useSyncExternalStore=function(C,U,oe){return re.current.useSyncExternalStore(C,U,oe)},We.useTransition=function(){return re.current.useTransition()},We.version="18.3.1",We}var mh;function gd(){return mh||(mh=1,Wc.exports=mg()),Wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function hg(){if(hh)return Hn;hh=1;var n=gd(),a=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(p,x,f){var v,h={},_=null,F=null;f!==void 0&&(_=""+f),x.key!==void 0&&(_=""+x.key),x.ref!==void 0&&(F=x.ref);for(v in x)i.call(x,v)&&!d.hasOwnProperty(v)&&(h[v]=x[v]);if(p&&p.defaultProps)for(v in x=p.defaultProps,x)h[v]===void 0&&(h[v]=x[v]);return{$$typeof:a,type:p,key:_,ref:F,props:h,_owner:o.current}}return Hn.Fragment=r,Hn.jsx=m,Hn.jsxs=m,Hn}var ph;function pg(){return ph||(ph=1,zc.exports=hg()),zc.exports}var e=pg(),j=gd();const rp=ap(j),xg=ug({__proto__:null,default:rp},[j]);var Nl={},Jc={exports:{}},ps={},Hc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function gg(){return xh||(xh=1,(function(n){function a(Y,k){var W=Y.length;Y.push(k);e:for(;0<W;){var C=W-1>>>1,U=Y[C];if(0<o(U,k))Y[C]=k,Y[W]=U,W=C;else break e}}function r(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var k=Y[0],W=Y.pop();if(W!==k){Y[0]=W;e:for(var C=0,U=Y.length,oe=U>>>1;C<oe;){var ue=2*(C+1)-1,ge=Y[ue],ve=ue+1,Ie=Y[ve];if(0>o(ge,W))ve<U&&0>o(Ie,ge)?(Y[C]=Ie,Y[ve]=W,C=ve):(Y[C]=ge,Y[ue]=W,C=ue);else if(ve<U&&0>o(Ie,W))Y[C]=Ie,Y[ve]=W,C=ve;else break e}}return k}function o(Y,k){var W=Y.sortIndex-k.sortIndex;return W!==0?W:Y.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();n.unstable_now=function(){return m.now()-p}}var x=[],f=[],v=1,h=null,_=3,F=!1,I=!1,E=!1,$=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Y){for(var k=r(f);k!==null;){if(k.callback===null)i(f);else if(k.startTime<=Y)i(f),k.sortIndex=k.expirationTime,a(x,k);else break;k=r(f)}}function K(Y){if(E=!1,R(Y),!I)if(r(x)!==null)I=!0,w(Z);else{var k=r(f);k!==null&&re(K,k.startTime-Y)}}function Z(Y,k){I=!1,E&&(E=!1,O(Q),Q=-1),F=!0;var W=_;try{for(R(k),h=r(x);h!==null&&(!(h.expirationTime>k)||Y&&!pe());){var C=h.callback;if(typeof C=="function"){h.callback=null,_=h.priorityLevel;var U=C(h.expirationTime<=k);k=n.unstable_now(),typeof U=="function"?h.callback=U:h===r(x)&&i(x),R(k)}else i(x);h=r(x)}if(h!==null)var oe=!0;else{var ue=r(f);ue!==null&&re(K,ue.startTime-k),oe=!1}return oe}finally{h=null,_=W,F=!1}}var ee=!1,te=null,Q=-1,se=5,_e=-1;function pe(){return!(n.unstable_now()-_e<se)}function L(){if(te!==null){var Y=n.unstable_now();_e=Y;var k=!0;try{k=te(!0,Y)}finally{k?V():(ee=!1,te=null)}}else ee=!1}var V;if(typeof z=="function")V=function(){z(L)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,H=D.port2;D.port1.onmessage=L,V=function(){H.postMessage(null)}}else V=function(){$(L,0)};function w(Y){te=Y,ee||(ee=!0,V())}function re(Y,k){Q=$(function(){Y(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){I||F||(I=!0,w(Z))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return r(x)},n.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var k=3;break;default:k=_}var W=_;_=k;try{return Y()}finally{_=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,k){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var W=_;_=Y;try{return k()}finally{_=W}},n.unstable_scheduleCallback=function(Y,k,W){var C=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?C+W:C):W=C,Y){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=W+U,Y={id:v++,callback:k,priorityLevel:Y,startTime:W,expirationTime:U,sortIndex:-1},W>C?(Y.sortIndex=W,a(f,Y),r(x)===null&&Y===r(f)&&(E?(O(Q),Q=-1):E=!0,re(K,W-C))):(Y.sortIndex=U,a(x,Y),I||F||(I=!0,w(Z))),Y},n.unstable_shouldYield=pe,n.unstable_wrapCallback=function(Y){var k=_;return function(){var W=_;_=k;try{return Y.apply(this,arguments)}finally{_=W}}}})(Vc)),Vc}var gh;function fg(){return gh||(gh=1,Hc.exports=gg()),Hc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function yg(){if(fh)return ps;fh=1;var n=gd(),a=fg();function r(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function d(t,s){m(t,s),m(t+"Capture",s)}function m(t,s){for(o[t]=s,t=0;t<s.length;t++)i.add(s[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function _(t){return x.call(h,t)?!0:x.call(v,t)?!1:f.test(t)?h[t]=!0:(v[t]=!0,!1)}function F(t,s,l,c){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I(t,s,l,c){if(s===null||typeof s>"u"||F(t,s,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(t,s,l,c,u,g,N){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=u,this.mustUseProperty=l,this.propertyName=t,this.type=s,this.sanitizeURL=g,this.removeEmptyString=N}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$[t]=new E(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];$[s]=new E(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$[t]=new E(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$[t]=new E(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$[t]=new E(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){$[t]=new E(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){$[t]=new E(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){$[t]=new E(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){$[t]=new E(t,5,!1,t.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function z(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(O,z);$[s]=new E(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(O,z);$[s]=new E(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(O,z);$[s]=new E(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){$[t]=new E(t,1,!1,t.toLowerCase(),null,!1,!1)}),$.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){$[t]=new E(t,1,!1,t.toLowerCase(),null,!0,!0)});function R(t,s,l,c){var u=$.hasOwnProperty(s)?$[s]:null;(u!==null?u.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(I(s,l,u,c)&&(l=null),c||u===null?_(s)&&(l===null?t.removeAttribute(s):t.setAttribute(s,""+l)):u.mustUseProperty?t[u.propertyName]=l===null?u.type===3?!1:"":l:(s=u.attributeName,c=u.attributeNamespace,l===null?t.removeAttribute(s):(u=u.type,l=u===3||u===4&&l===!0?"":""+l,c?t.setAttributeNS(c,s,l):t.setAttribute(s,l))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),ee=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),pe=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Y=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var W=Object.assign,C;function U(t){if(C===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);C=s&&s[1]||""}return`
`+C+t}var oe=!1;function ue(t,s){if(!t||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(X){var c=X}Reflect.construct(t,[],s)}else{try{s.call()}catch(X){c=X}t.call(s.prototype)}else{try{throw Error()}catch(X){c=X}t()}}catch(X){if(X&&c&&typeof X.stack=="string"){for(var u=X.stack.split(`
`),g=c.stack.split(`
`),N=u.length-1,A=g.length-1;1<=N&&0<=A&&u[N]!==g[A];)A--;for(;1<=N&&0<=A;N--,A--)if(u[N]!==g[A]){if(N!==1||A!==1)do if(N--,A--,0>A||u[N]!==g[A]){var T=`
`+u[N].replace(" at new "," at ");return t.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",t.displayName)),T}while(1<=N&&0<=A);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?U(t):""}function ge(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case ee:return"Portal";case se:return"Profiler";case Q:return"StrictMode";case V:return"Suspense";case D:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pe:return(t.displayName||"Context")+".Consumer";case _e:return(t._context.displayName||"Context")+".Provider";case L:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H:return s=t.displayName||null,s!==null?s:ve(t.type)||"Memo";case w:s=t._payload,t=t._init;try{return ve(t(s))}catch{}}return null}function Ie(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Re(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ze(t){var s=Re(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),c=""+t[s];if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,g=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return u.call(this)},set:function(N){c=""+N,g.call(this,N)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Rt(t){t._valueTracker||(t._valueTracker=Ze(t))}function Le(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return t&&(c=Re(t)?t.checked?"true":"false":t.value),t=c,t!==l?(s.setValue(t),!0):!1}function pt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function he(t,s){var l=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function Se(t,s){var l=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;l=Ce(s.value!=null?s.value:l),t._wrapperState={initialChecked:c,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Oe(t,s){s=s.checked,s!=null&&R(t,"checked",s,!1)}function Be(t,s){Oe(t,s);var l=Ce(s.value),c=s.type;if(l!=null)c==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ht(t,s.type,l):s.hasOwnProperty("defaultValue")&&ht(t,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function at(t,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,l||s===t.value||(t.value=s),t.defaultValue=s}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function ht(t,s,l){(s!=="number"||pt(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var Fe=Array.isArray;function rt(t,s,l,c){if(t=t.options,s){s={};for(var u=0;u<l.length;u++)s["$"+l[u]]=!0;for(l=0;l<t.length;l++)u=s.hasOwnProperty("$"+t[l].value),t[l].selected!==u&&(t[l].selected=u),u&&c&&(t[l].defaultSelected=!0)}else{for(l=""+Ce(l),s=null,u=0;u<t.length;u++){if(t[u].value===l){t[u].selected=!0,c&&(t[u].defaultSelected=!0);return}s!==null||t[u].disabled||(s=t[u])}s!==null&&(s.selected=!0)}}function qs(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aa(t,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(Fe(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}t._wrapperState={initialValue:Ce(l)}}function ra(t,s){var l=Ce(s.value),c=Ce(s.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),s.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),c!=null&&(t.defaultValue=""+c)}function y(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function M(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function S(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?M(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pe,Je=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,c,u){MSApp.execUnsafeLocalFunction(function(){return t(s,l,c,u)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Pe=Pe||document.createElement("div"),Pe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pe.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function b(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var P={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ae=["Webkit","ms","Moz","O"];Object.keys(P).forEach(function(t){ae.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),P[s]=P[t]})});function be(t,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||P.hasOwnProperty(t)&&P[t]?(""+s).trim():s+"px"}function De(t,s){t=t.style;for(var l in s)if(s.hasOwnProperty(l)){var c=l.indexOf("--")===0,u=be(l,s[l],c);l==="float"&&(l="cssFloat"),c?t.setProperty(l,u):t[l]=u}}var Pt=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dt(t,s){if(s){if(Pt[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Gt(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mt=null;function ft(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ws=null,Ks=null,J=null;function me(t){if(t=Dn(t)){if(typeof ws!="function")throw Error(r(280));var s=t.stateNode;s&&(s=Fi(s),ws(t.stateNode,t.type,s))}}function ze(t){Ks?J?J.push(t):J=[t]:Ks=t}function ut(){if(Ks){var t=Ks,s=J;if(J=Ks=null,me(t),s)for(t=0;t<s.length;t++)me(s[t])}}function zt(t,s){return t(s)}function cn(){}var wa=!1;function no(t,s,l){if(wa)return t(s,l);wa=!0;try{return zt(t,s,l)}finally{wa=!1,(Ks!==null||J!==null)&&(cn(),ut())}}function Na(t,s){var l=t.stateNode;if(l===null)return null;var c=Fi(l);if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var kr=!1;if(p)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){kr=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{kr=!1}function f0(t,s,l,c,u,g,N,A,T){var X=Array.prototype.slice.call(arguments,3);try{s.apply(l,X)}catch(ie){this.onError(ie)}}var un=!1,gi=null,fi=!1,io=null,y0={onError:function(t){un=!0,gi=t}};function v0(t,s,l,c,u,g,N,A,T){un=!1,gi=null,f0.apply(y0,arguments)}function b0(t,s,l,c,u,g,N,A,T){if(v0.apply(this,arguments),un){if(un){var X=gi;un=!1,gi=null}else throw Error(r(198));fi||(fi=!0,io=X)}}function Xa(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function Id(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ld(t){if(Xa(t)!==t)throw Error(r(188))}function j0(t){var s=t.alternate;if(!s){if(s=Xa(t),s===null)throw Error(r(188));return s!==t?null:t}for(var l=t,c=s;;){var u=l.return;if(u===null)break;var g=u.alternate;if(g===null){if(c=u.return,c!==null){l=c;continue}break}if(u.child===g.child){for(g=u.child;g;){if(g===l)return Ld(u),t;if(g===c)return Ld(u),s;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=u,c=g;else{for(var N=!1,A=u.child;A;){if(A===l){N=!0,l=u,c=g;break}if(A===c){N=!0,c=u,l=g;break}A=A.sibling}if(!N){for(A=g.child;A;){if(A===l){N=!0,l=g,c=u;break}if(A===c){N=!0,c=g,l=u;break}A=A.sibling}if(!N)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?t:s}function Od(t){return t=j0(t),t!==null?Rd(t):null}function Rd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Rd(t);if(s!==null)return s;t=t.sibling}return null}var Fd=a.unstable_scheduleCallback,$d=a.unstable_cancelCallback,w0=a.unstable_shouldYield,N0=a.unstable_requestPaint,Et=a.unstable_now,_0=a.unstable_getCurrentPriorityLevel,lo=a.unstable_ImmediatePriority,Bd=a.unstable_UserBlockingPriority,yi=a.unstable_NormalPriority,S0=a.unstable_LowPriority,Ud=a.unstable_IdlePriority,vi=null,Ys=null;function k0(t){if(Ys&&typeof Ys.onCommitFiberRoot=="function")try{Ys.onCommitFiberRoot(vi,t,void 0,(t.current.flags&128)===128)}catch{}}var Os=Math.clz32?Math.clz32:A0,C0=Math.log,E0=Math.LN2;function A0(t){return t>>>=0,t===0?32:31-(C0(t)/E0|0)|0}var bi=64,ji=4194304;function mn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wi(t,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,u=t.suspendedLanes,g=t.pingedLanes,N=l&268435455;if(N!==0){var A=N&~u;A!==0?c=mn(A):(g&=N,g!==0&&(c=mn(g)))}else N=l&~u,N!==0?c=mn(N):g!==0&&(c=mn(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&u)===0&&(u=c&-c,g=s&-s,u>=g||u===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=l&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=c;0<s;)l=31-Os(s),u=1<<l,c|=t[l],s&=~u;return c}function D0(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P0(t,s){for(var l=t.suspendedLanes,c=t.pingedLanes,u=t.expirationTimes,g=t.pendingLanes;0<g;){var N=31-Os(g),A=1<<N,T=u[N];T===-1?((A&l)===0||(A&c)!==0)&&(u[N]=D0(A,s)):T<=s&&(t.expiredLanes|=A),g&=~A}}function oo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zd(){var t=bi;return bi<<=1,(bi&4194240)===0&&(bi=64),t}function co(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function hn(t,s,l){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Os(s),t[s]=l}function M0(t,s){var l=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<l;){var u=31-Os(l),g=1<<u;s[u]=0,c[u]=-1,t[u]=-1,l&=~g}}function uo(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var c=31-Os(l),u=1<<c;u&s|t[c]&s&&(t[c]|=s),l&=~u}}var it=0;function Wd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Jd,mo,Hd,Vd,qd,ho=!1,Ni=[],_a=null,Sa=null,ka=null,pn=new Map,xn=new Map,Ca=[],T0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kd(t,s){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":pn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(s.pointerId)}}function gn(t,s,l,c,u,g){return t===null||t.nativeEvent!==g?(t={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[u]},s!==null&&(s=Dn(s),s!==null&&mo(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,u!==null&&s.indexOf(u)===-1&&s.push(u),t)}function I0(t,s,l,c,u){switch(s){case"focusin":return _a=gn(_a,t,s,l,c,u),!0;case"dragenter":return Sa=gn(Sa,t,s,l,c,u),!0;case"mouseover":return ka=gn(ka,t,s,l,c,u),!0;case"pointerover":var g=u.pointerId;return pn.set(g,gn(pn.get(g)||null,t,s,l,c,u)),!0;case"gotpointercapture":return g=u.pointerId,xn.set(g,gn(xn.get(g)||null,t,s,l,c,u)),!0}return!1}function Yd(t){var s=er(t.target);if(s!==null){var l=Xa(s);if(l!==null){if(s=l.tag,s===13){if(s=Id(l),s!==null){t.blockedOn=s,qd(t.priority,function(){Hd(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _i(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=xo(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);Mt=c,l.target.dispatchEvent(c),Mt=null}else return s=Dn(l),s!==null&&mo(s),t.blockedOn=l,!1;s.shift()}return!0}function Gd(t,s,l){_i(t)&&l.delete(s)}function L0(){ho=!1,_a!==null&&_i(_a)&&(_a=null),Sa!==null&&_i(Sa)&&(Sa=null),ka!==null&&_i(ka)&&(ka=null),pn.forEach(Gd),xn.forEach(Gd)}function fn(t,s){t.blockedOn===s&&(t.blockedOn=null,ho||(ho=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,L0)))}function yn(t){function s(u){return fn(u,t)}if(0<Ni.length){fn(Ni[0],t);for(var l=1;l<Ni.length;l++){var c=Ni[l];c.blockedOn===t&&(c.blockedOn=null)}}for(_a!==null&&fn(_a,t),Sa!==null&&fn(Sa,t),ka!==null&&fn(ka,t),pn.forEach(s),xn.forEach(s),l=0;l<Ca.length;l++)c=Ca[l],c.blockedOn===t&&(c.blockedOn=null);for(;0<Ca.length&&(l=Ca[0],l.blockedOn===null);)Yd(l),l.blockedOn===null&&Ca.shift()}var Cr=K.ReactCurrentBatchConfig,Si=!0;function O0(t,s,l,c){var u=it,g=Cr.transition;Cr.transition=null;try{it=1,po(t,s,l,c)}finally{it=u,Cr.transition=g}}function R0(t,s,l,c){var u=it,g=Cr.transition;Cr.transition=null;try{it=4,po(t,s,l,c)}finally{it=u,Cr.transition=g}}function po(t,s,l,c){if(Si){var u=xo(t,s,l,c);if(u===null)Mo(t,s,c,ki,l),Kd(t,c);else if(I0(u,t,s,l,c))c.stopPropagation();else if(Kd(t,c),s&4&&-1<T0.indexOf(t)){for(;u!==null;){var g=Dn(u);if(g!==null&&Jd(g),g=xo(t,s,l,c),g===null&&Mo(t,s,c,ki,l),g===u)break;u=g}u!==null&&c.stopPropagation()}else Mo(t,s,c,null,l)}}var ki=null;function xo(t,s,l,c){if(ki=null,t=ft(c),t=er(t),t!==null)if(s=Xa(t),s===null)t=null;else if(l=s.tag,l===13){if(t=Id(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return ki=t,null}function Qd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_0()){case lo:return 1;case Bd:return 4;case yi:case S0:return 16;case Ud:return 536870912;default:return 16}default:return 16}}var Ea=null,go=null,Ci=null;function Zd(){if(Ci)return Ci;var t,s=go,l=s.length,c,u="value"in Ea?Ea.value:Ea.textContent,g=u.length;for(t=0;t<l&&s[t]===u[t];t++);var N=l-t;for(c=1;c<=N&&s[l-c]===u[g-c];c++);return Ci=u.slice(t,1<c?1-c:void 0)}function Ei(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ai(){return!0}function Xd(){return!1}function fs(t){function s(l,c,u,g,N){this._reactName=l,this._targetInst=u,this.type=c,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(l=t[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ai:Xd,this.isPropagationStopped=Xd,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),s}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=fs(Er),vn=W({},Er,{view:0,detail:0}),F0=fs(vn),yo,vo,bn,Di=W({},vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bn&&(bn&&t.type==="mousemove"?(yo=t.screenX-bn.screenX,vo=t.screenY-bn.screenY):vo=yo=0,bn=t),yo)},movementY:function(t){return"movementY"in t?t.movementY:vo}}),eu=fs(Di),$0=W({},Di,{dataTransfer:0}),B0=fs($0),U0=W({},vn,{relatedTarget:0}),bo=fs(U0),z0=W({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),W0=fs(z0),J0=W({},Er,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H0=fs(J0),V0=W({},Er,{data:0}),tu=fs(V0),q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G0(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Y0[t])?!!s[t]:!1}function jo(){return G0}var Q0=W({},vn,{key:function(t){if(t.key){var s=q0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?K0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jo,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z0=fs(Q0),X0=W({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=fs(X0),ex=W({},vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jo}),tx=fs(ex),sx=W({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),ax=fs(sx),rx=W({},Di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nx=fs(rx),ix=[9,13,27,32],wo=p&&"CompositionEvent"in window,jn=null;p&&"documentMode"in document&&(jn=document.documentMode);var lx=p&&"TextEvent"in window&&!jn,au=p&&(!wo||jn&&8<jn&&11>=jn),ru=" ",nu=!1;function iu(t,s){switch(t){case"keyup":return ix.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ar=!1;function ox(t,s){switch(t){case"compositionend":return lu(s);case"keypress":return s.which!==32?null:(nu=!0,ru);case"textInput":return t=s.data,t===ru&&nu?null:t;default:return null}}function cx(t,s){if(Ar)return t==="compositionend"||!wo&&iu(t,s)?(t=Zd(),Ci=go=Ea=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return au&&s.locale!=="ko"?null:s.data;default:return null}}var dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ou(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!dx[t.type]:s==="textarea"}function cu(t,s,l,c){ze(c),s=Li(s,"onChange"),0<s.length&&(l=new fo("onChange","change",null,l,c),t.push({event:l,listeners:s}))}var wn=null,Nn=null;function ux(t){Cu(t,0)}function Pi(t){var s=Ir(t);if(Le(s))return t}function mx(t,s){if(t==="change")return s}var du=!1;if(p){var No;if(p){var _o="oninput"in document;if(!_o){var uu=document.createElement("div");uu.setAttribute("oninput","return;"),_o=typeof uu.oninput=="function"}No=_o}else No=!1;du=No&&(!document.documentMode||9<document.documentMode)}function mu(){wn&&(wn.detachEvent("onpropertychange",hu),Nn=wn=null)}function hu(t){if(t.propertyName==="value"&&Pi(Nn)){var s=[];cu(s,Nn,t,ft(t)),no(ux,s)}}function hx(t,s,l){t==="focusin"?(mu(),wn=s,Nn=l,wn.attachEvent("onpropertychange",hu)):t==="focusout"&&mu()}function px(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pi(Nn)}function xx(t,s){if(t==="click")return Pi(s)}function gx(t,s){if(t==="input"||t==="change")return Pi(s)}function fx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Rs=typeof Object.is=="function"?Object.is:fx;function _n(t,s){if(Rs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var u=l[c];if(!x.call(s,u)||!Rs(t[u],s[u]))return!1}return!0}function pu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xu(t,s){var l=pu(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=s&&c>=s)return{node:l,offset:s-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pu(l)}}function gu(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?gu(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function fu(){for(var t=window,s=pt();s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=pt(t.document)}return s}function So(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function yx(t){var s=fu(),l=t.focusedElem,c=t.selectionRange;if(s!==l&&l&&l.ownerDocument&&gu(l.ownerDocument.documentElement,l)){if(c!==null&&So(l)){if(s=c.start,t=c.end,t===void 0&&(t=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(t,l.value.length);else if(t=(s=l.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var u=l.textContent.length,g=Math.min(c.start,u);c=c.end===void 0?g:Math.min(c.end,u),!t.extend&&g>c&&(u=c,c=g,g=u),u=xu(l,g);var N=xu(l,c);u&&N&&(t.rangeCount!==1||t.anchorNode!==u.node||t.anchorOffset!==u.offset||t.focusNode!==N.node||t.focusOffset!==N.offset)&&(s=s.createRange(),s.setStart(u.node,u.offset),t.removeAllRanges(),g>c?(t.addRange(s),t.extend(N.node,N.offset)):(s.setEnd(N.node,N.offset),t.addRange(s)))}}for(s=[],t=l;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)t=s[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vx=p&&"documentMode"in document&&11>=document.documentMode,Dr=null,ko=null,Sn=null,Co=!1;function yu(t,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Co||Dr==null||Dr!==pt(c)||(c=Dr,"selectionStart"in c&&So(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Sn&&_n(Sn,c)||(Sn=c,c=Li(ko,"onSelect"),0<c.length&&(s=new fo("onSelect","select",null,s,l),t.push({event:s,listeners:c}),s.target=Dr)))}function Mi(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var Pr={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},Eo={},vu={};p&&(vu=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Ti(t){if(Eo[t])return Eo[t];if(!Pr[t])return t;var s=Pr[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in vu)return Eo[t]=s[l];return t}var bu=Ti("animationend"),ju=Ti("animationiteration"),wu=Ti("animationstart"),Nu=Ti("transitionend"),_u=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(t,s){_u.set(t,s),d(s,[t])}for(var Ao=0;Ao<Su.length;Ao++){var Do=Su[Ao],bx=Do.toLowerCase(),jx=Do[0].toUpperCase()+Do.slice(1);Aa(bx,"on"+jx)}Aa(bu,"onAnimationEnd"),Aa(ju,"onAnimationIteration"),Aa(wu,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(Nu,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function ku(t,s,l){var c=t.type||"unknown-event";t.currentTarget=l,b0(c,s,void 0,t),t.currentTarget=null}function Cu(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],u=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var N=c.length-1;0<=N;N--){var A=c[N],T=A.instance,X=A.currentTarget;if(A=A.listener,T!==g&&u.isPropagationStopped())break e;ku(u,A,X),g=T}else for(N=0;N<c.length;N++){if(A=c[N],T=A.instance,X=A.currentTarget,A=A.listener,T!==g&&u.isPropagationStopped())break e;ku(u,A,X),g=T}}}if(fi)throw t=io,fi=!1,io=null,t}function yt(t,s){var l=s[Fo];l===void 0&&(l=s[Fo]=new Set);var c=t+"__bubble";l.has(c)||(Eu(s,t,2,!1),l.add(c))}function Po(t,s,l){var c=0;s&&(c|=4),Eu(l,t,c,s)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Cn(t){if(!t[Ii]){t[Ii]=!0,i.forEach(function(l){l!=="selectionchange"&&(wx.has(l)||Po(l,!1,t),Po(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ii]||(s[Ii]=!0,Po("selectionchange",!1,s))}}function Eu(t,s,l,c){switch(Qd(s)){case 1:var u=O0;break;case 4:u=R0;break;default:u=po}l=u.bind(null,s,l,t),u=void 0,!kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(u=!0),c?u!==void 0?t.addEventListener(s,l,{capture:!0,passive:u}):t.addEventListener(s,l,!0):u!==void 0?t.addEventListener(s,l,{passive:u}):t.addEventListener(s,l,!1)}function Mo(t,s,l,c,u){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var A=c.stateNode.containerInfo;if(A===u||A.nodeType===8&&A.parentNode===u)break;if(N===4)for(N=c.return;N!==null;){var T=N.tag;if((T===3||T===4)&&(T=N.stateNode.containerInfo,T===u||T.nodeType===8&&T.parentNode===u))return;N=N.return}for(;A!==null;){if(N=er(A),N===null)return;if(T=N.tag,T===5||T===6){c=g=N;continue e}A=A.parentNode}}c=c.return}no(function(){var X=g,ie=ft(l),le=[];e:{var ne=_u.get(t);if(ne!==void 0){var fe=fo,je=t;switch(t){case"keypress":if(Ei(l)===0)break e;case"keydown":case"keyup":fe=Z0;break;case"focusin":je="focus",fe=bo;break;case"focusout":je="blur",fe=bo;break;case"beforeblur":case"afterblur":fe=bo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=tx;break;case bu:case ju:case wu:fe=W0;break;case Nu:fe=ax;break;case"scroll":fe=F0;break;case"wheel":fe=nx;break;case"copy":case"cut":case"paste":fe=H0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=su}var we=(s&4)!==0,At=!we&&t==="scroll",q=we?ne!==null?ne+"Capture":null:ne;we=[];for(var B=X,G;B!==null;){G=B;var de=G.stateNode;if(G.tag===5&&de!==null&&(G=de,q!==null&&(de=Na(B,q),de!=null&&we.push(En(B,de,G)))),At)break;B=B.return}0<we.length&&(ne=new fe(ne,je,null,l,ie),le.push({event:ne,listeners:we}))}}if((s&7)===0){e:{if(ne=t==="mouseover"||t==="pointerover",fe=t==="mouseout"||t==="pointerout",ne&&l!==Mt&&(je=l.relatedTarget||l.fromElement)&&(er(je)||je[na]))break e;if((fe||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(je=l.relatedTarget||l.toElement,fe=X,je=je?er(je):null,je!==null&&(At=Xa(je),je!==At||je.tag!==5&&je.tag!==6)&&(je=null)):(fe=null,je=X),fe!==je)){if(we=eu,de="onMouseLeave",q="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(we=su,de="onPointerLeave",q="onPointerEnter",B="pointer"),At=fe==null?ne:Ir(fe),G=je==null?ne:Ir(je),ne=new we(de,B+"leave",fe,l,ie),ne.target=At,ne.relatedTarget=G,de=null,er(ie)===X&&(we=new we(q,B+"enter",je,l,ie),we.target=G,we.relatedTarget=At,de=we),At=de,fe&&je)t:{for(we=fe,q=je,B=0,G=we;G;G=Mr(G))B++;for(G=0,de=q;de;de=Mr(de))G++;for(;0<B-G;)we=Mr(we),B--;for(;0<G-B;)q=Mr(q),G--;for(;B--;){if(we===q||q!==null&&we===q.alternate)break t;we=Mr(we),q=Mr(q)}we=null}else we=null;fe!==null&&Au(le,ne,fe,we,!1),je!==null&&At!==null&&Au(le,At,je,we,!0)}}e:{if(ne=X?Ir(X):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var ke=mx;else if(ou(ne))if(du)ke=gx;else{ke=px;var Ee=hx}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ke=xx);if(ke&&(ke=ke(t,X))){cu(le,ke,l,ie);break e}Ee&&Ee(t,ne,X),t==="focusout"&&(Ee=ne._wrapperState)&&Ee.controlled&&ne.type==="number"&&ht(ne,"number",ne.value)}switch(Ee=X?Ir(X):window,t){case"focusin":(ou(Ee)||Ee.contentEditable==="true")&&(Dr=Ee,ko=X,Sn=null);break;case"focusout":Sn=ko=Dr=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,yu(le,l,ie);break;case"selectionchange":if(vx)break;case"keydown":case"keyup":yu(le,l,ie)}var Ae;if(wo)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ar?iu(t,l)&&(Me="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(au&&l.locale!=="ko"&&(Ar||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ar&&(Ae=Zd()):(Ea=ie,go="value"in Ea?Ea.value:Ea.textContent,Ar=!0)),Ee=Li(X,Me),0<Ee.length&&(Me=new tu(Me,t,null,l,ie),le.push({event:Me,listeners:Ee}),Ae?Me.data=Ae:(Ae=lu(l),Ae!==null&&(Me.data=Ae)))),(Ae=lx?ox(t,l):cx(t,l))&&(X=Li(X,"onBeforeInput"),0<X.length&&(ie=new tu("onBeforeInput","beforeinput",null,l,ie),le.push({event:ie,listeners:X}),ie.data=Ae))}Cu(le,s)})}function En(t,s,l){return{instance:t,listener:s,currentTarget:l}}function Li(t,s){for(var l=s+"Capture",c=[];t!==null;){var u=t,g=u.stateNode;u.tag===5&&g!==null&&(u=g,g=Na(t,l),g!=null&&c.unshift(En(t,g,u)),g=Na(t,s),g!=null&&c.push(En(t,g,u))),t=t.return}return c}function Mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Au(t,s,l,c,u){for(var g=s._reactName,N=[];l!==null&&l!==c;){var A=l,T=A.alternate,X=A.stateNode;if(T!==null&&T===c)break;A.tag===5&&X!==null&&(A=X,u?(T=Na(l,g),T!=null&&N.unshift(En(l,T,A))):u||(T=Na(l,g),T!=null&&N.push(En(l,T,A)))),l=l.return}N.length!==0&&t.push({event:s,listeners:N})}var Nx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function Du(t){return(typeof t=="string"?t:""+t).replace(Nx,`
`).replace(_x,"")}function Oi(t,s,l){if(s=Du(s),Du(t)!==s&&l)throw Error(r(425))}function Ri(){}var To=null,Io=null;function Lo(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Oo=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,kx=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(t){return Pu.resolve(null).then(t).catch(Cx)}:Oo;function Cx(t){setTimeout(function(){throw t})}function Ro(t,s){var l=s,c=0;do{var u=l.nextSibling;if(t.removeChild(l),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(c===0){t.removeChild(u),yn(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=u}while(l);yn(s)}function Da(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function Mu(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return t;s--}else l==="/$"&&s++}t=t.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),Gs="__reactFiber$"+Tr,An="__reactProps$"+Tr,na="__reactContainer$"+Tr,Fo="__reactEvents$"+Tr,Ex="__reactListeners$"+Tr,Ax="__reactHandles$"+Tr;function er(t){var s=t[Gs];if(s)return s;for(var l=t.parentNode;l;){if(s=l[na]||l[Gs]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=Mu(t);t!==null;){if(l=t[Gs])return l;t=Mu(t)}return s}t=l,l=t.parentNode}return null}function Dn(t){return t=t[Gs]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function Fi(t){return t[An]||null}var $o=[],Lr=-1;function Pa(t){return{current:t}}function vt(t){0>Lr||(t.current=$o[Lr],$o[Lr]=null,Lr--)}function xt(t,s){Lr++,$o[Lr]=t.current,t.current=s}var Ma={},ts=Pa(Ma),cs=Pa(!1),tr=Ma;function Or(t,s){var l=t.type.contextTypes;if(!l)return Ma;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var u={},g;for(g in l)u[g]=s[g];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=u),u}function ds(t){return t=t.childContextTypes,t!=null}function $i(){vt(cs),vt(ts)}function Tu(t,s,l){if(ts.current!==Ma)throw Error(r(168));xt(ts,s),xt(cs,l)}function Iu(t,s,l){var c=t.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var u in c)if(!(u in s))throw Error(r(108,Ie(t)||"Unknown",u));return W({},l,c)}function Bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ma,tr=ts.current,xt(ts,t),xt(cs,cs.current),!0}function Lu(t,s,l){var c=t.stateNode;if(!c)throw Error(r(169));l?(t=Iu(t,s,tr),c.__reactInternalMemoizedMergedChildContext=t,vt(cs),vt(ts),xt(ts,t)):vt(cs),xt(cs,l)}var ia=null,Ui=!1,Bo=!1;function Ou(t){ia===null?ia=[t]:ia.push(t)}function Dx(t){Ui=!0,Ou(t)}function Ta(){if(!Bo&&ia!==null){Bo=!0;var t=0,s=it;try{var l=ia;for(it=1;t<l.length;t++){var c=l[t];do c=c(!0);while(c!==null)}ia=null,Ui=!1}catch(u){throw ia!==null&&(ia=ia.slice(t+1)),Fd(lo,Ta),u}finally{it=s,Bo=!1}}return null}var Rr=[],Fr=0,zi=null,Wi=0,Ns=[],_s=0,sr=null,la=1,oa="";function ar(t,s){Rr[Fr++]=Wi,Rr[Fr++]=zi,zi=t,Wi=s}function Ru(t,s,l){Ns[_s++]=la,Ns[_s++]=oa,Ns[_s++]=sr,sr=t;var c=la;t=oa;var u=32-Os(c)-1;c&=~(1<<u),l+=1;var g=32-Os(s)+u;if(30<g){var N=u-u%5;g=(c&(1<<N)-1).toString(32),c>>=N,u-=N,la=1<<32-Os(s)+u|l<<u|c,oa=g+t}else la=1<<g|l<<u|c,oa=t}function Uo(t){t.return!==null&&(ar(t,1),Ru(t,1,0))}function zo(t){for(;t===zi;)zi=Rr[--Fr],Rr[Fr]=null,Wi=Rr[--Fr],Rr[Fr]=null;for(;t===sr;)sr=Ns[--_s],Ns[_s]=null,oa=Ns[--_s],Ns[_s]=null,la=Ns[--_s],Ns[_s]=null}var ys=null,vs=null,wt=!1,Fs=null;function Fu(t,s){var l=Es(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=t,s=t.deletions,s===null?(t.deletions=[l],t.flags|=16):s.push(l)}function $u(t,s){switch(t.tag){case 5:var l=t.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,ys=t,vs=Da(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,ys=t,vs=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=sr!==null?{id:la,overflow:oa}:null,t.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Es(18,null,null,0),l.stateNode=s,l.return=t,t.child=l,ys=t,vs=null,!0):!1;default:return!1}}function Wo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jo(t){if(wt){var s=vs;if(s){var l=s;if(!$u(t,s)){if(Wo(t))throw Error(r(418));s=Da(l.nextSibling);var c=ys;s&&$u(t,s)?Fu(c,l):(t.flags=t.flags&-4097|2,wt=!1,ys=t)}}else{if(Wo(t))throw Error(r(418));t.flags=t.flags&-4097|2,wt=!1,ys=t}}}function Bu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ys=t}function Ji(t){if(t!==ys)return!1;if(!wt)return Bu(t),wt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Lo(t.type,t.memoizedProps)),s&&(s=vs)){if(Wo(t))throw Uu(),Error(r(418));for(;s;)Fu(t,s),s=Da(s.nextSibling)}if(Bu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(s===0){vs=Da(t.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}t=t.nextSibling}vs=null}}else vs=ys?Da(t.stateNode.nextSibling):null;return!0}function Uu(){for(var t=vs;t;)t=Da(t.nextSibling)}function $r(){vs=ys=null,wt=!1}function Ho(t){Fs===null?Fs=[t]:Fs.push(t)}var Px=K.ReactCurrentBatchConfig;function Pn(t,s,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var c=l.stateNode}if(!c)throw Error(r(147,t));var u=c,g=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(N){var A=u.refs;N===null?delete A[g]:A[g]=N},s._stringRef=g,s)}if(typeof t!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,t))}return t}function Hi(t,s){throw t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function zu(t){var s=t._init;return s(t._payload)}function Wu(t){function s(q,B){if(t){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function l(q,B){if(!t)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function c(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function u(q,B){return q=Ua(q,B),q.index=0,q.sibling=null,q}function g(q,B,G){return q.index=G,t?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=2,B):G):(q.flags|=2,B)):(q.flags|=1048576,B)}function N(q){return t&&q.alternate===null&&(q.flags|=2),q}function A(q,B,G,de){return B===null||B.tag!==6?(B=Oc(G,q.mode,de),B.return=q,B):(B=u(B,G),B.return=q,B)}function T(q,B,G,de){var ke=G.type;return ke===te?ie(q,B,G.props.children,de,G.key):B!==null&&(B.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===w&&zu(ke)===B.type)?(de=u(B,G.props),de.ref=Pn(q,B,G),de.return=q,de):(de=xl(G.type,G.key,G.props,null,q.mode,de),de.ref=Pn(q,B,G),de.return=q,de)}function X(q,B,G,de){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Rc(G,q.mode,de),B.return=q,B):(B=u(B,G.children||[]),B.return=q,B)}function ie(q,B,G,de,ke){return B===null||B.tag!==7?(B=ur(G,q.mode,de,ke),B.return=q,B):(B=u(B,G),B.return=q,B)}function le(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Oc(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return G=xl(B.type,B.key,B.props,null,q.mode,G),G.ref=Pn(q,null,B),G.return=q,G;case ee:return B=Rc(B,q.mode,G),B.return=q,B;case w:var de=B._init;return le(q,de(B._payload),G)}if(Fe(B)||k(B))return B=ur(B,q.mode,G,null),B.return=q,B;Hi(q,B)}return null}function ne(q,B,G,de){var ke=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ke!==null?null:A(q,B,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:return G.key===ke?T(q,B,G,de):null;case ee:return G.key===ke?X(q,B,G,de):null;case w:return ke=G._init,ne(q,B,ke(G._payload),de)}if(Fe(G)||k(G))return ke!==null?null:ie(q,B,G,de,null);Hi(q,G)}return null}function fe(q,B,G,de,ke){if(typeof de=="string"&&de!==""||typeof de=="number")return q=q.get(G)||null,A(B,q,""+de,ke);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case Z:return q=q.get(de.key===null?G:de.key)||null,T(B,q,de,ke);case ee:return q=q.get(de.key===null?G:de.key)||null,X(B,q,de,ke);case w:var Ee=de._init;return fe(q,B,G,Ee(de._payload),ke)}if(Fe(de)||k(de))return q=q.get(G)||null,ie(B,q,de,ke,null);Hi(B,de)}return null}function je(q,B,G,de){for(var ke=null,Ee=null,Ae=B,Me=B=0,Ht=null;Ae!==null&&Me<G.length;Me++){Ae.index>Me?(Ht=Ae,Ae=null):Ht=Ae.sibling;var Xe=ne(q,Ae,G[Me],de);if(Xe===null){Ae===null&&(Ae=Ht);break}t&&Ae&&Xe.alternate===null&&s(q,Ae),B=g(Xe,B,Me),Ee===null?ke=Xe:Ee.sibling=Xe,Ee=Xe,Ae=Ht}if(Me===G.length)return l(q,Ae),wt&&ar(q,Me),ke;if(Ae===null){for(;Me<G.length;Me++)Ae=le(q,G[Me],de),Ae!==null&&(B=g(Ae,B,Me),Ee===null?ke=Ae:Ee.sibling=Ae,Ee=Ae);return wt&&ar(q,Me),ke}for(Ae=c(q,Ae);Me<G.length;Me++)Ht=fe(Ae,q,Me,G[Me],de),Ht!==null&&(t&&Ht.alternate!==null&&Ae.delete(Ht.key===null?Me:Ht.key),B=g(Ht,B,Me),Ee===null?ke=Ht:Ee.sibling=Ht,Ee=Ht);return t&&Ae.forEach(function(za){return s(q,za)}),wt&&ar(q,Me),ke}function we(q,B,G,de){var ke=k(G);if(typeof ke!="function")throw Error(r(150));if(G=ke.call(G),G==null)throw Error(r(151));for(var Ee=ke=null,Ae=B,Me=B=0,Ht=null,Xe=G.next();Ae!==null&&!Xe.done;Me++,Xe=G.next()){Ae.index>Me?(Ht=Ae,Ae=null):Ht=Ae.sibling;var za=ne(q,Ae,Xe.value,de);if(za===null){Ae===null&&(Ae=Ht);break}t&&Ae&&za.alternate===null&&s(q,Ae),B=g(za,B,Me),Ee===null?ke=za:Ee.sibling=za,Ee=za,Ae=Ht}if(Xe.done)return l(q,Ae),wt&&ar(q,Me),ke;if(Ae===null){for(;!Xe.done;Me++,Xe=G.next())Xe=le(q,Xe.value,de),Xe!==null&&(B=g(Xe,B,Me),Ee===null?ke=Xe:Ee.sibling=Xe,Ee=Xe);return wt&&ar(q,Me),ke}for(Ae=c(q,Ae);!Xe.done;Me++,Xe=G.next())Xe=fe(Ae,q,Me,Xe.value,de),Xe!==null&&(t&&Xe.alternate!==null&&Ae.delete(Xe.key===null?Me:Xe.key),B=g(Xe,B,Me),Ee===null?ke=Xe:Ee.sibling=Xe,Ee=Xe);return t&&Ae.forEach(function(dg){return s(q,dg)}),wt&&ar(q,Me),ke}function At(q,B,G,de){if(typeof G=="object"&&G!==null&&G.type===te&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:e:{for(var ke=G.key,Ee=B;Ee!==null;){if(Ee.key===ke){if(ke=G.type,ke===te){if(Ee.tag===7){l(q,Ee.sibling),B=u(Ee,G.props.children),B.return=q,q=B;break e}}else if(Ee.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===w&&zu(ke)===Ee.type){l(q,Ee.sibling),B=u(Ee,G.props),B.ref=Pn(q,Ee,G),B.return=q,q=B;break e}l(q,Ee);break}else s(q,Ee);Ee=Ee.sibling}G.type===te?(B=ur(G.props.children,q.mode,de,G.key),B.return=q,q=B):(de=xl(G.type,G.key,G.props,null,q.mode,de),de.ref=Pn(q,B,G),de.return=q,q=de)}return N(q);case ee:e:{for(Ee=G.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(q,B.sibling),B=u(B,G.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else s(q,B);B=B.sibling}B=Rc(G,q.mode,de),B.return=q,q=B}return N(q);case w:return Ee=G._init,At(q,B,Ee(G._payload),de)}if(Fe(G))return je(q,B,G,de);if(k(G))return we(q,B,G,de);Hi(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(l(q,B.sibling),B=u(B,G),B.return=q,q=B):(l(q,B),B=Oc(G,q.mode,de),B.return=q,q=B),N(q)):l(q,B)}return At}var Br=Wu(!0),Ju=Wu(!1),Vi=Pa(null),qi=null,Ur=null,Vo=null;function qo(){Vo=Ur=qi=null}function Ko(t){var s=Vi.current;vt(Vi),t._currentValue=s}function Yo(t,s,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===l)break;t=t.return}}function zr(t,s){qi=t,Vo=Ur=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(us=!0),t.firstContext=null)}function Ss(t){var s=t._currentValue;if(Vo!==t)if(t={context:t,memoizedValue:s,next:null},Ur===null){if(qi===null)throw Error(r(308));Ur=t,qi.dependencies={lanes:0,firstContext:t}}else Ur=Ur.next=t;return s}var rr=null;function Go(t){rr===null?rr=[t]:rr.push(t)}function Hu(t,s,l,c){var u=s.interleaved;return u===null?(l.next=l,Go(s)):(l.next=u.next,u.next=l),s.interleaved=l,ca(t,c)}function ca(t,s){t.lanes|=s;var l=t.alternate;for(l!==null&&(l.lanes|=s),l=t,t=t.return;t!==null;)t.childLanes|=s,l=t.alternate,l!==null&&(l.childLanes|=s),l=t,t=t.return;return l.tag===3?l.stateNode:null}var Ia=!1;function Qo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function da(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function La(t,s,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var u=c.pending;return u===null?s.next=s:(s.next=u.next,u.next=s),c.pending=s,ca(t,l)}return u=c.interleaved,u===null?(s.next=s,Go(c)):(s.next=u.next,u.next=s),c.interleaved=s,ca(t,l)}function Ki(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var c=s.lanes;c&=t.pendingLanes,l|=c,s.lanes=l,uo(t,l)}}function qu(t,s){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var u=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var N={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?u=g=N:g=g.next=N,l=l.next}while(l!==null);g===null?u=g=s:g=g.next=s}else u=g=s;l={baseState:c.baseState,firstBaseUpdate:u,lastBaseUpdate:g,shared:c.shared,effects:c.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}function Yi(t,s,l,c){var u=t.updateQueue;Ia=!1;var g=u.firstBaseUpdate,N=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var T=A,X=T.next;T.next=null,N===null?g=X:N.next=X,N=T;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==N&&(A===null?ie.firstBaseUpdate=X:A.next=X,ie.lastBaseUpdate=T))}if(g!==null){var le=u.baseState;N=0,ie=X=T=null,A=g;do{var ne=A.lane,fe=A.eventTime;if((c&ne)===ne){ie!==null&&(ie=ie.next={eventTime:fe,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var je=t,we=A;switch(ne=s,fe=l,we.tag){case 1:if(je=we.payload,typeof je=="function"){le=je.call(fe,le,ne);break e}le=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=we.payload,ne=typeof je=="function"?je.call(fe,le,ne):je,ne==null)break e;le=W({},le,ne);break e;case 2:Ia=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,ne=u.effects,ne===null?u.effects=[A]:ne.push(A))}else fe={eventTime:fe,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(X=ie=fe,T=le):ie=ie.next=fe,N|=ne;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,u.lastBaseUpdate=ne,u.shared.pending=null}}while(!0);if(ie===null&&(T=le),u.baseState=T,u.firstBaseUpdate=X,u.lastBaseUpdate=ie,s=u.shared.interleaved,s!==null){u=s;do N|=u.lane,u=u.next;while(u!==s)}else g===null&&(u.shared.lanes=0);lr|=N,t.lanes=N,t.memoizedState=le}}function Ku(t,s,l){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var c=t[s],u=c.callback;if(u!==null){if(c.callback=null,c=l,typeof u!="function")throw Error(r(191,u));u.call(c)}}}var Mn={},Qs=Pa(Mn),Tn=Pa(Mn),In=Pa(Mn);function nr(t){if(t===Mn)throw Error(r(174));return t}function Zo(t,s){switch(xt(In,s),xt(Tn,t),xt(Qs,Mn),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:S(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=S(s,t)}vt(Qs),xt(Qs,s)}function Wr(){vt(Qs),vt(Tn),vt(In)}function Yu(t){nr(In.current);var s=nr(Qs.current),l=S(s,t.type);s!==l&&(xt(Tn,t),xt(Qs,l))}function Xo(t){Tn.current===t&&(vt(Qs),vt(Tn))}var St=Pa(0);function Gi(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ec=[];function tc(){for(var t=0;t<ec.length;t++)ec[t]._workInProgressVersionPrimary=null;ec.length=0}var Qi=K.ReactCurrentDispatcher,sc=K.ReactCurrentBatchConfig,ir=0,kt=null,Ft=null,Wt=null,Zi=!1,Ln=!1,On=0,Mx=0;function ss(){throw Error(r(321))}function ac(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!Rs(t[l],s[l]))return!1;return!0}function rc(t,s,l,c,u,g){if(ir=g,kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qi.current=t===null||t.memoizedState===null?Ox:Rx,t=l(c,u),Ln){g=0;do{if(Ln=!1,On=0,25<=g)throw Error(r(301));g+=1,Wt=Ft=null,s.updateQueue=null,Qi.current=Fx,t=l(c,u)}while(Ln)}if(Qi.current=tl,s=Ft!==null&&Ft.next!==null,ir=0,Wt=Ft=kt=null,Zi=!1,s)throw Error(r(300));return t}function nc(){var t=On!==0;return On=0,t}function Zs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?kt.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function ks(){if(Ft===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var s=Wt===null?kt.memoizedState:Wt.next;if(s!==null)Wt=s,Ft=t;else{if(t===null)throw Error(r(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Wt===null?kt.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Rn(t,s){return typeof s=="function"?s(t):s}function ic(t){var s=ks(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var c=Ft,u=c.baseQueue,g=l.pending;if(g!==null){if(u!==null){var N=u.next;u.next=g.next,g.next=N}c.baseQueue=u=g,l.pending=null}if(u!==null){g=u.next,c=c.baseState;var A=N=null,T=null,X=g;do{var ie=X.lane;if((ir&ie)===ie)T!==null&&(T=T.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),c=X.hasEagerState?X.eagerState:t(c,X.action);else{var le={lane:ie,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};T===null?(A=T=le,N=c):T=T.next=le,kt.lanes|=ie,lr|=ie}X=X.next}while(X!==null&&X!==g);T===null?N=c:T.next=A,Rs(c,s.memoizedState)||(us=!0),s.memoizedState=c,s.baseState=N,s.baseQueue=T,l.lastRenderedState=c}if(t=l.interleaved,t!==null){u=t;do g=u.lane,kt.lanes|=g,lr|=g,u=u.next;while(u!==t)}else u===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function lc(t){var s=ks(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var c=l.dispatch,u=l.pending,g=s.memoizedState;if(u!==null){l.pending=null;var N=u=u.next;do g=t(g,N.action),N=N.next;while(N!==u);Rs(g,s.memoizedState)||(us=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,c]}function Gu(){}function Qu(t,s){var l=kt,c=ks(),u=s(),g=!Rs(c.memoizedState,u);if(g&&(c.memoizedState=u,us=!0),c=c.queue,oc(em.bind(null,l,c,t),[t]),c.getSnapshot!==s||g||Wt!==null&&Wt.memoizedState.tag&1){if(l.flags|=2048,Fn(9,Xu.bind(null,l,c,u,s),void 0,null),Jt===null)throw Error(r(349));(ir&30)!==0||Zu(l,s,u)}return u}function Zu(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=kt.updateQueue,s===null?(s={lastEffect:null,stores:null},kt.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function Xu(t,s,l,c){s.value=l,s.getSnapshot=c,tm(s)&&sm(t)}function em(t,s,l){return l(function(){tm(s)&&sm(t)})}function tm(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!Rs(t,l)}catch{return!0}}function sm(t){var s=ca(t,1);s!==null&&zs(s,t,1,-1)}function am(t){var s=Zs();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:t},s.queue=t,t=t.dispatch=Lx.bind(null,kt,t),[s.memoizedState,t]}function Fn(t,s,l,c){return t={tag:t,create:s,destroy:l,deps:c,next:null},s=kt.updateQueue,s===null?(s={lastEffect:null,stores:null},kt.updateQueue=s,s.lastEffect=t.next=t):(l=s.lastEffect,l===null?s.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,s.lastEffect=t)),t}function rm(){return ks().memoizedState}function Xi(t,s,l,c){var u=Zs();kt.flags|=t,u.memoizedState=Fn(1|s,l,void 0,c===void 0?null:c)}function el(t,s,l,c){var u=ks();c=c===void 0?null:c;var g=void 0;if(Ft!==null){var N=Ft.memoizedState;if(g=N.destroy,c!==null&&ac(c,N.deps)){u.memoizedState=Fn(s,l,g,c);return}}kt.flags|=t,u.memoizedState=Fn(1|s,l,g,c)}function nm(t,s){return Xi(8390656,8,t,s)}function oc(t,s){return el(2048,8,t,s)}function im(t,s){return el(4,2,t,s)}function lm(t,s){return el(4,4,t,s)}function om(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function cm(t,s,l){return l=l!=null?l.concat([t]):null,el(4,4,om.bind(null,s,t),l)}function cc(){}function dm(t,s){var l=ks();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&ac(s,c[1])?c[0]:(l.memoizedState=[t,s],t)}function um(t,s){var l=ks();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&ac(s,c[1])?c[0]:(t=t(),l.memoizedState=[t,s],t)}function mm(t,s,l){return(ir&21)===0?(t.baseState&&(t.baseState=!1,us=!0),t.memoizedState=l):(Rs(l,s)||(l=zd(),kt.lanes|=l,lr|=l,t.baseState=!0),s)}function Tx(t,s){var l=it;it=l!==0&&4>l?l:4,t(!0);var c=sc.transition;sc.transition={};try{t(!1),s()}finally{it=l,sc.transition=c}}function hm(){return ks().memoizedState}function Ix(t,s,l){var c=$a(t);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},pm(t))xm(s,l);else if(l=Hu(t,s,l,c),l!==null){var u=is();zs(l,t,c,u),gm(l,s,c)}}function Lx(t,s,l){var c=$a(t),u={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(pm(t))xm(s,u);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var N=s.lastRenderedState,A=g(N,l);if(u.hasEagerState=!0,u.eagerState=A,Rs(A,N)){var T=s.interleaved;T===null?(u.next=u,Go(s)):(u.next=T.next,T.next=u),s.interleaved=u;return}}catch{}finally{}l=Hu(t,s,u,c),l!==null&&(u=is(),zs(l,t,c,u),gm(l,s,c))}}function pm(t){var s=t.alternate;return t===kt||s!==null&&s===kt}function xm(t,s){Ln=Zi=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function gm(t,s,l){if((l&4194240)!==0){var c=s.lanes;c&=t.pendingLanes,l|=c,s.lanes=l,uo(t,l)}}var tl={readContext:Ss,useCallback:ss,useContext:ss,useEffect:ss,useImperativeHandle:ss,useInsertionEffect:ss,useLayoutEffect:ss,useMemo:ss,useReducer:ss,useRef:ss,useState:ss,useDebugValue:ss,useDeferredValue:ss,useTransition:ss,useMutableSource:ss,useSyncExternalStore:ss,useId:ss,unstable_isNewReconciler:!1},Ox={readContext:Ss,useCallback:function(t,s){return Zs().memoizedState=[t,s===void 0?null:s],t},useContext:Ss,useEffect:nm,useImperativeHandle:function(t,s,l){return l=l!=null?l.concat([t]):null,Xi(4194308,4,om.bind(null,s,t),l)},useLayoutEffect:function(t,s){return Xi(4194308,4,t,s)},useInsertionEffect:function(t,s){return Xi(4,2,t,s)},useMemo:function(t,s){var l=Zs();return s=s===void 0?null:s,t=t(),l.memoizedState=[t,s],t},useReducer:function(t,s,l){var c=Zs();return s=l!==void 0?l(s):s,c.memoizedState=c.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},c.queue=t,t=t.dispatch=Ix.bind(null,kt,t),[c.memoizedState,t]},useRef:function(t){var s=Zs();return t={current:t},s.memoizedState=t},useState:am,useDebugValue:cc,useDeferredValue:function(t){return Zs().memoizedState=t},useTransition:function(){var t=am(!1),s=t[0];return t=Tx.bind(null,t[1]),Zs().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,l){var c=kt,u=Zs();if(wt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Jt===null)throw Error(r(349));(ir&30)!==0||Zu(c,s,l)}u.memoizedState=l;var g={value:l,getSnapshot:s};return u.queue=g,nm(em.bind(null,c,g,t),[t]),c.flags|=2048,Fn(9,Xu.bind(null,c,g,l,s),void 0,null),l},useId:function(){var t=Zs(),s=Jt.identifierPrefix;if(wt){var l=oa,c=la;l=(c&~(1<<32-Os(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=On++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=Mx++,s=":"+s+"r"+l.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Rx={readContext:Ss,useCallback:dm,useContext:Ss,useEffect:oc,useImperativeHandle:cm,useInsertionEffect:im,useLayoutEffect:lm,useMemo:um,useReducer:ic,useRef:rm,useState:function(){return ic(Rn)},useDebugValue:cc,useDeferredValue:function(t){var s=ks();return mm(s,Ft.memoizedState,t)},useTransition:function(){var t=ic(Rn)[0],s=ks().memoizedState;return[t,s]},useMutableSource:Gu,useSyncExternalStore:Qu,useId:hm,unstable_isNewReconciler:!1},Fx={readContext:Ss,useCallback:dm,useContext:Ss,useEffect:oc,useImperativeHandle:cm,useInsertionEffect:im,useLayoutEffect:lm,useMemo:um,useReducer:lc,useRef:rm,useState:function(){return lc(Rn)},useDebugValue:cc,useDeferredValue:function(t){var s=ks();return Ft===null?s.memoizedState=t:mm(s,Ft.memoizedState,t)},useTransition:function(){var t=lc(Rn)[0],s=ks().memoizedState;return[t,s]},useMutableSource:Gu,useSyncExternalStore:Qu,useId:hm,unstable_isNewReconciler:!1};function $s(t,s){if(t&&t.defaultProps){s=W({},s),t=t.defaultProps;for(var l in t)s[l]===void 0&&(s[l]=t[l]);return s}return s}function dc(t,s,l,c){s=t.memoizedState,l=l(c,s),l=l==null?s:W({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var sl={isMounted:function(t){return(t=t._reactInternals)?Xa(t)===t:!1},enqueueSetState:function(t,s,l){t=t._reactInternals;var c=is(),u=$a(t),g=da(c,u);g.payload=s,l!=null&&(g.callback=l),s=La(t,g,u),s!==null&&(zs(s,t,u,c),Ki(s,t,u))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var c=is(),u=$a(t),g=da(c,u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=La(t,g,u),s!==null&&(zs(s,t,u,c),Ki(s,t,u))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=is(),c=$a(t),u=da(l,c);u.tag=2,s!=null&&(u.callback=s),s=La(t,u,c),s!==null&&(zs(s,t,c,l),Ki(s,t,c))}};function fm(t,s,l,c,u,g,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,N):s.prototype&&s.prototype.isPureReactComponent?!_n(l,c)||!_n(u,g):!0}function ym(t,s,l){var c=!1,u=Ma,g=s.contextType;return typeof g=="object"&&g!==null?g=Ss(g):(u=ds(s)?tr:ts.current,c=s.contextTypes,g=(c=c!=null)?Or(t,u):Ma),s=new s(l,g),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=sl,t.stateNode=s,s._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=u,t.__reactInternalMemoizedMaskedChildContext=g),s}function vm(t,s,l,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==t&&sl.enqueueReplaceState(s,s.state,null)}function uc(t,s,l,c){var u=t.stateNode;u.props=l,u.state=t.memoizedState,u.refs={},Qo(t);var g=s.contextType;typeof g=="object"&&g!==null?u.context=Ss(g):(g=ds(s)?tr:ts.current,u.context=Or(t,g)),u.state=t.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(dc(t,s,g,l),u.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(s=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),s!==u.state&&sl.enqueueReplaceState(u,u.state,null),Yi(t,l,u,c),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308)}function Jr(t,s){try{var l="",c=s;do l+=ge(c),c=c.return;while(c);var u=l}catch(g){u=`
Error generating stack: `+g.message+`
`+g.stack}return{value:t,source:s,stack:u,digest:null}}function mc(t,s,l){return{value:t,source:null,stack:l??null,digest:s??null}}function hc(t,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var $x=typeof WeakMap=="function"?WeakMap:Map;function bm(t,s,l){l=da(-1,l),l.tag=3,l.payload={element:null};var c=s.value;return l.callback=function(){cl||(cl=!0,Ec=c),hc(t,s)},l}function jm(t,s,l){l=da(-1,l),l.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var u=s.value;l.payload=function(){return c(u)},l.callback=function(){hc(t,s)}}var g=t.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){hc(t,s),typeof c!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})}),l}function wm(t,s,l){var c=t.pingCache;if(c===null){c=t.pingCache=new $x;var u=new Set;c.set(s,u)}else u=c.get(s),u===void 0&&(u=new Set,c.set(s,u));u.has(l)||(u.add(l),t=Xx.bind(null,t,s,l),s.then(t,t))}function Nm(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function _m(t,s,l,c,u){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=da(-1,1),s.tag=2,La(l,s,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=u,t)}var Bx=K.ReactCurrentOwner,us=!1;function ns(t,s,l,c){s.child=t===null?Ju(s,null,l,c):Br(s,t.child,l,c)}function Sm(t,s,l,c,u){l=l.render;var g=s.ref;return zr(s,u),c=rc(t,s,l,c,g,u),l=nc(),t!==null&&!us?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~u,ua(t,s,u)):(wt&&l&&Uo(s),s.flags|=1,ns(t,s,c,u),s.child)}function km(t,s,l,c,u){if(t===null){var g=l.type;return typeof g=="function"&&!Lc(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Cm(t,s,g,c,u)):(t=xl(l.type,null,c,s,s.mode,u),t.ref=s.ref,t.return=s,s.child=t)}if(g=t.child,(t.lanes&u)===0){var N=g.memoizedProps;if(l=l.compare,l=l!==null?l:_n,l(N,c)&&t.ref===s.ref)return ua(t,s,u)}return s.flags|=1,t=Ua(g,c),t.ref=s.ref,t.return=s,s.child=t}function Cm(t,s,l,c,u){if(t!==null){var g=t.memoizedProps;if(_n(g,c)&&t.ref===s.ref)if(us=!1,s.pendingProps=c=g,(t.lanes&u)!==0)(t.flags&131072)!==0&&(us=!0);else return s.lanes=t.lanes,ua(t,s,u)}return pc(t,s,l,c,u)}function Em(t,s,l){var c=s.pendingProps,u=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Vr,bs),bs|=l;else{if((l&1073741824)===0)return t=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,xt(Vr,bs),bs|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:l,xt(Vr,bs),bs|=c}else g!==null?(c=g.baseLanes|l,s.memoizedState=null):c=l,xt(Vr,bs),bs|=c;return ns(t,s,u,l),s.child}function Am(t,s){var l=s.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function pc(t,s,l,c,u){var g=ds(l)?tr:ts.current;return g=Or(s,g),zr(s,u),l=rc(t,s,l,c,g,u),c=nc(),t!==null&&!us?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~u,ua(t,s,u)):(wt&&c&&Uo(s),s.flags|=1,ns(t,s,l,u),s.child)}function Dm(t,s,l,c,u){if(ds(l)){var g=!0;Bi(s)}else g=!1;if(zr(s,u),s.stateNode===null)rl(t,s),ym(s,l,c),uc(s,l,c,u),c=!0;else if(t===null){var N=s.stateNode,A=s.memoizedProps;N.props=A;var T=N.context,X=l.contextType;typeof X=="object"&&X!==null?X=Ss(X):(X=ds(l)?tr:ts.current,X=Or(s,X));var ie=l.getDerivedStateFromProps,le=typeof ie=="function"||typeof N.getSnapshotBeforeUpdate=="function";le||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(A!==c||T!==X)&&vm(s,N,c,X),Ia=!1;var ne=s.memoizedState;N.state=ne,Yi(s,c,N,u),T=s.memoizedState,A!==c||ne!==T||cs.current||Ia?(typeof ie=="function"&&(dc(s,l,ie,c),T=s.memoizedState),(A=Ia||fm(s,l,A,c,ne,T,X))?(le||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(s.flags|=4194308)):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=T),N.props=c,N.state=T,N.context=X,c=A):(typeof N.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{N=s.stateNode,Vu(t,s),A=s.memoizedProps,X=s.type===s.elementType?A:$s(s.type,A),N.props=X,le=s.pendingProps,ne=N.context,T=l.contextType,typeof T=="object"&&T!==null?T=Ss(T):(T=ds(l)?tr:ts.current,T=Or(s,T));var fe=l.getDerivedStateFromProps;(ie=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(A!==le||ne!==T)&&vm(s,N,c,T),Ia=!1,ne=s.memoizedState,N.state=ne,Yi(s,c,N,u);var je=s.memoizedState;A!==le||ne!==je||cs.current||Ia?(typeof fe=="function"&&(dc(s,l,fe,c),je=s.memoizedState),(X=Ia||fm(s,l,X,c,ne,je,T)||!1)?(ie||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(c,je,T),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(c,je,T)),typeof N.componentDidUpdate=="function"&&(s.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof N.componentDidUpdate!="function"||A===t.memoizedProps&&ne===t.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ne===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=je),N.props=c,N.state=je,N.context=T,c=X):(typeof N.componentDidUpdate!="function"||A===t.memoizedProps&&ne===t.memoizedState||(s.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ne===t.memoizedState||(s.flags|=1024),c=!1)}return xc(t,s,l,c,g,u)}function xc(t,s,l,c,u,g){Am(t,s);var N=(s.flags&128)!==0;if(!c&&!N)return u&&Lu(s,l,!1),ua(t,s,g);c=s.stateNode,Bx.current=s;var A=N&&typeof l.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,t!==null&&N?(s.child=Br(s,t.child,null,g),s.child=Br(s,null,A,g)):ns(t,s,A,g),s.memoizedState=c.state,u&&Lu(s,l,!0),s.child}function Pm(t){var s=t.stateNode;s.pendingContext?Tu(t,s.pendingContext,s.pendingContext!==s.context):s.context&&Tu(t,s.context,!1),Zo(t,s.containerInfo)}function Mm(t,s,l,c,u){return $r(),Ho(u),s.flags|=256,ns(t,s,l,c),s.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tm(t,s,l){var c=s.pendingProps,u=St.current,g=!1,N=(s.flags&128)!==0,A;if((A=N)||(A=t!==null&&t.memoizedState===null?!1:(u&2)!==0),A?(g=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(u|=1),xt(St,u&1),t===null)return Jo(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(N=c.children,t=c.fallback,g?(c=s.mode,g=s.child,N={mode:"hidden",children:N},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=N):g=gl(N,c,0,null),t=ur(t,c,l,null),g.return=s,t.return=s,g.sibling=t,s.child=g,s.child.memoizedState=fc(l),s.memoizedState=gc,t):yc(s,N));if(u=t.memoizedState,u!==null&&(A=u.dehydrated,A!==null))return Ux(t,s,N,c,A,u,l);if(g){g=c.fallback,N=s.mode,u=t.child,A=u.sibling;var T={mode:"hidden",children:c.children};return(N&1)===0&&s.child!==u?(c=s.child,c.childLanes=0,c.pendingProps=T,s.deletions=null):(c=Ua(u,T),c.subtreeFlags=u.subtreeFlags&14680064),A!==null?g=Ua(A,g):(g=ur(g,N,l,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,N=t.child.memoizedState,N=N===null?fc(l):{baseLanes:N.baseLanes|l,cachePool:null,transitions:N.transitions},g.memoizedState=N,g.childLanes=t.childLanes&~l,s.memoizedState=gc,c}return g=t.child,t=g.sibling,c=Ua(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=l),c.return=s,c.sibling=null,t!==null&&(l=s.deletions,l===null?(s.deletions=[t],s.flags|=16):l.push(t)),s.child=c,s.memoizedState=null,c}function yc(t,s){return s=gl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function al(t,s,l,c){return c!==null&&Ho(c),Br(s,t.child,null,l),t=yc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Ux(t,s,l,c,u,g,N){if(l)return s.flags&256?(s.flags&=-257,c=mc(Error(r(422))),al(t,s,N,c)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(g=c.fallback,u=s.mode,c=gl({mode:"visible",children:c.children},u,0,null),g=ur(g,u,N,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&Br(s,t.child,null,N),s.child.memoizedState=fc(N),s.memoizedState=gc,g);if((s.mode&1)===0)return al(t,s,N,null);if(u.data==="$!"){if(c=u.nextSibling&&u.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(r(419)),c=mc(g,c,void 0),al(t,s,N,c)}if(A=(N&t.childLanes)!==0,us||A){if(c=Jt,c!==null){switch(N&-N){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(c.suspendedLanes|N))!==0?0:u,u!==0&&u!==g.retryLane&&(g.retryLane=u,ca(t,u),zs(c,t,u,-1))}return Ic(),c=mc(Error(r(421))),al(t,s,N,c)}return u.data==="$?"?(s.flags|=128,s.child=t.child,s=eg.bind(null,t),u._reactRetry=s,null):(t=g.treeContext,vs=Da(u.nextSibling),ys=s,wt=!0,Fs=null,t!==null&&(Ns[_s++]=la,Ns[_s++]=oa,Ns[_s++]=sr,la=t.id,oa=t.overflow,sr=s),s=yc(s,c.children),s.flags|=4096,s)}function Im(t,s,l){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Yo(t.return,s,l)}function vc(t,s,l,c,u){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:u}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=u)}function Lm(t,s,l){var c=s.pendingProps,u=c.revealOrder,g=c.tail;if(ns(t,s,c.children,l),c=St.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Im(t,l,s);else if(t.tag===19)Im(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(xt(St,c),(s.mode&1)===0)s.memoizedState=null;else switch(u){case"forwards":for(l=s.child,u=null;l!==null;)t=l.alternate,t!==null&&Gi(t)===null&&(u=l),l=l.sibling;l=u,l===null?(u=s.child,s.child=null):(u=l.sibling,l.sibling=null),vc(s,!1,u,l,g);break;case"backwards":for(l=null,u=s.child,s.child=null;u!==null;){if(t=u.alternate,t!==null&&Gi(t)===null){s.child=u;break}t=u.sibling,u.sibling=l,l=u,u=t}vc(s,!0,l,null,g);break;case"together":vc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function rl(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function ua(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),lr|=s.lanes,(l&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,l=Ua(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=Ua(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function zx(t,s,l){switch(s.tag){case 3:Pm(s),$r();break;case 5:Yu(s);break;case 1:ds(s.type)&&Bi(s);break;case 4:Zo(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,u=s.memoizedProps.value;xt(Vi,c._currentValue),c._currentValue=u;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(xt(St,St.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Tm(t,s,l):(xt(St,St.current&1),t=ua(t,s,l),t!==null?t.sibling:null);xt(St,St.current&1);break;case 19:if(c=(l&s.childLanes)!==0,(t.flags&128)!==0){if(c)return Lm(t,s,l);s.flags|=128}if(u=s.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),xt(St,St.current),c)break;return null;case 22:case 23:return s.lanes=0,Em(t,s,l)}return ua(t,s,l)}var Om,bc,Rm,Fm;Om=function(t,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},bc=function(){},Rm=function(t,s,l,c){var u=t.memoizedProps;if(u!==c){t=s.stateNode,nr(Qs.current);var g=null;switch(l){case"input":u=he(t,u),c=he(t,c),g=[];break;case"select":u=W({},u,{value:void 0}),c=W({},c,{value:void 0}),g=[];break;case"textarea":u=qs(t,u),c=qs(t,c),g=[];break;default:typeof u.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Ri)}dt(l,c);var N;l=null;for(X in u)if(!c.hasOwnProperty(X)&&u.hasOwnProperty(X)&&u[X]!=null)if(X==="style"){var A=u[X];for(N in A)A.hasOwnProperty(N)&&(l||(l={}),l[N]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?g||(g=[]):(g=g||[]).push(X,null));for(X in c){var T=c[X];if(A=u?.[X],c.hasOwnProperty(X)&&T!==A&&(T!=null||A!=null))if(X==="style")if(A){for(N in A)!A.hasOwnProperty(N)||T&&T.hasOwnProperty(N)||(l||(l={}),l[N]="");for(N in T)T.hasOwnProperty(N)&&A[N]!==T[N]&&(l||(l={}),l[N]=T[N])}else l||(g||(g=[]),g.push(X,l)),l=T;else X==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,A=A?A.__html:void 0,T!=null&&A!==T&&(g=g||[]).push(X,T)):X==="children"?typeof T!="string"&&typeof T!="number"||(g=g||[]).push(X,""+T):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(T!=null&&X==="onScroll"&&yt("scroll",t),g||A===T||(g=[])):(g=g||[]).push(X,T))}l&&(g=g||[]).push("style",l);var X=g;(s.updateQueue=X)&&(s.flags|=4)}},Fm=function(t,s,l,c){l!==c&&(s.flags|=4)};function $n(t,s){if(!wt)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function as(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(s)for(var u=t.child;u!==null;)l|=u.lanes|u.childLanes,c|=u.subtreeFlags&14680064,c|=u.flags&14680064,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)l|=u.lanes|u.childLanes,c|=u.subtreeFlags,c|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=c,t.childLanes=l,s}function Wx(t,s,l){var c=s.pendingProps;switch(zo(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return as(s),null;case 1:return ds(s.type)&&$i(),as(s),null;case 3:return c=s.stateNode,Wr(),vt(cs),vt(ts),tc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Ji(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Fs!==null&&(Pc(Fs),Fs=null))),bc(t,s),as(s),null;case 5:Xo(s);var u=nr(In.current);if(l=s.type,t!==null&&s.stateNode!=null)Rm(t,s,l,c,u),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(r(166));return as(s),null}if(t=nr(Qs.current),Ji(s)){c=s.stateNode,l=s.type;var g=s.memoizedProps;switch(c[Gs]=s,c[An]=g,t=(s.mode&1)!==0,l){case"dialog":yt("cancel",c),yt("close",c);break;case"iframe":case"object":case"embed":yt("load",c);break;case"video":case"audio":for(u=0;u<kn.length;u++)yt(kn[u],c);break;case"source":yt("error",c);break;case"img":case"image":case"link":yt("error",c),yt("load",c);break;case"details":yt("toggle",c);break;case"input":Se(c,g),yt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},yt("invalid",c);break;case"textarea":aa(c,g),yt("invalid",c)}dt(l,g),u=null;for(var N in g)if(g.hasOwnProperty(N)){var A=g[N];N==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&Oi(c.textContent,A,t),u=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Oi(c.textContent,A,t),u=["children",""+A]):o.hasOwnProperty(N)&&A!=null&&N==="onScroll"&&yt("scroll",c)}switch(l){case"input":Rt(c),at(c,g,!0);break;case"textarea":Rt(c),y(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Ri)}c=u,s.updateQueue=c,c!==null&&(s.flags|=4)}else{N=u.nodeType===9?u:u.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=N.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=N.createElement(l,{is:c.is}):(t=N.createElement(l),l==="select"&&(N=t,c.multiple?N.multiple=!0:c.size&&(N.size=c.size))):t=N.createElementNS(t,l),t[Gs]=s,t[An]=c,Om(t,s,!1,!1),s.stateNode=t;e:{switch(N=Gt(l,c),l){case"dialog":yt("cancel",t),yt("close",t),u=c;break;case"iframe":case"object":case"embed":yt("load",t),u=c;break;case"video":case"audio":for(u=0;u<kn.length;u++)yt(kn[u],t);u=c;break;case"source":yt("error",t),u=c;break;case"img":case"image":case"link":yt("error",t),yt("load",t),u=c;break;case"details":yt("toggle",t),u=c;break;case"input":Se(t,c),u=he(t,c),yt("invalid",t);break;case"option":u=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},u=W({},c,{value:void 0}),yt("invalid",t);break;case"textarea":aa(t,c),u=qs(t,c),yt("invalid",t);break;default:u=c}dt(l,u),A=u;for(g in A)if(A.hasOwnProperty(g)){var T=A[g];g==="style"?De(t,T):g==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Je(t,T)):g==="children"?typeof T=="string"?(l!=="textarea"||T!=="")&&b(t,T):typeof T=="number"&&b(t,""+T):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?T!=null&&g==="onScroll"&&yt("scroll",t):T!=null&&R(t,g,T,N))}switch(l){case"input":Rt(t),at(t,c,!1);break;case"textarea":Rt(t),y(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Ce(c.value));break;case"select":t.multiple=!!c.multiple,g=c.value,g!=null?rt(t,!!c.multiple,g,!1):c.defaultValue!=null&&rt(t,!!c.multiple,c.defaultValue,!0);break;default:typeof u.onClick=="function"&&(t.onclick=Ri)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return as(s),null;case 6:if(t&&s.stateNode!=null)Fm(t,s,t.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(l=nr(In.current),nr(Qs.current),Ji(s)){if(c=s.stateNode,l=s.memoizedProps,c[Gs]=s,(g=c.nodeValue!==l)&&(t=ys,t!==null))switch(t.tag){case 3:Oi(c.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oi(c.nodeValue,l,(t.mode&1)!==0)}g&&(s.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Gs]=s,s.stateNode=c}return as(s),null;case 13:if(vt(St),c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&vs!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Uu(),$r(),s.flags|=98560,g=!1;else if(g=Ji(s),c!==null&&c.dehydrated!==null){if(t===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Gs]=s}else $r(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;as(s),g=!1}else Fs!==null&&(Pc(Fs),Fs=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(St.current&1)!==0?$t===0&&($t=3):Ic())),s.updateQueue!==null&&(s.flags|=4),as(s),null);case 4:return Wr(),bc(t,s),t===null&&Cn(s.stateNode.containerInfo),as(s),null;case 10:return Ko(s.type._context),as(s),null;case 17:return ds(s.type)&&$i(),as(s),null;case 19:if(vt(St),g=s.memoizedState,g===null)return as(s),null;if(c=(s.flags&128)!==0,N=g.rendering,N===null)if(c)$n(g,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(N=Gi(t),N!==null){for(s.flags|=128,$n(g,!1),c=N.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=l,l=s.child;l!==null;)g=l,t=c,g.flags&=14680066,N=g.alternate,N===null?(g.childLanes=0,g.lanes=t,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=N.childLanes,g.lanes=N.lanes,g.child=N.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=N.memoizedProps,g.memoizedState=N.memoizedState,g.updateQueue=N.updateQueue,g.type=N.type,t=N.dependencies,g.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return xt(St,St.current&1|2),s.child}t=t.sibling}g.tail!==null&&Et()>qr&&(s.flags|=128,c=!0,$n(g,!1),s.lanes=4194304)}else{if(!c)if(t=Gi(N),t!==null){if(s.flags|=128,c=!0,l=t.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),$n(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!wt)return as(s),null}else 2*Et()-g.renderingStartTime>qr&&l!==1073741824&&(s.flags|=128,c=!0,$n(g,!1),s.lanes=4194304);g.isBackwards?(N.sibling=s.child,s.child=N):(l=g.last,l!==null?l.sibling=N:s.child=N,g.last=N)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Et(),s.sibling=null,l=St.current,xt(St,c?l&1|2:l&1),s):(as(s),null);case 22:case 23:return Tc(),c=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(bs&1073741824)!==0&&(as(s),s.subtreeFlags&6&&(s.flags|=8192)):as(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Jx(t,s){switch(zo(s),s.tag){case 1:return ds(s.type)&&$i(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Wr(),vt(cs),vt(ts),tc(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Xo(s),null;case 13:if(vt(St),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));$r()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return vt(St),null;case 4:return Wr(),null;case 10:return Ko(s.type._context),null;case 22:case 23:return Tc(),null;case 24:return null;default:return null}}var nl=!1,rs=!1,Hx=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Hr(t,s){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Ct(t,s,c)}else l.current=null}function jc(t,s,l){try{l()}catch(c){Ct(t,s,c)}}var $m=!1;function Vx(t,s){if(To=Si,t=fu(),So(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var u=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var N=0,A=-1,T=-1,X=0,ie=0,le=t,ne=null;t:for(;;){for(var fe;le!==l||u!==0&&le.nodeType!==3||(A=N+u),le!==g||c!==0&&le.nodeType!==3||(T=N+c),le.nodeType===3&&(N+=le.nodeValue.length),(fe=le.firstChild)!==null;)ne=le,le=fe;for(;;){if(le===t)break t;if(ne===l&&++X===u&&(A=N),ne===g&&++ie===c&&(T=N),(fe=le.nextSibling)!==null)break;le=ne,ne=le.parentNode}le=fe}l=A===-1||T===-1?null:{start:A,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(Io={focusedElem:t,selectionRange:l},Si=!1,ye=s;ye!==null;)if(s=ye,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ye=t;else for(;ye!==null;){s=ye;try{var je=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var we=je.memoizedProps,At=je.memoizedState,q=s.stateNode,B=q.getSnapshotBeforeUpdate(s.elementType===s.type?we:$s(s.type,we),At);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(de){Ct(s,s.return,de)}if(t=s.sibling,t!==null){t.return=s.return,ye=t;break}ye=s.return}return je=$m,$m=!1,je}function Bn(t,s,l){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var u=c=c.next;do{if((u.tag&t)===t){var g=u.destroy;u.destroy=void 0,g!==void 0&&jc(s,l,g)}u=u.next}while(u!==c)}}function il(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&t)===t){var c=l.create;l.destroy=c()}l=l.next}while(l!==s)}}function wc(t){var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof s=="function"?s(t):s.current=t}}function Bm(t){var s=t.alternate;s!==null&&(t.alternate=null,Bm(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Gs],delete s[An],delete s[Fo],delete s[Ex],delete s[Ax])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Um(t){return t.tag===5||t.tag===3||t.tag===4}function zm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Um(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nc(t,s,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(t,s):l.insertBefore(t,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(t,l)):(s=l,s.appendChild(t)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ri));else if(c!==4&&(t=t.child,t!==null))for(Nc(t,s,l),t=t.sibling;t!==null;)Nc(t,s,l),t=t.sibling}function _c(t,s,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(_c(t,s,l),t=t.sibling;t!==null;)_c(t,s,l),t=t.sibling}var Qt=null,Bs=!1;function Oa(t,s,l){for(l=l.child;l!==null;)Wm(t,s,l),l=l.sibling}function Wm(t,s,l){if(Ys&&typeof Ys.onCommitFiberUnmount=="function")try{Ys.onCommitFiberUnmount(vi,l)}catch{}switch(l.tag){case 5:rs||Hr(l,s);case 6:var c=Qt,u=Bs;Qt=null,Oa(t,s,l),Qt=c,Bs=u,Qt!==null&&(Bs?(t=Qt,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):Qt.removeChild(l.stateNode));break;case 18:Qt!==null&&(Bs?(t=Qt,l=l.stateNode,t.nodeType===8?Ro(t.parentNode,l):t.nodeType===1&&Ro(t,l),yn(t)):Ro(Qt,l.stateNode));break;case 4:c=Qt,u=Bs,Qt=l.stateNode.containerInfo,Bs=!0,Oa(t,s,l),Qt=c,Bs=u;break;case 0:case 11:case 14:case 15:if(!rs&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){u=c=c.next;do{var g=u,N=g.destroy;g=g.tag,N!==void 0&&((g&2)!==0||(g&4)!==0)&&jc(l,s,N),u=u.next}while(u!==c)}Oa(t,s,l);break;case 1:if(!rs&&(Hr(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(A){Ct(l,s,A)}Oa(t,s,l);break;case 21:Oa(t,s,l);break;case 22:l.mode&1?(rs=(c=rs)||l.memoizedState!==null,Oa(t,s,l),rs=c):Oa(t,s,l);break;default:Oa(t,s,l)}}function Jm(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new Hx),s.forEach(function(c){var u=tg.bind(null,t,c);l.has(c)||(l.add(c),c.then(u,u))})}}function Us(t,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var u=l[c];try{var g=t,N=s,A=N;e:for(;A!==null;){switch(A.tag){case 5:Qt=A.stateNode,Bs=!1;break e;case 3:Qt=A.stateNode.containerInfo,Bs=!0;break e;case 4:Qt=A.stateNode.containerInfo,Bs=!0;break e}A=A.return}if(Qt===null)throw Error(r(160));Wm(g,N,u),Qt=null,Bs=!1;var T=u.alternate;T!==null&&(T.return=null),u.return=null}catch(X){Ct(u,s,X)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Hm(s,t),s=s.sibling}function Hm(t,s){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Us(s,t),Xs(t),c&4){try{Bn(3,t,t.return),il(3,t)}catch(we){Ct(t,t.return,we)}try{Bn(5,t,t.return)}catch(we){Ct(t,t.return,we)}}break;case 1:Us(s,t),Xs(t),c&512&&l!==null&&Hr(l,l.return);break;case 5:if(Us(s,t),Xs(t),c&512&&l!==null&&Hr(l,l.return),t.flags&32){var u=t.stateNode;try{b(u,"")}catch(we){Ct(t,t.return,we)}}if(c&4&&(u=t.stateNode,u!=null)){var g=t.memoizedProps,N=l!==null?l.memoizedProps:g,A=t.type,T=t.updateQueue;if(t.updateQueue=null,T!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Oe(u,g),Gt(A,N);var X=Gt(A,g);for(N=0;N<T.length;N+=2){var ie=T[N],le=T[N+1];ie==="style"?De(u,le):ie==="dangerouslySetInnerHTML"?Je(u,le):ie==="children"?b(u,le):R(u,ie,le,X)}switch(A){case"input":Be(u,g);break;case"textarea":ra(u,g);break;case"select":var ne=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!g.multiple;var fe=g.value;fe!=null?rt(u,!!g.multiple,fe,!1):ne!==!!g.multiple&&(g.defaultValue!=null?rt(u,!!g.multiple,g.defaultValue,!0):rt(u,!!g.multiple,g.multiple?[]:"",!1))}u[An]=g}catch(we){Ct(t,t.return,we)}}break;case 6:if(Us(s,t),Xs(t),c&4){if(t.stateNode===null)throw Error(r(162));u=t.stateNode,g=t.memoizedProps;try{u.nodeValue=g}catch(we){Ct(t,t.return,we)}}break;case 3:if(Us(s,t),Xs(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{yn(s.containerInfo)}catch(we){Ct(t,t.return,we)}break;case 4:Us(s,t),Xs(t);break;case 13:Us(s,t),Xs(t),u=t.child,u.flags&8192&&(g=u.memoizedState!==null,u.stateNode.isHidden=g,!g||u.alternate!==null&&u.alternate.memoizedState!==null||(Cc=Et())),c&4&&Jm(t);break;case 22:if(ie=l!==null&&l.memoizedState!==null,t.mode&1?(rs=(X=rs)||ie,Us(s,t),rs=X):Us(s,t),Xs(t),c&8192){if(X=t.memoizedState!==null,(t.stateNode.isHidden=X)&&!ie&&(t.mode&1)!==0)for(ye=t,ie=t.child;ie!==null;){for(le=ye=ie;ye!==null;){switch(ne=ye,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Bn(4,ne,ne.return);break;case 1:Hr(ne,ne.return);var je=ne.stateNode;if(typeof je.componentWillUnmount=="function"){c=ne,l=ne.return;try{s=c,je.props=s.memoizedProps,je.state=s.memoizedState,je.componentWillUnmount()}catch(we){Ct(c,l,we)}}break;case 5:Hr(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Km(le);continue}}fe!==null?(fe.return=ne,ye=fe):Km(le)}ie=ie.sibling}e:for(ie=null,le=t;;){if(le.tag===5){if(ie===null){ie=le;try{u=le.stateNode,X?(g=u.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=le.stateNode,T=le.memoizedProps.style,N=T!=null&&T.hasOwnProperty("display")?T.display:null,A.style.display=be("display",N))}catch(we){Ct(t,t.return,we)}}}else if(le.tag===6){if(ie===null)try{le.stateNode.nodeValue=X?"":le.memoizedProps}catch(we){Ct(t,t.return,we)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===t)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===t)break e;for(;le.sibling===null;){if(le.return===null||le.return===t)break e;ie===le&&(ie=null),le=le.return}ie===le&&(ie=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:Us(s,t),Xs(t),c&4&&Jm(t);break;case 21:break;default:Us(s,t),Xs(t)}}function Xs(t){var s=t.flags;if(s&2){try{e:{for(var l=t.return;l!==null;){if(Um(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 5:var u=c.stateNode;c.flags&32&&(b(u,""),c.flags&=-33);var g=zm(t);_c(t,g,u);break;case 3:case 4:var N=c.stateNode.containerInfo,A=zm(t);Nc(t,A,N);break;default:throw Error(r(161))}}catch(T){Ct(t,t.return,T)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function qx(t,s,l){ye=t,Vm(t)}function Vm(t,s,l){for(var c=(t.mode&1)!==0;ye!==null;){var u=ye,g=u.child;if(u.tag===22&&c){var N=u.memoizedState!==null||nl;if(!N){var A=u.alternate,T=A!==null&&A.memoizedState!==null||rs;A=nl;var X=rs;if(nl=N,(rs=T)&&!X)for(ye=u;ye!==null;)N=ye,T=N.child,N.tag===22&&N.memoizedState!==null?Ym(u):T!==null?(T.return=N,ye=T):Ym(u);for(;g!==null;)ye=g,Vm(g),g=g.sibling;ye=u,nl=A,rs=X}qm(t)}else(u.subtreeFlags&8772)!==0&&g!==null?(g.return=u,ye=g):qm(t)}}function qm(t){for(;ye!==null;){var s=ye;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:rs||il(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!rs)if(l===null)c.componentDidMount();else{var u=s.elementType===s.type?l.memoizedProps:$s(s.type,l.memoizedProps);c.componentDidUpdate(u,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Ku(s,g,c);break;case 3:var N=s.updateQueue;if(N!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Ku(s,N,l)}break;case 5:var A=s.stateNode;if(l===null&&s.flags&4){l=A;var T=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&l.focus();break;case"img":T.src&&(l.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var X=s.alternate;if(X!==null){var ie=X.memoizedState;if(ie!==null){var le=ie.dehydrated;le!==null&&yn(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}rs||s.flags&512&&wc(s)}catch(ne){Ct(s,s.return,ne)}}if(s===t){ye=null;break}if(l=s.sibling,l!==null){l.return=s.return,ye=l;break}ye=s.return}}function Km(t){for(;ye!==null;){var s=ye;if(s===t){ye=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ye=l;break}ye=s.return}}function Ym(t){for(;ye!==null;){var s=ye;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{il(4,s)}catch(T){Ct(s,l,T)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var u=s.return;try{c.componentDidMount()}catch(T){Ct(s,u,T)}}var g=s.return;try{wc(s)}catch(T){Ct(s,g,T)}break;case 5:var N=s.return;try{wc(s)}catch(T){Ct(s,N,T)}}}catch(T){Ct(s,s.return,T)}if(s===t){ye=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ye=A;break}ye=s.return}}var Kx=Math.ceil,ll=K.ReactCurrentDispatcher,Sc=K.ReactCurrentOwner,Cs=K.ReactCurrentBatchConfig,Ye=0,Jt=null,Tt=null,Zt=0,bs=0,Vr=Pa(0),$t=0,Un=null,lr=0,ol=0,kc=0,zn=null,ms=null,Cc=0,qr=1/0,ma=null,cl=!1,Ec=null,Ra=null,dl=!1,Fa=null,ul=0,Wn=0,Ac=null,ml=-1,hl=0;function is(){return(Ye&6)!==0?Et():ml!==-1?ml:ml=Et()}function $a(t){return(t.mode&1)===0?1:(Ye&2)!==0&&Zt!==0?Zt&-Zt:Px.transition!==null?(hl===0&&(hl=zd()),hl):(t=it,t!==0||(t=window.event,t=t===void 0?16:Qd(t.type)),t)}function zs(t,s,l,c){if(50<Wn)throw Wn=0,Ac=null,Error(r(185));hn(t,l,c),((Ye&2)===0||t!==Jt)&&(t===Jt&&((Ye&2)===0&&(ol|=l),$t===4&&Ba(t,Zt)),hs(t,c),l===1&&Ye===0&&(s.mode&1)===0&&(qr=Et()+500,Ui&&Ta()))}function hs(t,s){var l=t.callbackNode;P0(t,s);var c=wi(t,t===Jt?Zt:0);if(c===0)l!==null&&$d(l),t.callbackNode=null,t.callbackPriority=0;else if(s=c&-c,t.callbackPriority!==s){if(l!=null&&$d(l),s===1)t.tag===0?Dx(Qm.bind(null,t)):Ou(Qm.bind(null,t)),kx(function(){(Ye&6)===0&&Ta()}),l=null;else{switch(Wd(c)){case 1:l=lo;break;case 4:l=Bd;break;case 16:l=yi;break;case 536870912:l=Ud;break;default:l=yi}l=nh(l,Gm.bind(null,t))}t.callbackPriority=s,t.callbackNode=l}}function Gm(t,s){if(ml=-1,hl=0,(Ye&6)!==0)throw Error(r(327));var l=t.callbackNode;if(Kr()&&t.callbackNode!==l)return null;var c=wi(t,t===Jt?Zt:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||s)s=pl(t,c);else{s=c;var u=Ye;Ye|=2;var g=Xm();(Jt!==t||Zt!==s)&&(ma=null,qr=Et()+500,cr(t,s));do try{Qx();break}catch(A){Zm(t,A)}while(!0);qo(),ll.current=g,Ye=u,Tt!==null?s=0:(Jt=null,Zt=0,s=$t)}if(s!==0){if(s===2&&(u=oo(t),u!==0&&(c=u,s=Dc(t,u))),s===1)throw l=Un,cr(t,0),Ba(t,c),hs(t,Et()),l;if(s===6)Ba(t,c);else{if(u=t.current.alternate,(c&30)===0&&!Yx(u)&&(s=pl(t,c),s===2&&(g=oo(t),g!==0&&(c=g,s=Dc(t,g))),s===1))throw l=Un,cr(t,0),Ba(t,c),hs(t,Et()),l;switch(t.finishedWork=u,t.finishedLanes=c,s){case 0:case 1:throw Error(r(345));case 2:dr(t,ms,ma);break;case 3:if(Ba(t,c),(c&130023424)===c&&(s=Cc+500-Et(),10<s)){if(wi(t,0)!==0)break;if(u=t.suspendedLanes,(u&c)!==c){is(),t.pingedLanes|=t.suspendedLanes&u;break}t.timeoutHandle=Oo(dr.bind(null,t,ms,ma),s);break}dr(t,ms,ma);break;case 4:if(Ba(t,c),(c&4194240)===c)break;for(s=t.eventTimes,u=-1;0<c;){var N=31-Os(c);g=1<<N,N=s[N],N>u&&(u=N),c&=~g}if(c=u,c=Et()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Kx(c/1960))-c,10<c){t.timeoutHandle=Oo(dr.bind(null,t,ms,ma),c);break}dr(t,ms,ma);break;case 5:dr(t,ms,ma);break;default:throw Error(r(329))}}}return hs(t,Et()),t.callbackNode===l?Gm.bind(null,t):null}function Dc(t,s){var l=zn;return t.current.memoizedState.isDehydrated&&(cr(t,s).flags|=256),t=pl(t,s),t!==2&&(s=ms,ms=l,s!==null&&Pc(s)),t}function Pc(t){ms===null?ms=t:ms.push.apply(ms,t)}function Yx(t){for(var s=t;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var u=l[c],g=u.getSnapshot;u=u.value;try{if(!Rs(g(),u))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ba(t,s){for(s&=~kc,s&=~ol,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var l=31-Os(s),c=1<<l;t[l]=-1,s&=~c}}function Qm(t){if((Ye&6)!==0)throw Error(r(327));Kr();var s=wi(t,0);if((s&1)===0)return hs(t,Et()),null;var l=pl(t,s);if(t.tag!==0&&l===2){var c=oo(t);c!==0&&(s=c,l=Dc(t,c))}if(l===1)throw l=Un,cr(t,0),Ba(t,s),hs(t,Et()),l;if(l===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,dr(t,ms,ma),hs(t,Et()),null}function Mc(t,s){var l=Ye;Ye|=1;try{return t(s)}finally{Ye=l,Ye===0&&(qr=Et()+500,Ui&&Ta())}}function or(t){Fa!==null&&Fa.tag===0&&(Ye&6)===0&&Kr();var s=Ye;Ye|=1;var l=Cs.transition,c=it;try{if(Cs.transition=null,it=1,t)return t()}finally{it=c,Cs.transition=l,Ye=s,(Ye&6)===0&&Ta()}}function Tc(){bs=Vr.current,vt(Vr)}function cr(t,s){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,Sx(l)),Tt!==null)for(l=Tt.return;l!==null;){var c=l;switch(zo(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$i();break;case 3:Wr(),vt(cs),vt(ts),tc();break;case 5:Xo(c);break;case 4:Wr();break;case 13:vt(St);break;case 19:vt(St);break;case 10:Ko(c.type._context);break;case 22:case 23:Tc()}l=l.return}if(Jt=t,Tt=t=Ua(t.current,null),Zt=bs=s,$t=0,Un=null,kc=ol=lr=0,ms=zn=null,rr!==null){for(s=0;s<rr.length;s++)if(l=rr[s],c=l.interleaved,c!==null){l.interleaved=null;var u=c.next,g=l.pending;if(g!==null){var N=g.next;g.next=u,c.next=N}l.pending=c}rr=null}return t}function Zm(t,s){do{var l=Tt;try{if(qo(),Qi.current=tl,Zi){for(var c=kt.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}Zi=!1}if(ir=0,Wt=Ft=kt=null,Ln=!1,On=0,Sc.current=null,l===null||l.return===null){$t=1,Un=s,Tt=null;break}e:{var g=t,N=l.return,A=l,T=s;if(s=Zt,A.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var X=T,ie=A,le=ie.tag;if((ie.mode&1)===0&&(le===0||le===11||le===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var fe=Nm(N);if(fe!==null){fe.flags&=-257,_m(fe,N,A,g,s),fe.mode&1&&wm(g,X,s),s=fe,T=X;var je=s.updateQueue;if(je===null){var we=new Set;we.add(T),s.updateQueue=we}else je.add(T);break e}else{if((s&1)===0){wm(g,X,s),Ic();break e}T=Error(r(426))}}else if(wt&&A.mode&1){var At=Nm(N);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),_m(At,N,A,g,s),Ho(Jr(T,A));break e}}g=T=Jr(T,A),$t!==4&&($t=2),zn===null?zn=[g]:zn.push(g),g=N;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var q=bm(g,T,s);qu(g,q);break e;case 1:A=T;var B=g.type,G=g.stateNode;if((g.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ra===null||!Ra.has(G)))){g.flags|=65536,s&=-s,g.lanes|=s;var de=jm(g,A,s);qu(g,de);break e}}g=g.return}while(g!==null)}th(l)}catch(ke){s=ke,Tt===l&&l!==null&&(Tt=l=l.return);continue}break}while(!0)}function Xm(){var t=ll.current;return ll.current=tl,t===null?tl:t}function Ic(){($t===0||$t===3||$t===2)&&($t=4),Jt===null||(lr&268435455)===0&&(ol&268435455)===0||Ba(Jt,Zt)}function pl(t,s){var l=Ye;Ye|=2;var c=Xm();(Jt!==t||Zt!==s)&&(ma=null,cr(t,s));do try{Gx();break}catch(u){Zm(t,u)}while(!0);if(qo(),Ye=l,ll.current=c,Tt!==null)throw Error(r(261));return Jt=null,Zt=0,$t}function Gx(){for(;Tt!==null;)eh(Tt)}function Qx(){for(;Tt!==null&&!w0();)eh(Tt)}function eh(t){var s=rh(t.alternate,t,bs);t.memoizedProps=t.pendingProps,s===null?th(t):Tt=s,Sc.current=null}function th(t){var s=t;do{var l=s.alternate;if(t=s.return,(s.flags&32768)===0){if(l=Wx(l,s,bs),l!==null){Tt=l;return}}else{if(l=Jx(l,s),l!==null){l.flags&=32767,Tt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Tt=null;return}}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=t}while(s!==null);$t===0&&($t=5)}function dr(t,s,l){var c=it,u=Cs.transition;try{Cs.transition=null,it=1,Zx(t,s,l,c)}finally{Cs.transition=u,it=c}return null}function Zx(t,s,l,c){do Kr();while(Fa!==null);if((Ye&6)!==0)throw Error(r(327));l=t.finishedWork;var u=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var g=l.lanes|l.childLanes;if(M0(t,g),t===Jt&&(Tt=Jt=null,Zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||dl||(dl=!0,nh(yi,function(){return Kr(),null})),g=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||g){g=Cs.transition,Cs.transition=null;var N=it;it=1;var A=Ye;Ye|=4,Sc.current=null,Vx(t,l),Hm(l,t),yx(Io),Si=!!To,Io=To=null,t.current=l,qx(l),N0(),Ye=A,it=N,Cs.transition=g}else t.current=l;if(dl&&(dl=!1,Fa=t,ul=u),g=t.pendingLanes,g===0&&(Ra=null),k0(l.stateNode),hs(t,Et()),s!==null)for(c=t.onRecoverableError,l=0;l<s.length;l++)u=s[l],c(u.value,{componentStack:u.stack,digest:u.digest});if(cl)throw cl=!1,t=Ec,Ec=null,t;return(ul&1)!==0&&t.tag!==0&&Kr(),g=t.pendingLanes,(g&1)!==0?t===Ac?Wn++:(Wn=0,Ac=t):Wn=0,Ta(),null}function Kr(){if(Fa!==null){var t=Wd(ul),s=Cs.transition,l=it;try{if(Cs.transition=null,it=16>t?16:t,Fa===null)var c=!1;else{if(t=Fa,Fa=null,ul=0,(Ye&6)!==0)throw Error(r(331));var u=Ye;for(Ye|=4,ye=t.current;ye!==null;){var g=ye,N=g.child;if((ye.flags&16)!==0){var A=g.deletions;if(A!==null){for(var T=0;T<A.length;T++){var X=A[T];for(ye=X;ye!==null;){var ie=ye;switch(ie.tag){case 0:case 11:case 15:Bn(8,ie,g)}var le=ie.child;if(le!==null)le.return=ie,ye=le;else for(;ye!==null;){ie=ye;var ne=ie.sibling,fe=ie.return;if(Bm(ie),ie===X){ye=null;break}if(ne!==null){ne.return=fe,ye=ne;break}ye=fe}}}var je=g.alternate;if(je!==null){var we=je.child;if(we!==null){je.child=null;do{var At=we.sibling;we.sibling=null,we=At}while(we!==null)}}ye=g}}if((g.subtreeFlags&2064)!==0&&N!==null)N.return=g,ye=N;else e:for(;ye!==null;){if(g=ye,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Bn(9,g,g.return)}var q=g.sibling;if(q!==null){q.return=g.return,ye=q;break e}ye=g.return}}var B=t.current;for(ye=B;ye!==null;){N=ye;var G=N.child;if((N.subtreeFlags&2064)!==0&&G!==null)G.return=N,ye=G;else e:for(N=B;ye!==null;){if(A=ye,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:il(9,A)}}catch(ke){Ct(A,A.return,ke)}if(A===N){ye=null;break e}var de=A.sibling;if(de!==null){de.return=A.return,ye=de;break e}ye=A.return}}if(Ye=u,Ta(),Ys&&typeof Ys.onPostCommitFiberRoot=="function")try{Ys.onPostCommitFiberRoot(vi,t)}catch{}c=!0}return c}finally{it=l,Cs.transition=s}}return!1}function sh(t,s,l){s=Jr(l,s),s=bm(t,s,1),t=La(t,s,1),s=is(),t!==null&&(hn(t,1,s),hs(t,s))}function Ct(t,s,l){if(t.tag===3)sh(t,t,l);else for(;s!==null;){if(s.tag===3){sh(s,t,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ra===null||!Ra.has(c))){t=Jr(l,t),t=jm(s,t,1),s=La(s,t,1),t=is(),s!==null&&(hn(s,1,t),hs(s,t));break}}s=s.return}}function Xx(t,s,l){var c=t.pingCache;c!==null&&c.delete(s),s=is(),t.pingedLanes|=t.suspendedLanes&l,Jt===t&&(Zt&l)===l&&($t===4||$t===3&&(Zt&130023424)===Zt&&500>Et()-Cc?cr(t,0):kc|=l),hs(t,s)}function ah(t,s){s===0&&((t.mode&1)===0?s=1:(s=ji,ji<<=1,(ji&130023424)===0&&(ji=4194304)));var l=is();t=ca(t,s),t!==null&&(hn(t,s,l),hs(t,l))}function eg(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),ah(t,l)}function tg(t,s){var l=0;switch(t.tag){case 13:var c=t.stateNode,u=t.memoizedState;u!==null&&(l=u.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(s),ah(t,l)}var rh;rh=function(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps||cs.current)us=!0;else{if((t.lanes&l)===0&&(s.flags&128)===0)return us=!1,zx(t,s,l);us=(t.flags&131072)!==0}else us=!1,wt&&(s.flags&1048576)!==0&&Ru(s,Wi,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;rl(t,s),t=s.pendingProps;var u=Or(s,ts.current);zr(s,l),u=rc(null,s,c,t,u,l);var g=nc();return s.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,ds(c)?(g=!0,Bi(s)):g=!1,s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Qo(s),u.updater=sl,s.stateNode=u,u._reactInternals=s,uc(s,c,t,l),s=xc(null,s,c,!0,g,l)):(s.tag=0,wt&&g&&Uo(s),ns(null,s,u,l),s=s.child),s;case 16:c=s.elementType;e:{switch(rl(t,s),t=s.pendingProps,u=c._init,c=u(c._payload),s.type=c,u=s.tag=ag(c),t=$s(c,t),u){case 0:s=pc(null,s,c,t,l);break e;case 1:s=Dm(null,s,c,t,l);break e;case 11:s=Sm(null,s,c,t,l);break e;case 14:s=km(null,s,c,$s(c.type,t),l);break e}throw Error(r(306,c,""))}return s;case 0:return c=s.type,u=s.pendingProps,u=s.elementType===c?u:$s(c,u),pc(t,s,c,u,l);case 1:return c=s.type,u=s.pendingProps,u=s.elementType===c?u:$s(c,u),Dm(t,s,c,u,l);case 3:e:{if(Pm(s),t===null)throw Error(r(387));c=s.pendingProps,g=s.memoizedState,u=g.element,Vu(t,s),Yi(s,c,null,l);var N=s.memoizedState;if(c=N.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){u=Jr(Error(r(423)),s),s=Mm(t,s,c,l,u);break e}else if(c!==u){u=Jr(Error(r(424)),s),s=Mm(t,s,c,l,u);break e}else for(vs=Da(s.stateNode.containerInfo.firstChild),ys=s,wt=!0,Fs=null,l=Ju(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($r(),c===u){s=ua(t,s,l);break e}ns(t,s,c,l)}s=s.child}return s;case 5:return Yu(s),t===null&&Jo(s),c=s.type,u=s.pendingProps,g=t!==null?t.memoizedProps:null,N=u.children,Lo(c,u)?N=null:g!==null&&Lo(c,g)&&(s.flags|=32),Am(t,s),ns(t,s,N,l),s.child;case 6:return t===null&&Jo(s),null;case 13:return Tm(t,s,l);case 4:return Zo(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Br(s,null,c,l):ns(t,s,c,l),s.child;case 11:return c=s.type,u=s.pendingProps,u=s.elementType===c?u:$s(c,u),Sm(t,s,c,u,l);case 7:return ns(t,s,s.pendingProps,l),s.child;case 8:return ns(t,s,s.pendingProps.children,l),s.child;case 12:return ns(t,s,s.pendingProps.children,l),s.child;case 10:e:{if(c=s.type._context,u=s.pendingProps,g=s.memoizedProps,N=u.value,xt(Vi,c._currentValue),c._currentValue=N,g!==null)if(Rs(g.value,N)){if(g.children===u.children&&!cs.current){s=ua(t,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){N=g.child;for(var T=A.firstContext;T!==null;){if(T.context===c){if(g.tag===1){T=da(-1,l&-l),T.tag=2;var X=g.updateQueue;if(X!==null){X=X.shared;var ie=X.pending;ie===null?T.next=T:(T.next=ie.next,ie.next=T),X.pending=T}}g.lanes|=l,T=g.alternate,T!==null&&(T.lanes|=l),Yo(g.return,l,s),A.lanes|=l;break}T=T.next}}else if(g.tag===10)N=g.type===s.type?null:g.child;else if(g.tag===18){if(N=g.return,N===null)throw Error(r(341));N.lanes|=l,A=N.alternate,A!==null&&(A.lanes|=l),Yo(N,l,s),N=g.sibling}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===s){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}ns(t,s,u.children,l),s=s.child}return s;case 9:return u=s.type,c=s.pendingProps.children,zr(s,l),u=Ss(u),c=c(u),s.flags|=1,ns(t,s,c,l),s.child;case 14:return c=s.type,u=$s(c,s.pendingProps),u=$s(c.type,u),km(t,s,c,u,l);case 15:return Cm(t,s,s.type,s.pendingProps,l);case 17:return c=s.type,u=s.pendingProps,u=s.elementType===c?u:$s(c,u),rl(t,s),s.tag=1,ds(c)?(t=!0,Bi(s)):t=!1,zr(s,l),ym(s,c,u),uc(s,c,u,l),xc(null,s,c,!0,t,l);case 19:return Lm(t,s,l);case 22:return Em(t,s,l)}throw Error(r(156,s.tag))};function nh(t,s){return Fd(t,s)}function sg(t,s,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(t,s,l,c){return new sg(t,s,l,c)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ag(t){if(typeof t=="function")return Lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===H)return 14}return 2}function Ua(t,s){var l=t.alternate;return l===null?(l=Es(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function xl(t,s,l,c,u,g){var N=2;if(c=t,typeof t=="function")Lc(t)&&(N=1);else if(typeof t=="string")N=5;else e:switch(t){case te:return ur(l.children,u,g,s);case Q:N=8,u|=8;break;case se:return t=Es(12,l,s,u|2),t.elementType=se,t.lanes=g,t;case V:return t=Es(13,l,s,u),t.elementType=V,t.lanes=g,t;case D:return t=Es(19,l,s,u),t.elementType=D,t.lanes=g,t;case re:return gl(l,u,g,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:N=10;break e;case pe:N=9;break e;case L:N=11;break e;case H:N=14;break e;case w:N=16,c=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return s=Es(N,l,s,u),s.elementType=t,s.type=c,s.lanes=g,s}function ur(t,s,l,c){return t=Es(7,t,c,s),t.lanes=l,t}function gl(t,s,l,c){return t=Es(22,t,c,s),t.elementType=re,t.lanes=l,t.stateNode={isHidden:!1},t}function Oc(t,s,l){return t=Es(6,t,null,s),t.lanes=l,t}function Rc(t,s,l){return s=Es(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function rg(t,s,l,c,u){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=co(0),this.expirationTimes=co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=co(0),this.identifierPrefix=c,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Fc(t,s,l,c,u,g,N,A,T){return t=new rg(t,s,l,A,T),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Es(3,null,null,s),t.current=g,g.stateNode=t,g.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qo(g),t}function ng(t,s,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:c==null?null:""+c,children:t,containerInfo:s,implementation:l}}function ih(t){if(!t)return Ma;t=t._reactInternals;e:{if(Xa(t)!==t||t.tag!==1)throw Error(r(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ds(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(t.tag===1){var l=t.type;if(ds(l))return Iu(t,l,s)}return s}function lh(t,s,l,c,u,g,N,A,T){return t=Fc(l,c,!0,t,u,g,N,A,T),t.context=ih(null),l=t.current,c=is(),u=$a(l),g=da(c,u),g.callback=s??null,La(l,g,u),t.current.lanes=u,hn(t,u,c),hs(t,c),t}function fl(t,s,l,c){var u=s.current,g=is(),N=$a(u);return l=ih(l),s.context===null?s.context=l:s.pendingContext=l,s=da(g,N),s.payload={element:t},c=c===void 0?null:c,c!==null&&(s.callback=c),t=La(u,s,N),t!==null&&(zs(t,u,N,g),Ki(t,u,N)),N}function yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oh(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function $c(t,s){oh(t,s),(t=t.alternate)&&oh(t,s)}function ig(){return null}var ch=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bc(t){this._internalRoot=t}vl.prototype.render=Bc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));fl(t,s,null,null)},vl.prototype.unmount=Bc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;or(function(){fl(null,t,null,null)}),s[na]=null}};function vl(t){this._internalRoot=t}vl.prototype.unstable_scheduleHydration=function(t){if(t){var s=Vd();t={blockedOn:null,target:t,priority:s};for(var l=0;l<Ca.length&&s!==0&&s<Ca[l].priority;l++);Ca.splice(l,0,t),l===0&&Yd(t)}};function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dh(){}function lg(t,s,l,c,u){if(u){if(typeof c=="function"){var g=c;c=function(){var X=yl(N);g.call(X)}}var N=lh(s,c,t,0,null,!1,!1,"",dh);return t._reactRootContainer=N,t[na]=N.current,Cn(t.nodeType===8?t.parentNode:t),or(),N}for(;u=t.lastChild;)t.removeChild(u);if(typeof c=="function"){var A=c;c=function(){var X=yl(T);A.call(X)}}var T=Fc(t,0,!1,null,null,!1,!1,"",dh);return t._reactRootContainer=T,t[na]=T.current,Cn(t.nodeType===8?t.parentNode:t),or(function(){fl(s,T,l,c)}),T}function jl(t,s,l,c,u){var g=l._reactRootContainer;if(g){var N=g;if(typeof u=="function"){var A=u;u=function(){var T=yl(N);A.call(T)}}fl(s,N,t,u)}else N=lg(l,s,t,u,c);return yl(N)}Jd=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var l=mn(s.pendingLanes);l!==0&&(uo(s,l|1),hs(s,Et()),(Ye&6)===0&&(qr=Et()+500,Ta()))}break;case 13:or(function(){var c=ca(t,1);if(c!==null){var u=is();zs(c,t,1,u)}}),$c(t,1)}},mo=function(t){if(t.tag===13){var s=ca(t,134217728);if(s!==null){var l=is();zs(s,t,134217728,l)}$c(t,134217728)}},Hd=function(t){if(t.tag===13){var s=$a(t),l=ca(t,s);if(l!==null){var c=is();zs(l,t,s,c)}$c(t,s)}},Vd=function(){return it},qd=function(t,s){var l=it;try{return it=t,s()}finally{it=l}},ws=function(t,s,l){switch(s){case"input":if(Be(t,l),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==t&&c.form===t.form){var u=Fi(c);if(!u)throw Error(r(90));Le(c),Be(c,u)}}}break;case"textarea":ra(t,l);break;case"select":s=l.value,s!=null&&rt(t,!!l.multiple,s,!1)}},zt=Mc,cn=or;var og={usingClientEntryPoint:!1,Events:[Dn,Ir,Fi,ze,ut,Mc]},Jn={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cg={bundleType:Jn.bundleType,version:Jn.version,rendererPackageName:Jn.rendererPackageName,rendererConfig:Jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Od(t),t===null?null:t.stateNode},findFiberByHostInstance:Jn.findFiberByHostInstance||ig,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{vi=wl.inject(cg),Ys=wl}catch{}}return ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og,ps.createPortal=function(t,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uc(s))throw Error(r(200));return ng(t,s,null,l)},ps.createRoot=function(t,s){if(!Uc(t))throw Error(r(299));var l=!1,c="",u=ch;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(u=s.onRecoverableError)),s=Fc(t,1,!1,null,null,l,!1,c,u),t[na]=s.current,Cn(t.nodeType===8?t.parentNode:t),new Bc(s)},ps.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=Od(s),t=t===null?null:t.stateNode,t},ps.flushSync=function(t){return or(t)},ps.hydrate=function(t,s,l){if(!bl(s))throw Error(r(200));return jl(null,t,s,!0,l)},ps.hydrateRoot=function(t,s,l){if(!Uc(t))throw Error(r(405));var c=l!=null&&l.hydratedSources||null,u=!1,g="",N=ch;if(l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(N=l.onRecoverableError)),s=lh(s,null,t,1,l??null,u,!1,g,N),t[na]=s.current,Cn(t),c)for(t=0;t<c.length;t++)l=c[t],u=l._getVersion,u=u(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,u]:s.mutableSourceEagerHydrationData.push(l,u);return new vl(s)},ps.render=function(t,s,l){if(!bl(s))throw Error(r(200));return jl(null,t,s,!1,l)},ps.unmountComponentAtNode=function(t){if(!bl(t))throw Error(r(40));return t._reactRootContainer?(or(function(){jl(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1},ps.unstable_batchedUpdates=Mc,ps.unstable_renderSubtreeIntoContainer=function(t,s,l,c){if(!bl(l))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return jl(t,s,l,!1,c)},ps.version="18.3.1-next-f1338f8080-20240426",ps}var yh;function np(){if(yh)return Jc.exports;yh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Jc.exports=yg(),Jc.exports}var vh;function vg(){if(vh)return Nl;vh=1;var n=np();return Nl.createRoot=n.createRoot,Nl.hydrateRoot=n.hydrateRoot,Nl}var bg=vg();const jg=ap(bg);var wg=np();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ei(){return ei=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ei.apply(this,arguments)}var Va;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Va||(Va={}));const bh="popstate";function Ng(n){n===void 0&&(n={});function a(i,o){let{pathname:d,search:m,hash:p}=i.location;return ad("",{pathname:d,search:m,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Fl(o)}return Sg(a,r,null,n)}function Lt(n,a){if(n===!1||n===null||typeof n>"u")throw new Error(a)}function ip(n,a){if(!n){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function _g(){return Math.random().toString(36).substr(2,8)}function jh(n,a){return{usr:n.state,key:n.key,idx:a}}function ad(n,a,r,i){return r===void 0&&(r=null),ei({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof a=="string"?ln(a):a,{state:r,key:a&&a.key||i||_g()})}function Fl(n){let{pathname:a="/",search:r="",hash:i=""}=n;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function ln(n){let a={};if(n){let r=n.indexOf("#");r>=0&&(a.hash=n.substr(r),n=n.substr(0,r));let i=n.indexOf("?");i>=0&&(a.search=n.substr(i),n=n.substr(0,i)),n&&(a.pathname=n)}return a}function Sg(n,a,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:d=!1}=i,m=o.history,p=Va.Pop,x=null,f=v();f==null&&(f=0,m.replaceState(ei({},m.state,{idx:f}),""));function v(){return(m.state||{idx:null}).idx}function h(){p=Va.Pop;let $=v(),O=$==null?null:$-f;f=$,x&&x({action:p,location:E.location,delta:O})}function _($,O){p=Va.Push;let z=ad(E.location,$,O);f=v()+1;let R=jh(z,f),K=E.createHref(z);try{m.pushState(R,"",K)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;o.location.assign(K)}d&&x&&x({action:p,location:E.location,delta:1})}function F($,O){p=Va.Replace;let z=ad(E.location,$,O);f=v();let R=jh(z,f),K=E.createHref(z);m.replaceState(R,"",K),d&&x&&x({action:p,location:E.location,delta:0})}function I($){let O=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof $=="string"?$:Fl($);return z=z.replace(/ $/,"%20"),Lt(O,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,O)}let E={get action(){return p},get location(){return n(o,m)},listen($){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(bh,h),x=$,()=>{o.removeEventListener(bh,h),x=null}},createHref($){return a(o,$)},createURL:I,encodeLocation($){let O=I($);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:F,go($){return m.go($)}};return E}var wh;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(wh||(wh={}));function kg(n,a,r){return r===void 0&&(r="/"),Cg(n,a,r)}function Cg(n,a,r,i){let o=typeof a=="string"?ln(a):a,d=fd(o.pathname||"/",r);if(d==null)return null;let m=lp(n);Eg(m);let p=null;for(let x=0;p==null&&x<m.length;++x){let f=Bg(d);p=Rg(m[x],f)}return p}function lp(n,a,r,i){a===void 0&&(a=[]),r===void 0&&(r=[]),i===void 0&&(i="");let o=(d,m,p)=>{let x={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};x.relativePath.startsWith("/")&&(Lt(x.relativePath.startsWith(i),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(i.length));let f=qa([i,x.relativePath]),v=r.concat(x);d.children&&d.children.length>0&&(Lt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),lp(d.children,a,v,f)),!(d.path==null&&!d.index)&&a.push({path:f,score:Lg(f,d.index),routesMeta:v})};return n.forEach((d,m)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))o(d,m);else for(let x of op(d.path))o(d,m,x)}),a}function op(n){let a=n.split("/");if(a.length===0)return[];let[r,...i]=a,o=r.endsWith("?"),d=r.replace(/\?$/,"");if(i.length===0)return o?[d,""]:[d];let m=op(i.join("/")),p=[];return p.push(...m.map(x=>x===""?d:[d,x].join("/"))),o&&p.push(...m),p.map(x=>n.startsWith("/")&&x===""?"/":x)}function Eg(n){n.sort((a,r)=>a.score!==r.score?r.score-a.score:Og(a.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const Ag=/^:[\w-]+$/,Dg=3,Pg=2,Mg=1,Tg=10,Ig=-2,Nh=n=>n==="*";function Lg(n,a){let r=n.split("/"),i=r.length;return r.some(Nh)&&(i+=Ig),a&&(i+=Pg),r.filter(o=>!Nh(o)).reduce((o,d)=>o+(Ag.test(d)?Dg:d===""?Mg:Tg),i)}function Og(n,a){return n.length===a.length&&n.slice(0,-1).every((i,o)=>i===a[o])?n[n.length-1]-a[a.length-1]:0}function Rg(n,a,r){let{routesMeta:i}=n,o={},d="/",m=[];for(let p=0;p<i.length;++p){let x=i[p],f=p===i.length-1,v=d==="/"?a:a.slice(d.length)||"/",h=Fg({path:x.relativePath,caseSensitive:x.caseSensitive,end:f},v),_=x.route;if(!h)return null;Object.assign(o,h.params),m.push({params:o,pathname:qa([d,h.pathname]),pathnameBase:Jg(qa([d,h.pathnameBase])),route:_}),h.pathnameBase!=="/"&&(d=qa([d,h.pathnameBase]))}return m}function Fg(n,a){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,i]=$g(n.path,n.caseSensitive,n.end),o=a.match(r);if(!o)return null;let d=o[0],m=d.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((f,v,h)=>{let{paramName:_,isOptional:F}=v;if(_==="*"){let E=p[h]||"";m=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const I=p[h];return F&&!I?f[_]=void 0:f[_]=(I||"").replace(/%2F/g,"/"),f},{}),pathname:d,pathnameBase:m,pattern:n}}function $g(n,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),ip(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,x)=>(i.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),i]}function Bg(n){try{return n.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return ip(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),n}}function fd(n,a){if(a==="/")return n;if(!n.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,i=n.charAt(r);return i&&i!=="/"?null:n.slice(r)||"/"}function Ug(n,a){a===void 0&&(a="/");let{pathname:r,search:i="",hash:o=""}=typeof n=="string"?ln(n):n;return{pathname:r?r.startsWith("/")?r:zg(r,a):a,search:Hg(i),hash:Vg(o)}}function zg(n,a){let r=a.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function qc(n,a,r,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wg(n){return n.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function cp(n,a){let r=Wg(n);return a?r.map((i,o)=>o===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function dp(n,a,r,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=ln(n):(o=ei({},n),Lt(!o.pathname||!o.pathname.includes("?"),qc("?","pathname","search",o)),Lt(!o.pathname||!o.pathname.includes("#"),qc("#","pathname","hash",o)),Lt(!o.search||!o.search.includes("#"),qc("#","search","hash",o)));let d=n===""||o.pathname==="",m=d?"/":o.pathname,p;if(m==null)p=r;else{let h=a.length-1;if(!i&&m.startsWith("..")){let _=m.split("/");for(;_[0]==="..";)_.shift(),h-=1;o.pathname=_.join("/")}p=h>=0?a[h]:"/"}let x=Ug(o,p),f=m&&m!=="/"&&m.endsWith("/"),v=(d||m===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(f||v)&&(x.pathname+="/"),x}const qa=n=>n.join("/").replace(/\/\/+/g,"/"),Jg=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Hg=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Vg=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const up=["post","put","patch","delete"];new Set(up);const Kg=["get",...up];new Set(Kg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ti.apply(this,arguments)}const yd=j.createContext(null),Yg=j.createContext(null),_r=j.createContext(null),Gl=j.createContext(null),Ga=j.createContext({outlet:null,matches:[],isDataRoute:!1}),mp=j.createContext(null);function Gg(n,a){let{relative:r}=a===void 0?{}:a;ii()||Lt(!1);let{basename:i,navigator:o}=j.useContext(_r),{hash:d,pathname:m,search:p}=xp(n,{relative:r}),x=m;return i!=="/"&&(x=m==="/"?i:qa([i,m])),o.createHref({pathname:x,search:p,hash:d})}function ii(){return j.useContext(Gl)!=null}function Qa(){return ii()||Lt(!1),j.useContext(Gl).location}function hp(n){j.useContext(_r).static||j.useLayoutEffect(n)}function ba(){let{isDataRoute:n}=j.useContext(Ga);return n?df():Qg()}function Qg(){ii()||Lt(!1);let n=j.useContext(yd),{basename:a,future:r,navigator:i}=j.useContext(_r),{matches:o}=j.useContext(Ga),{pathname:d}=Qa(),m=JSON.stringify(cp(o,r.v7_relativeSplatPath)),p=j.useRef(!1);return hp(()=>{p.current=!0}),j.useCallback(function(f,v){if(v===void 0&&(v={}),!p.current)return;if(typeof f=="number"){i.go(f);return}let h=dp(f,JSON.parse(m),d,v.relative==="path");n==null&&a!=="/"&&(h.pathname=h.pathname==="/"?a:qa([a,h.pathname])),(v.replace?i.replace:i.push)(h,v.state,v)},[a,i,m,d,n])}function pp(){let{matches:n}=j.useContext(Ga),a=n[n.length-1];return a?a.params:{}}function xp(n,a){let{relative:r}=a===void 0?{}:a,{future:i}=j.useContext(_r),{matches:o}=j.useContext(Ga),{pathname:d}=Qa(),m=JSON.stringify(cp(o,i.v7_relativeSplatPath));return j.useMemo(()=>dp(n,JSON.parse(m),d,r==="path"),[n,m,d,r])}function Zg(n,a){return Xg(n,a)}function Xg(n,a,r,i){ii()||Lt(!1);let{navigator:o}=j.useContext(_r),{matches:d}=j.useContext(Ga),m=d[d.length-1],p=m?m.params:{};m&&m.pathname;let x=m?m.pathnameBase:"/";m&&m.route;let f=Qa(),v;if(a){var h;let $=typeof a=="string"?ln(a):a;x==="/"||(h=$.pathname)!=null&&h.startsWith(x)||Lt(!1),v=$}else v=f;let _=v.pathname||"/",F=_;if(x!=="/"){let $=x.replace(/^\//,"").split("/");F="/"+_.replace(/^\//,"").split("/").slice($.length).join("/")}let I=kg(n,{pathname:F}),E=rf(I&&I.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:qa([x,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?x:qa([x,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),d,r,i);return a&&E?j.createElement(Gl.Provider,{value:{location:ti({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Va.Pop}},E):E}function ef(){let n=cf(),a=qg(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},a),r?j.createElement("pre",{style:o},r):null,null)}const tf=j.createElement(ef,null);class sf extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?j.createElement(Ga.Provider,{value:this.props.routeContext},j.createElement(mp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function af(n){let{routeContext:a,match:r,children:i}=n,o=j.useContext(yd);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ga.Provider,{value:a},i)}function rf(n,a,r,i){var o;if(a===void 0&&(a=[]),r===void 0&&(r=null),i===void 0&&(i=null),n==null){var d;if(!r)return null;if(r.errors)n=r.matches;else if((d=i)!=null&&d.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let m=n,p=(o=r)==null?void 0:o.errors;if(p!=null){let v=m.findIndex(h=>h.route.id&&p?.[h.route.id]!==void 0);v>=0||Lt(!1),m=m.slice(0,Math.min(m.length,v+1))}let x=!1,f=-1;if(r&&i&&i.v7_partialHydration)for(let v=0;v<m.length;v++){let h=m[v];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=v),h.route.id){let{loaderData:_,errors:F}=r,I=h.route.loader&&_[h.route.id]===void 0&&(!F||F[h.route.id]===void 0);if(h.route.lazy||I){x=!0,f>=0?m=m.slice(0,f+1):m=[m[0]];break}}}return m.reduceRight((v,h,_)=>{let F,I=!1,E=null,$=null;r&&(F=p&&h.route.id?p[h.route.id]:void 0,E=h.route.errorElement||tf,x&&(f<0&&_===0?(uf("route-fallback"),I=!0,$=null):f===_&&(I=!0,$=h.route.hydrateFallbackElement||null)));let O=a.concat(m.slice(0,_+1)),z=()=>{let R;return F?R=E:I?R=$:h.route.Component?R=j.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=v,j.createElement(af,{match:h,routeContext:{outlet:v,matches:O,isDataRoute:r!=null},children:R})};return r&&(h.route.ErrorBoundary||h.route.errorElement||_===0)?j.createElement(sf,{location:r.location,revalidation:r.revalidation,component:E,error:F,children:z(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):z()},null)}var gp=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(gp||{}),fp=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(fp||{});function nf(n){let a=j.useContext(yd);return a||Lt(!1),a}function lf(n){let a=j.useContext(Yg);return a||Lt(!1),a}function of(n){let a=j.useContext(Ga);return a||Lt(!1),a}function yp(n){let a=of(),r=a.matches[a.matches.length-1];return r.route.id||Lt(!1),r.route.id}function cf(){var n;let a=j.useContext(mp),r=lf(),i=yp();return a!==void 0?a:(n=r.errors)==null?void 0:n[i]}function df(){let{router:n}=nf(gp.UseNavigateStable),a=yp(fp.UseNavigateStable),r=j.useRef(!1);return hp(()=>{r.current=!0}),j.useCallback(function(o,d){d===void 0&&(d={}),r.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ti({fromRouteId:a},d)))},[n,a])}const _h={};function uf(n,a,r){_h[n]||(_h[n]=!0)}function mf(n,a){n?.v7_startTransition,n?.v7_relativeSplatPath}function Bt(n){Lt(!1)}function hf(n){let{basename:a="/",children:r=null,location:i,navigationType:o=Va.Pop,navigator:d,static:m=!1,future:p}=n;ii()&&Lt(!1);let x=a.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:x,navigator:d,static:m,future:ti({v7_relativeSplatPath:!1},p)}),[x,p,d,m]);typeof i=="string"&&(i=ln(i));let{pathname:v="/",search:h="",hash:_="",state:F=null,key:I="default"}=i,E=j.useMemo(()=>{let $=fd(v,x);return $==null?null:{location:{pathname:$,search:h,hash:_,state:F,key:I},navigationType:o}},[x,v,h,_,F,I,o]);return E==null?null:j.createElement(_r.Provider,{value:f},j.createElement(Gl.Provider,{children:r,value:E}))}function rd(n){let{children:a,location:r}=n;return Zg(nd(a),r)}new Promise(()=>{});function nd(n,a){a===void 0&&(a=[]);let r=[];return j.Children.forEach(n,(i,o)=>{if(!j.isValidElement(i))return;let d=[...a,o];if(i.type===j.Fragment){r.push.apply(r,nd(i.props.children,d));return}i.type!==Bt&&Lt(!1),!i.props.index||!i.props.children||Lt(!1);let m={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(m.children=nd(i.props.children,d)),r.push(m)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},id.apply(this,arguments)}function pf(n,a){if(n==null)return{};var r={},i=Object.keys(n),o,d;for(d=0;d<i.length;d++)o=i[d],!(a.indexOf(o)>=0)&&(r[o]=n[o]);return r}function xf(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gf(n,a){return n.button===0&&(!a||a==="_self")&&!xf(n)}function ld(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((a,r)=>{let i=n[r];return a.concat(Array.isArray(i)?i.map(o=>[r,o]):[[r,i]])},[]))}function ff(n,a){let r=ld(n);return a&&a.forEach((i,o)=>{r.has(o)||a.getAll(o).forEach(d=>{r.append(o,d)})}),r}const yf=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vf="6";try{window.__reactRouterVersion=vf}catch{}const bf="startTransition",Sh=xg[bf];function jf(n){let{basename:a,children:r,future:i,window:o}=n,d=j.useRef();d.current==null&&(d.current=Ng({window:o,v5Compat:!0}));let m=d.current,[p,x]=j.useState({action:m.action,location:m.location}),{v7_startTransition:f}=i||{},v=j.useCallback(h=>{f&&Sh?Sh(()=>x(h)):x(h)},[x,f]);return j.useLayoutEffect(()=>m.listen(v),[m,v]),j.useEffect(()=>mf(i),[i]),j.createElement(hf,{basename:a,children:r,location:p.location,navigationType:p.action,navigator:m,future:i})}const wf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=j.forwardRef(function(a,r){let{onClick:i,relative:o,reloadDocument:d,replace:m,state:p,target:x,to:f,preventScrollReset:v,viewTransition:h}=a,_=pf(a,yf),{basename:F}=j.useContext(_r),I,E=!1;if(typeof f=="string"&&Nf.test(f)&&(I=f,wf))try{let R=new URL(window.location.href),K=f.startsWith("//")?new URL(R.protocol+f):new URL(f),Z=fd(K.pathname,F);K.origin===R.origin&&Z!=null?f=Z+K.search+K.hash:E=!0}catch{}let $=Gg(f,{relative:o}),O=_f(f,{replace:m,state:p,target:x,preventScrollReset:v,relative:o,viewTransition:h});function z(R){i&&i(R),R.defaultPrevented||O(R)}return j.createElement("a",id({},_,{href:I||$,onClick:E||d?i:z,ref:r,target:x}))});var kh;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(kh||(kh={}));var Ch;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Ch||(Ch={}));function _f(n,a){let{target:r,replace:i,state:o,preventScrollReset:d,relative:m,viewTransition:p}=a===void 0?{}:a,x=ba(),f=Qa(),v=xp(n,{relative:m});return j.useCallback(h=>{if(gf(h,r)){h.preventDefault();let _=i!==void 0?i:Fl(f)===Fl(v);x(n,{replace:_,state:o,preventScrollReset:d,relative:m,viewTransition:p})}},[f,x,v,i,o,r,n,d,m,p])}function vp(n){let a=j.useRef(ld(n)),r=j.useRef(!1),i=Qa(),o=j.useMemo(()=>ff(i.search,r.current?null:a.current),[i.search]),d=ba(),m=j.useCallback((p,x)=>{const f=ld(typeof p=="function"?p(o):p);r.current=!0,d("?"+f,x)},[d,o]);return[o,m]}var Ql=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zl=typeof window>"u"||"Deno"in globalThis;function Vs(){}function Sf(n,a){return typeof n=="function"?n(a):n}function kf(n){return typeof n=="number"&&n>=0&&n!==1/0}function Cf(n,a){return Math.max(n+(a||0)-Date.now(),0)}function od(n,a){return typeof n=="function"?n(a):n}function Ef(n,a){return typeof n=="function"?n(a):n}function Eh(n,a){const{type:r="all",exact:i,fetchStatus:o,predicate:d,queryKey:m,stale:p}=n;if(m){if(i){if(a.queryHash!==vd(m,a.options))return!1}else if(!ai(a.queryKey,m))return!1}if(r!=="all"){const x=a.isActive();if(r==="active"&&!x||r==="inactive"&&x)return!1}return!(typeof p=="boolean"&&a.isStale()!==p||o&&o!==a.state.fetchStatus||d&&!d(a))}function Ah(n,a){const{exact:r,status:i,predicate:o,mutationKey:d}=n;if(d){if(!a.options.mutationKey)return!1;if(r){if(si(a.options.mutationKey)!==si(d))return!1}else if(!ai(a.options.mutationKey,d))return!1}return!(i&&a.state.status!==i||o&&!o(a))}function vd(n,a){return(a?.queryKeyHashFn||si)(n)}function si(n){return JSON.stringify(n,(a,r)=>cd(r)?Object.keys(r).sort().reduce((i,o)=>(i[o]=r[o],i),{}):r)}function ai(n,a){return n===a?!0:typeof n!=typeof a?!1:n&&a&&typeof n=="object"&&typeof a=="object"?Object.keys(a).every(r=>ai(n[r],a[r])):!1}function bp(n,a){if(n===a)return n;const r=Dh(n)&&Dh(a);if(r||cd(n)&&cd(a)){const i=r?n:Object.keys(n),o=i.length,d=r?a:Object.keys(a),m=d.length,p=r?[]:{},x=new Set(i);let f=0;for(let v=0;v<m;v++){const h=r?v:d[v];(!r&&x.has(h)||r)&&n[h]===void 0&&a[h]===void 0?(p[h]=void 0,f++):(p[h]=bp(n[h],a[h]),p[h]===n[h]&&n[h]!==void 0&&f++)}return o===m&&f===o?n:p}return a}function Dh(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function cd(n){if(!Ph(n))return!1;const a=n.constructor;if(a===void 0)return!0;const r=a.prototype;return!(!Ph(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Ph(n){return Object.prototype.toString.call(n)==="[object Object]"}function Af(n){return new Promise(a=>{setTimeout(a,n)})}function Df(n,a,r){return typeof r.structuralSharing=="function"?r.structuralSharing(n,a):r.structuralSharing!==!1?bp(n,a):a}function Pf(n,a,r=0){const i=[...n,a];return r&&i.length>r?i.slice(1):i}function Mf(n,a,r=0){const i=[a,...n];return r&&i.length>r?i.slice(0,-1):i}var bd=Symbol();function jp(n,a){return!n.queryFn&&a?.initialPromise?()=>a.initialPromise:!n.queryFn||n.queryFn===bd?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Tf=class extends Ql{#e;#t;#s;constructor(){super(),this.#s=n=>{if(!Zl&&window.addEventListener){const a=()=>n();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#s=n,this.#t?.(),this.#t=n(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(a=>{a(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},wp=new Tf,If=class extends Ql{#e=!0;#t;#s;constructor(){super(),this.#s=n=>{if(!Zl&&window.addEventListener){const a=()=>n(!0),r=()=>n(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#s=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(r=>{r(n)}))}isOnline(){return this.#e}},$l=new If;function Lf(){let n,a;const r=new Promise((o,d)=>{n=o,a=d});r.status="pending",r.catch(()=>{});function i(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{i({status:"fulfilled",value:o}),n(o)},r.reject=o=>{i({status:"rejected",reason:o}),a(o)},r}function Of(n){return Math.min(1e3*2**n,3e4)}function Np(n){return(n??"online")==="online"?$l.isOnline():!0}var _p=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function Sp(n){let a=!1,r=0,i;const o=Lf(),d=()=>o.status!=="pending",m=E=>{d()||(_(new _p(E)),n.abort?.())},p=()=>{a=!0},x=()=>{a=!1},f=()=>wp.isFocused()&&(n.networkMode==="always"||$l.isOnline())&&n.canRun(),v=()=>Np(n.networkMode)&&n.canRun(),h=E=>{d()||(i?.(),o.resolve(E))},_=E=>{d()||(i?.(),o.reject(E))},F=()=>new Promise(E=>{i=$=>{(d()||f())&&E($)},n.onPause?.()}).then(()=>{i=void 0,d()||n.onContinue?.()}),I=()=>{if(d())return;let E;const $=r===0?n.initialPromise:void 0;try{E=$??n.fn()}catch(O){E=Promise.reject(O)}Promise.resolve(E).then(h).catch(O=>{if(d())return;const z=n.retry??(Zl?0:3),R=n.retryDelay??Of,K=typeof R=="function"?R(r,O):R,Z=z===!0||typeof z=="number"&&r<z||typeof z=="function"&&z(r,O);if(a||!Z){_(O);return}r++,n.onFail?.(r,O),Af(K).then(()=>f()?void 0:F()).then(()=>{a?_(O):I()})})};return{promise:o,status:()=>o.status,cancel:m,continue:()=>(i?.(),o),cancelRetry:p,continueRetry:x,canStart:v,start:()=>(v()?I():F().then(I),o)}}var Rf=n=>setTimeout(n,0);function Ff(){let n=[],a=0,r=p=>{p()},i=p=>{p()},o=Rf;const d=p=>{a?n.push(p):o(()=>{r(p)})},m=()=>{const p=n;n=[],p.length&&o(()=>{i(()=>{p.forEach(x=>{r(x)})})})};return{batch:p=>{let x;a++;try{x=p()}finally{a--,a||m()}return x},batchCalls:p=>(...x)=>{d(()=>{p(...x)})},schedule:d,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{o=p}}}var ls=Ff(),kp=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kf(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Zl?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},$f=class extends kp{#e;#t;#s;#r;#a;#i;#l;constructor(n){super(),this.#l=!1,this.#i=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#r=n.client,this.#s=this.#r.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=Uf(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(n){this.options={...this.#i,...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(n,a){const r=Df(this.state.data,n,this.options);return this.#n({data:r,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),r}setState(n,a){this.#n({type:"setState",state:n,setStateOptions:a})}cancel(n){const a=this.#a?.promise;return this.#a?.cancel(n),a?a.then(Vs).catch(Vs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>Ef(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>od(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Cf(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(a=>a!==n),this.observers.length||(this.#a&&(this.#l?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(n,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(x=>x.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#l=!0,r.signal)})},o=()=>{const p=jp(this.options,a),f=(()=>{const v={client:this.#r,queryKey:this.queryKey,meta:this.meta};return i(v),v})();return this.#l=!1,this.options.persister?this.options.persister(p,f,this):p(f)},m=(()=>{const p={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return i(p),p})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#n({type:"fetch",meta:m.fetchOptions?.meta}),this.#a=Sp({initialPromise:a?.initialPromise,fn:m.fetchFn,abort:r.abort.bind(r),onFail:(p,x)=>{this.#n({type:"failed",failureCount:p,error:x})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const p=await this.#a.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#s.config.onSuccess?.(p,this),this.#s.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof _p){if(p.silent)return this.#a.promise;if(p.revert){if(this.setState({...this.#t,fetchStatus:"idle"}),this.state.data===void 0)throw p;return this.state.data}}throw this.#n({type:"error",error:p}),this.#s.config.onError?.(p,this),this.#s.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#n(n){const a=r=>{switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Bf(r.data,this.options),fetchMeta:n.meta??null};case"success":const i={...r,data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?i:void 0,i;case"error":const o=n.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=a(this.state),ls.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:n})})}};function Bf(n,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Np(a.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Uf(n){const a=typeof n.initialData=="function"?n.initialData():n.initialData,r=a!==void 0,i=r?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zf=class extends Ql{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,a,r){const i=a.queryKey,o=a.queryHash??vd(i,a);let d=this.get(o);return d||(d=new $f({client:n,queryKey:i,queryHash:o,options:n.defaultQueryOptions(a),state:r,defaultOptions:n.getQueryDefaults(i)}),this.add(d)),d}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const a=this.#e.get(n.queryHash);a&&(n.destroy(),a===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){ls.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const a={exact:!0,...n};return this.getAll().find(r=>Eh(a,r))}findAll(n={}){const a=this.getAll();return Object.keys(n).length>0?a.filter(r=>Eh(n,r)):a}notify(n){ls.batch(()=>{this.listeners.forEach(a=>{a(n)})})}onFocus(){ls.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){ls.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Wf=class extends kp{#e;#t;#s;constructor(n){super(),this.mutationId=n.mutationId,this.#t=n.mutationCache,this.#e=[],this.state=n.state||Jf(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#e.includes(n)||(this.#e.push(n),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#e=this.#e.filter(a=>a!==n),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(n){const a=()=>{this.#r({type:"continue"})};this.#s=Sp({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(o,d)=>{this.#r({type:"failed",failureCount:o,error:d})},onPause:()=>{this.#r({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const r=this.state.status==="pending",i=!this.#s.canStart();try{if(r)a();else{this.#r({type:"pending",variables:n,isPaused:i}),await this.#t.config.onMutate?.(n,this);const d=await this.options.onMutate?.(n);d!==this.state.context&&this.#r({type:"pending",context:d,variables:n,isPaused:i})}const o=await this.#s.start();return await this.#t.config.onSuccess?.(o,n,this.state.context,this),await this.options.onSuccess?.(o,n,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,n,this.state.context),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,n,this.state.context,this),await this.options.onError?.(o,n,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,n,this.state.context),o}finally{this.#r({type:"error",error:o})}}finally{this.#t.runNext(this)}}#r(n){const a=r=>{switch(n.type){case"failed":return{...r,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...r,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:n.error,failureCount:r.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=a(this.state),ls.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(n)}),this.#t.notify({mutation:this,type:"updated",action:n})})}};function Jf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hf=class extends Ql{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(n,a,r){const i=new Wf({mutationCache:this,mutationId:++this.#s,options:n.defaultMutationOptions(a),state:r});return this.add(i),i}add(n){this.#e.add(n);const a=_l(n);if(typeof a=="string"){const r=this.#t.get(a);r?r.push(n):this.#t.set(a,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const a=_l(n);if(typeof a=="string"){const r=this.#t.get(a);if(r)if(r.length>1){const i=r.indexOf(n);i!==-1&&r.splice(i,1)}else r[0]===n&&this.#t.delete(a)}}this.notify({type:"removed",mutation:n})}canRun(n){const a=_l(n);if(typeof a=="string"){const i=this.#t.get(a)?.find(o=>o.state.status==="pending");return!i||i===n}else return!0}runNext(n){const a=_l(n);return typeof a=="string"?this.#t.get(a)?.find(i=>i!==n&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ls.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const a={exact:!0,...n};return this.getAll().find(r=>Ah(a,r))}findAll(n={}){return this.getAll().filter(a=>Ah(n,a))}notify(n){ls.batch(()=>{this.listeners.forEach(a=>{a(n)})})}resumePausedMutations(){const n=this.getAll().filter(a=>a.state.isPaused);return ls.batch(()=>Promise.all(n.map(a=>a.continue().catch(Vs))))}};function _l(n){return n.options.scope?.id}function Mh(n){return{onFetch:(a,r)=>{const i=a.options,o=a.fetchOptions?.meta?.fetchMore?.direction,d=a.state.data?.pages||[],m=a.state.data?.pageParams||[];let p={pages:[],pageParams:[]},x=0;const f=async()=>{let v=!1;const h=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(a.signal.aborted?v=!0:a.signal.addEventListener("abort",()=>{v=!0}),a.signal)})},_=jp(a.options,a.fetchOptions),F=async(I,E,$)=>{if(v)return Promise.reject();if(E==null&&I.pages.length)return Promise.resolve(I);const z=(()=>{const ee={client:a.client,queryKey:a.queryKey,pageParam:E,direction:$?"backward":"forward",meta:a.options.meta};return h(ee),ee})(),R=await _(z),{maxPages:K}=a.options,Z=$?Mf:Pf;return{pages:Z(I.pages,R,K),pageParams:Z(I.pageParams,E,K)}};if(o&&d.length){const I=o==="backward",E=I?Vf:Th,$={pages:d,pageParams:m},O=E(i,$);p=await F($,O,I)}else{const I=n??d.length;do{const E=x===0?m[0]??i.initialPageParam:Th(i,p);if(x>0&&E==null)break;p=await F(p,E),x++}while(x<I)}return p};a.options.persister?a.fetchFn=()=>a.options.persister?.(f,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},r):a.fetchFn=f}}}function Th(n,{pages:a,pageParams:r}){const i=a.length-1;return a.length>0?n.getNextPageParam(a[i],a,r[i],r):void 0}function Vf(n,{pages:a,pageParams:r}){return a.length>0?n.getPreviousPageParam?.(a[0],a,r[0],r):void 0}var qf=class{#e;#t;#s;#r;#a;#i;#l;#n;constructor(n={}){this.#e=n.queryCache||new zf,this.#t=n.mutationCache||new Hf,this.#s=n.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#l=wp.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=$l.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#l?.(),this.#l=void 0,this.#n?.(),this.#n=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const a=this.defaultQueryOptions({queryKey:n});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(n){const a=this.defaultQueryOptions(n),r=this.#e.build(this,a),i=r.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&r.isStaleByTime(od(a.staleTime,r))&&this.prefetchQuery(a),Promise.resolve(i))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:a,state:r})=>{const i=r.data;return[a,i]})}setQueryData(n,a,r){const i=this.defaultQueryOptions({queryKey:n}),d=this.#e.get(i.queryHash)?.state.data,m=Sf(a,d);if(m!==void 0)return this.#e.build(this,i).setData(m,{...r,manual:!0})}setQueriesData(n,a,r){return ls.batch(()=>this.#e.findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,a,r)]))}getQueryState(n){const a=this.defaultQueryOptions({queryKey:n});return this.#e.get(a.queryHash)?.state}removeQueries(n){const a=this.#e;ls.batch(()=>{a.findAll(n).forEach(r=>{a.remove(r)})})}resetQueries(n,a){const r=this.#e;return ls.batch(()=>(r.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},a)))}cancelQueries(n,a={}){const r={revert:!0,...a},i=ls.batch(()=>this.#e.findAll(n).map(o=>o.cancel(r)));return Promise.all(i).then(Vs).catch(Vs)}invalidateQueries(n,a={}){return ls.batch(()=>(this.#e.findAll(n).forEach(r=>{r.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},a)))}refetchQueries(n,a={}){const r={...a,cancelRefetch:a.cancelRefetch??!0},i=ls.batch(()=>this.#e.findAll(n).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let d=o.fetch(void 0,r);return r.throwOnError||(d=d.catch(Vs)),o.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(i).then(Vs)}fetchQuery(n){const a=this.defaultQueryOptions(n);a.retry===void 0&&(a.retry=!1);const r=this.#e.build(this,a);return r.isStaleByTime(od(a.staleTime,r))?r.fetch(a):Promise.resolve(r.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Vs).catch(Vs)}fetchInfiniteQuery(n){return n.behavior=Mh(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Vs).catch(Vs)}ensureInfiniteQueryData(n){return n.behavior=Mh(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return $l.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(n){this.#s=n}setQueryDefaults(n,a){this.#r.set(si(n),{queryKey:n,defaultOptions:a})}getQueryDefaults(n){const a=[...this.#r.values()],r={};return a.forEach(i=>{ai(n,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(n,a){this.#a.set(si(n),{mutationKey:n,defaultOptions:a})}getMutationDefaults(n){const a=[...this.#a.values()],r={};return a.forEach(i=>{ai(n,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(n){if(n._defaulted)return n;const a={...this.#s.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return a.queryHash||(a.queryHash=vd(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===bd&&(a.enabled=!1),a}defaultMutationOptions(n){return n?._defaulted?n:{...this.#s.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Kf=j.createContext(void 0),Yf=({client:n,children:a})=>(j.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),e.jsx(Kf.Provider,{value:n,children:a}));/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cp=(...n)=>n.filter((a,r,i)=>!!a&&i.indexOf(a)===r).join(" ");/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qf={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=j.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:m,...p},x)=>j.createElement("svg",{ref:x,...Qf,width:a,height:a,stroke:n,strokeWidth:i?Number(r)*24/Number(a):r,className:Cp("lucide",o),...p},[...m.map(([f,v])=>j.createElement(f,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(n,a)=>{const r=j.forwardRef(({className:i,...o},d)=>j.createElement(Zf,{ref:d,iconNode:a,className:Cp(`lucide-${Gf(n)}`,i),...o}));return r.displayName=`${n}`,r};/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=xe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=xe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=xe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=xe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=xe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=xe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=xe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=xe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=xe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=xe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=xe("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=xe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=xe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=xe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=xe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=xe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=xe("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=xe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=xe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=xe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=xe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=xe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=xe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=xe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=xe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=xe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=xe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=xe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=xe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=xe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=xe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=xe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=xe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=xe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=xe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Vn=(n=300)=>new Promise(a=>setTimeout(a,n));function He(n){const a=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&a==="[object Date]"?new n.constructor(+n):typeof n=="number"||a==="[object Number]"||typeof n=="string"||a==="[object String]"?new Date(n):new Date(NaN)}function ta(n,a){return n instanceof Date?new n.constructor(a):new Date(a)}function br(n,a){const r=He(n);return isNaN(a)?ta(n,NaN):(a&&r.setDate(r.getDate()+a),r)}function dy(n,a){const r=+He(n);return ta(n,r+a)}const Rp=6048e5,uy=864e5,Dd=6e4,Fp=36e5,Sl=43200,Lh=1440;let my={};function on(){return my}function sa(n,a){const r=on(),i=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=He(n),d=o.getDay(),m=(d<i?7:0)+d-i;return o.setDate(o.getDate()-m),o.setHours(0,0,0,0),o}function Wl(n){return sa(n,{weekStartsOn:1})}function $p(n){const a=He(n),r=a.getFullYear(),i=ta(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Wl(i),d=ta(n,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const m=Wl(d);return a.getTime()>=o.getTime()?r+1:a.getTime()>=m.getTime()?r:r-1}function Ya(n){const a=He(n);return a.setHours(0,0,0,0),a}function Jl(n){const a=He(n),r=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return r.setUTCFullYear(a.getFullYear()),+n-+r}function hy(n,a){const r=Ya(n),i=Ya(a),o=+r-Jl(r),d=+i-Jl(i);return Math.round((o-d)/uy)}function py(n){const a=$p(n),r=ta(n,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Wl(r)}function ea(n,a){return dy(n,a*Dd)}function Bp(n,a){const r=a*7;return br(n,r)}function Il(n,a){const r=He(n),i=He(a),o=r.getTime()-i.getTime();return o<0?-1:o>0?1:o}function Pd(n){return ta(n,Date.now())}function Hl(n,a){const r=Ya(n),i=Ya(a);return+r==+i}function xy(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Md(n){if(!xy(n)&&typeof n!="number")return!1;const a=He(n);return!isNaN(Number(a))}function gy(n,a){const r=He(n),i=He(a),o=r.getFullYear()-i.getFullYear(),d=r.getMonth()-i.getMonth();return o*12+d}function fy(n){return a=>{const i=(n?Math[n]:Math.trunc)(a);return i===0?0:i}}function yy(n,a){return+He(n)-+He(a)}function Td(n){const a=He(n);return a.setHours(23,59,59,999),a}function vy(n){const a=He(n),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function by(n){const a=He(n);return+Td(a)==+vy(a)}function jy(n,a){const r=He(n),i=He(a),o=Il(r,i),d=Math.abs(gy(r,i));let m;if(d<1)m=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*d);let p=Il(r,i)===-o;by(He(n))&&d===1&&Il(n,i)===1&&(p=!1),m=o*(d-Number(p))}return m===0?0:m}function wy(n,a,r){const i=yy(n,a)/1e3;return fy(r?.roundingMethod)(i)}function Ny(n,a){const r=He(n.start),i=He(n.end);let o=+r>+i;const d=o?+r:+i,m=o?i:r;m.setHours(0,0,0,0);let p=1;const x=[];for(;+m<=d;)x.push(He(m)),m.setDate(m.getDate()+p),m.setHours(0,0,0,0);return o?x.reverse():x}function _y(n){const a=He(n),r=ta(n,0);return r.setFullYear(a.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Vl(n,a){const r=on(),i=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=He(n),d=o.getDay(),m=(d<i?-7:0)+6-(d-i);return o.setDate(o.getDate()+m),o.setHours(23,59,59,999),o}const Sy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ky=(n,a,r)=>{let i;const o=Sy[n];return typeof o=="string"?i=o:a===1?i=o.one:i=o.other.replace("{{count}}",a.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Yc(n){return(a={})=>{const r=a.width?String(a.width):n.defaultWidth;return n.formats[r]||n.formats[n.defaultWidth]}}const Cy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ey={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ay={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dy={date:Yc({formats:Cy,defaultWidth:"full"}),time:Yc({formats:Ey,defaultWidth:"full"}),dateTime:Yc({formats:Ay,defaultWidth:"full"})},Py={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},My=(n,a,r,i)=>Py[n];function qn(n){return(a,r)=>{const i=r?.context?String(r.context):"standalone";let o;if(i==="formatting"&&n.formattingValues){const m=n.defaultFormattingWidth||n.defaultWidth,p=r?.width?String(r.width):m;o=n.formattingValues[p]||n.formattingValues[m]}else{const m=n.defaultWidth,p=r?.width?String(r.width):n.defaultWidth;o=n.values[p]||n.values[m]}const d=n.argumentCallback?n.argumentCallback(a):a;return o[d]}}const Ty={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Iy={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ly={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Oy={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ry={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Fy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$y=(n,a)=>{const r=Number(n),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},By={ordinalNumber:$y,era:qn({values:Ty,defaultWidth:"wide"}),quarter:qn({values:Iy,defaultWidth:"wide",argumentCallback:n=>n-1}),month:qn({values:Ly,defaultWidth:"wide"}),day:qn({values:Oy,defaultWidth:"wide"}),dayPeriod:qn({values:Ry,defaultWidth:"wide",formattingValues:Fy,defaultFormattingWidth:"wide"})};function Kn(n){return(a,r={})=>{const i=r.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],d=a.match(o);if(!d)return null;const m=d[0],p=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],x=Array.isArray(p)?zy(p,h=>h.test(m)):Uy(p,h=>h.test(m));let f;f=n.valueCallback?n.valueCallback(x):x,f=r.valueCallback?r.valueCallback(f):f;const v=a.slice(m.length);return{value:f,rest:v}}}function Uy(n,a){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&a(n[r]))return r}function zy(n,a){for(let r=0;r<n.length;r++)if(a(n[r]))return r}function Wy(n){return(a,r={})=>{const i=a.match(n.matchPattern);if(!i)return null;const o=i[0],d=a.match(n.parsePattern);if(!d)return null;let m=n.valueCallback?n.valueCallback(d[0]):d[0];m=r.valueCallback?r.valueCallback(m):m;const p=a.slice(o.length);return{value:m,rest:p}}}const Jy=/^(\d+)(th|st|nd|rd)?/i,Hy=/\d+/i,Vy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qy={any:[/^b/i,/^(a|c)/i]},Ky={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yy={any:[/1/i,/2/i,/3/i,/4/i]},Gy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ev={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tv={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sv={ordinalNumber:Wy({matchPattern:Jy,parsePattern:Hy,valueCallback:n=>parseInt(n,10)}),era:Kn({matchPatterns:Vy,defaultMatchWidth:"wide",parsePatterns:qy,defaultParseWidth:"any"}),quarter:Kn({matchPatterns:Ky,defaultMatchWidth:"wide",parsePatterns:Yy,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Kn({matchPatterns:Gy,defaultMatchWidth:"wide",parsePatterns:Qy,defaultParseWidth:"any"}),day:Kn({matchPatterns:Zy,defaultMatchWidth:"wide",parsePatterns:Xy,defaultParseWidth:"any"}),dayPeriod:Kn({matchPatterns:ev,defaultMatchWidth:"any",parsePatterns:tv,defaultParseWidth:"any"})},Up={code:"en-US",formatDistance:ky,formatLong:Dy,formatRelative:My,localize:By,match:sv,options:{weekStartsOn:0,firstWeekContainsDate:1}};function av(n){const a=He(n);return hy(a,_y(a))+1}function rv(n){const a=He(n),r=+Wl(a)-+py(a);return Math.round(r/Rp)+1}function zp(n,a){const r=He(n),i=r.getFullYear(),o=on(),d=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,m=ta(n,0);m.setFullYear(i+1,0,d),m.setHours(0,0,0,0);const p=sa(m,a),x=ta(n,0);x.setFullYear(i,0,d),x.setHours(0,0,0,0);const f=sa(x,a);return r.getTime()>=p.getTime()?i+1:r.getTime()>=f.getTime()?i:i-1}function nv(n,a){const r=on(),i=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=zp(n,a),d=ta(n,0);return d.setFullYear(o,0,i),d.setHours(0,0,0,0),sa(d,a)}function iv(n,a){const r=He(n),i=+sa(r,a)-+nv(r,a);return Math.round(i/Rp)+1}function ot(n,a){const r=n<0?"-":"",i=Math.abs(n).toString().padStart(a,"0");return r+i}const Wa={y(n,a){const r=n.getFullYear(),i=r>0?r:1-r;return ot(a==="yy"?i%100:i,a.length)},M(n,a){const r=n.getMonth();return a==="M"?String(r+1):ot(r+1,2)},d(n,a){return ot(n.getDate(),a.length)},a(n,a){const r=n.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(n,a){return ot(n.getHours()%12||12,a.length)},H(n,a){return ot(n.getHours(),a.length)},m(n,a){return ot(n.getMinutes(),a.length)},s(n,a){return ot(n.getSeconds(),a.length)},S(n,a){const r=a.length,i=n.getMilliseconds(),o=Math.trunc(i*Math.pow(10,r-3));return ot(o,a.length)}},Yr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Oh={G:function(n,a,r){const i=n.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(n,a,r){if(a==="yo"){const i=n.getFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Wa.y(n,a)},Y:function(n,a,r,i){const o=zp(n,i),d=o>0?o:1-o;if(a==="YY"){const m=d%100;return ot(m,2)}return a==="Yo"?r.ordinalNumber(d,{unit:"year"}):ot(d,a.length)},R:function(n,a){const r=$p(n);return ot(r,a.length)},u:function(n,a){const r=n.getFullYear();return ot(r,a.length)},Q:function(n,a,r){const i=Math.ceil((n.getMonth()+1)/3);switch(a){case"Q":return String(i);case"QQ":return ot(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,a,r){const i=Math.ceil((n.getMonth()+1)/3);switch(a){case"q":return String(i);case"qq":return ot(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,a,r){const i=n.getMonth();switch(a){case"M":case"MM":return Wa.M(n,a);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(n,a,r){const i=n.getMonth();switch(a){case"L":return String(i+1);case"LL":return ot(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(n,a,r,i){const o=iv(n,i);return a==="wo"?r.ordinalNumber(o,{unit:"week"}):ot(o,a.length)},I:function(n,a,r){const i=rv(n);return a==="Io"?r.ordinalNumber(i,{unit:"week"}):ot(i,a.length)},d:function(n,a,r){return a==="do"?r.ordinalNumber(n.getDate(),{unit:"date"}):Wa.d(n,a)},D:function(n,a,r){const i=av(n);return a==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):ot(i,a.length)},E:function(n,a,r){const i=n.getDay();switch(a){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(n,a,r,i){const o=n.getDay(),d=(o-i.weekStartsOn+8)%7||7;switch(a){case"e":return String(d);case"ee":return ot(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(n,a,r,i){const o=n.getDay(),d=(o-i.weekStartsOn+8)%7||7;switch(a){case"c":return String(d);case"cc":return ot(d,a.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(n,a,r){const i=n.getDay(),o=i===0?7:i;switch(a){case"i":return String(o);case"ii":return ot(o,a.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(n,a,r){const o=n.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,a,r){const i=n.getHours();let o;switch(i===12?o=Yr.noon:i===0?o=Yr.midnight:o=i/12>=1?"pm":"am",a){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,a,r){const i=n.getHours();let o;switch(i>=17?o=Yr.evening:i>=12?o=Yr.afternoon:i>=4?o=Yr.morning:o=Yr.night,a){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,a,r){if(a==="ho"){let i=n.getHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Wa.h(n,a)},H:function(n,a,r){return a==="Ho"?r.ordinalNumber(n.getHours(),{unit:"hour"}):Wa.H(n,a)},K:function(n,a,r){const i=n.getHours()%12;return a==="Ko"?r.ordinalNumber(i,{unit:"hour"}):ot(i,a.length)},k:function(n,a,r){let i=n.getHours();return i===0&&(i=24),a==="ko"?r.ordinalNumber(i,{unit:"hour"}):ot(i,a.length)},m:function(n,a,r){return a==="mo"?r.ordinalNumber(n.getMinutes(),{unit:"minute"}):Wa.m(n,a)},s:function(n,a,r){return a==="so"?r.ordinalNumber(n.getSeconds(),{unit:"second"}):Wa.s(n,a)},S:function(n,a){return Wa.S(n,a)},X:function(n,a,r){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(a){case"X":return Fh(i);case"XXXX":case"XX":return gr(i);case"XXXXX":case"XXX":default:return gr(i,":")}},x:function(n,a,r){const i=n.getTimezoneOffset();switch(a){case"x":return Fh(i);case"xxxx":case"xx":return gr(i);case"xxxxx":case"xxx":default:return gr(i,":")}},O:function(n,a,r){const i=n.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+Rh(i,":");case"OOOO":default:return"GMT"+gr(i,":")}},z:function(n,a,r){const i=n.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+Rh(i,":");case"zzzz":default:return"GMT"+gr(i,":")}},t:function(n,a,r){const i=Math.trunc(n.getTime()/1e3);return ot(i,a.length)},T:function(n,a,r){const i=n.getTime();return ot(i,a.length)}};function Rh(n,a=""){const r=n>0?"-":"+",i=Math.abs(n),o=Math.trunc(i/60),d=i%60;return d===0?r+String(o):r+String(o)+a+ot(d,2)}function Fh(n,a){return n%60===0?(n>0?"-":"+")+ot(Math.abs(n)/60,2):gr(n,a)}function gr(n,a=""){const r=n>0?"-":"+",i=Math.abs(n),o=ot(Math.trunc(i/60),2),d=ot(i%60,2);return r+o+a+d}const $h=(n,a)=>{switch(n){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Wp=(n,a)=>{switch(n){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},lv=(n,a)=>{const r=n.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return $h(n,a);let d;switch(i){case"P":d=a.dateTime({width:"short"});break;case"PP":d=a.dateTime({width:"medium"});break;case"PPP":d=a.dateTime({width:"long"});break;case"PPPP":default:d=a.dateTime({width:"full"});break}return d.replace("{{date}}",$h(i,a)).replace("{{time}}",Wp(o,a))},ov={p:Wp,P:lv},cv=/^D+$/,dv=/^Y+$/,uv=["D","DD","YY","YYYY"];function mv(n){return cv.test(n)}function hv(n){return dv.test(n)}function pv(n,a,r){const i=xv(n,a,r);if(console.warn(i),uv.includes(n))throw new RangeError(i)}function xv(n,a,r){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${a}\`) for formatting ${i} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gv=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fv=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yv=/^'([^]*?)'?$/,vv=/''/g,bv=/[a-zA-Z]/;function Ne(n,a,r){const i=on(),o=i.locale??Up,d=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,m=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,p=He(n);if(!Md(p))throw new RangeError("Invalid time value");let x=a.match(fv).map(v=>{const h=v[0];if(h==="p"||h==="P"){const _=ov[h];return _(v,o.formatLong)}return v}).join("").match(gv).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const h=v[0];if(h==="'")return{isToken:!1,value:jv(v)};if(Oh[h])return{isToken:!0,value:v};if(h.match(bv))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:v}});o.localize.preprocessor&&(x=o.localize.preprocessor(p,x));const f={firstWeekContainsDate:d,weekStartsOn:m,locale:o};return x.map(v=>{if(!v.isToken)return v.value;const h=v.value;(hv(h)||mv(h))&&pv(h,a,String(n));const _=Oh[h[0]];return _(p,h,o.localize,f)}).join("")}function jv(n){const a=n.match(yv);return a?a[1].replace(vv,"'"):n}function wv(n,a,r){const i=on(),o=r?.locale??i.locale??Up,d=2520,m=Il(n,a);if(isNaN(m))throw new RangeError("Invalid time value");const p=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:m});let x,f;m>0?(x=He(a),f=He(n)):(x=He(n),f=He(a));const v=wy(f,x),h=(Jl(f)-Jl(x))/1e3,_=Math.round((v-h)/60);let F;if(_<2)return r?.includeSeconds?v<5?o.formatDistance("lessThanXSeconds",5,p):v<10?o.formatDistance("lessThanXSeconds",10,p):v<20?o.formatDistance("lessThanXSeconds",20,p):v<40?o.formatDistance("halfAMinute",0,p):v<60?o.formatDistance("lessThanXMinutes",1,p):o.formatDistance("xMinutes",1,p):_===0?o.formatDistance("lessThanXMinutes",1,p):o.formatDistance("xMinutes",_,p);if(_<45)return o.formatDistance("xMinutes",_,p);if(_<90)return o.formatDistance("aboutXHours",1,p);if(_<Lh){const I=Math.round(_/60);return o.formatDistance("aboutXHours",I,p)}else{if(_<d)return o.formatDistance("xDays",1,p);if(_<Sl){const I=Math.round(_/Lh);return o.formatDistance("xDays",I,p)}else if(_<Sl*2)return F=Math.round(_/Sl),o.formatDistance("aboutXMonths",F,p)}if(F=jy(f,x),F<12){const I=Math.round(_/Sl);return o.formatDistance("xMonths",I,p)}else{const I=F%12,E=Math.trunc(F/12);return I<3?o.formatDistance("aboutXYears",E,p):I<9?o.formatDistance("overXYears",E,p):o.formatDistance("almostXYears",E+1,p)}}function Nv(n,a){return wv(n,Pd(n),a)}function Ll(n){return+He(n)<Date.now()}function Bh(n){return Hl(n,Pd(n))}function Uh(n){return Hl(n,br(Pd(n),1))}function zh(n,a){const r=+He(n),[i,o]=[+He(a.start),+He(a.end)].sort((d,m)=>d-m);return r>=i&&r<=o}function Jp(n,a){return br(n,-a)}function ct(n,a){const i=Cv(n);let o;if(i.date){const x=Ev(i.date,2);o=Av(x.restDateString,x.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const d=o.getTime();let m=0,p;if(i.time&&(m=Dv(i.time),isNaN(m)))return new Date(NaN);if(i.timezone){if(p=Pv(i.timezone),isNaN(p))return new Date(NaN)}else{const x=new Date(d+m),f=new Date(0);return f.setFullYear(x.getUTCFullYear(),x.getUTCMonth(),x.getUTCDate()),f.setHours(x.getUTCHours(),x.getUTCMinutes(),x.getUTCSeconds(),x.getUTCMilliseconds()),f}return new Date(d+m+p)}const kl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_v=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Sv=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kv=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Cv(n){const a={},r=n.split(kl.dateTimeDelimiter);let i;if(r.length>2)return a;if(/:/.test(r[0])?i=r[0]:(a.date=r[0],i=r[1],kl.timeZoneDelimiter.test(a.date)&&(a.date=n.split(kl.timeZoneDelimiter)[0],i=n.substr(a.date.length,n.length))),i){const o=kl.timezone.exec(i);o?(a.time=i.replace(o[1],""),a.timezone=o[1]):a.time=i}return a}function Ev(n,a){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),i=n.match(r);if(!i)return{year:NaN,restDateString:""};const o=i[1]?parseInt(i[1]):null,d=i[2]?parseInt(i[2]):null;return{year:d===null?o:d*100,restDateString:n.slice((i[1]||i[2]).length)}}function Av(n,a){if(a===null)return new Date(NaN);const r=n.match(_v);if(!r)return new Date(NaN);const i=!!r[4],o=Yn(r[1]),d=Yn(r[2])-1,m=Yn(r[3]),p=Yn(r[4]),x=Yn(r[5])-1;if(i)return Ov(a,p,x)?Mv(a,p,x):new Date(NaN);{const f=new Date(0);return!Iv(a,d,m)||!Lv(a,o)?new Date(NaN):(f.setUTCFullYear(a,d,Math.max(o,m)),f)}}function Yn(n){return n?parseInt(n):1}function Dv(n){const a=n.match(Sv);if(!a)return NaN;const r=Gc(a[1]),i=Gc(a[2]),o=Gc(a[3]);return Rv(r,i,o)?r*Fp+i*Dd+o*1e3:NaN}function Gc(n){return n&&parseFloat(n.replace(",","."))||0}function Pv(n){if(n==="Z")return 0;const a=n.match(kv);if(!a)return 0;const r=a[1]==="+"?-1:1,i=parseInt(a[2]),o=a[3]&&parseInt(a[3])||0;return Fv(i,o)?r*(i*Fp+o*Dd):NaN}function Mv(n,a,r){const i=new Date(0);i.setUTCFullYear(n,0,4);const o=i.getUTCDay()||7,d=(a-1)*7+r+1-o;return i.setUTCDate(i.getUTCDate()+d),i}const Tv=[31,null,31,30,31,30,31,31,30,31,30,31];function Hp(n){return n%400===0||n%4===0&&n%100!==0}function Iv(n,a,r){return a>=0&&a<=11&&r>=1&&r<=(Tv[a]||(Hp(n)?29:28))}function Lv(n,a){return a>=1&&a<=(Hp(n)?366:365)}function Ov(n,a,r){return a>=1&&a<=53&&r>=0&&r<=6}function Rv(n,a,r){return n===24?a===0&&r===0:r>=0&&r<60&&a>=0&&a<60&&n>=0&&n<25}function Fv(n,a){return a>=0&&a<=59}function $v(n,a){return Bp(n,-1)}const Cl=(n=200)=>new Promise(a=>setTimeout(a,n));let pa=[];const Vp="udaan_audit_logs",Bv=()=>{try{const n=localStorage.getItem(Vp);if(n){const a=JSON.parse(n);Array.isArray(a)&&(pa=a)}}catch(n){console.warn("Failed to load persisted audit logs:",n)}},Wh=()=>{try{localStorage.setItem(Vp,JSON.stringify(pa))}catch(n){console.warn("Failed to persist audit logs:",n)}};Bv();class Uv{async logEvent(a){await Cl();const r={id:`audit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),user_id:a.user_id||"system",user_name:a.user_name||"System User",action:a.action,resource_type:a.resource_type,resource_id:a.resource_id,changes:a.changes||{},old_values:a.old_values||{},new_values:a.new_values||{},ip_address:a.ip_address||"127.0.0.1",user_agent:a.user_agent||"Unknown",session_id:a.session_id||"unknown_session",metadata:a.metadata||{}};return pa.push(r),Wh(),pa.length>1e3&&(pa=pa.slice(-1e3),Wh()),r}async getAuditLogs(a={}){await Cl();let r=[...pa];if(a.user_id&&(r=r.filter(p=>p.user_id===a.user_id)),a.resource_type&&(r=r.filter(p=>p.resource_type===a.resource_type)),a.resource_id&&(r=r.filter(p=>p.resource_id===a.resource_id)),a.action&&(r=r.filter(p=>p.action===a.action)),a.date_from){const p=new Date(a.date_from);r=r.filter(x=>new Date(x.timestamp)>=p)}if(a.date_to){const p=new Date(a.date_to);r=r.filter(x=>new Date(x.timestamp)<=p)}r.sort((p,x)=>new Date(x.timestamp)-new Date(p.timestamp));const i=a.page||1,o=a.limit||50,d=(i-1)*o,m=d+o;return{logs:r.slice(d,m),total:r.length,page:i,limit:o,total_pages:Math.ceil(r.length/o)}}async getAuditLogById(a){return await Cl(),pa.find(r=>r.id===a)||null}async getAuditSummary(a,r){await Cl();const i=pa.filter(d=>d.resource_type===a&&d.resource_id===r),o={total_changes:i.length,first_change:i.length>0?i[i.length-1].timestamp:null,last_change:i.length>0?i[0].timestamp:null,unique_users:[...new Set(i.map(d=>d.user_id))].length,actions:{}};return i.forEach(d=>{o.actions[d.action]=(o.actions[d.action]||0)+1}),o}async logAgencyUpdate(a){const{user:r,oldData:i,newData:o,section:d,changes:m}=a;return this.logEvent({user_id:r.id||"current_user",user_name:r.name||"Current User",action:"UPDATE",resource_type:"AGENCY_PROFILE",resource_id:i.id||"agency_001",changes:this.calculateChanges(i,o,d),old_values:this.extractRelevantFields(i,d),new_values:this.extractRelevantFields(o,d),metadata:{section:d,change_count:Object.keys(m||{}).length,browser:navigator.userAgent||"Unknown",timestamp_formatted:Ne(new Date,"PPpp")}})}async logFileUpload(a){const{user:r,fileType:i,fileName:o,fileSize:d,oldUrl:m,newUrl:p}=a;return this.logEvent({user_id:r.id||"current_user",user_name:r.name||"Current User",action:"FILE_UPLOAD",resource_type:"AGENCY_MEDIA",resource_id:"agency_001",changes:{[`${i}_url`]:{from:m,to:p}},old_values:{[`${i}_url`]:m},new_values:{[`${i}_url`]:p},metadata:{file_type:i,file_name:o,file_size:d,upload_timestamp:new Date().toISOString()}})}calculateChanges(a,r,i){const o={};return this.getRelevantFields(i).forEach(m=>{const p=this.getNestedValue(a,m),x=this.getNestedValue(r,m);JSON.stringify(p)!==JSON.stringify(x)&&(o[m]={from:p,to:x})}),o}extractRelevantFields(a,r){const i=this.getRelevantFields(r),o={};return i.forEach(d=>{o[d]=this.getNestedValue(a,d)}),o}getRelevantFields(a){return{basic:["name","description","established_year","license_number"],contact:["phone","mobile","email","website"],location:["address"],social:["social_media.facebook","social_media.instagram","social_media.linkedin","social_media.twitter"],settings:["settings.currency","settings.timezone","settings.language","settings.date_format","settings.notifications"],services:["services","specializations","target_countries"],media:["logo_url","banner_url"]}[a]||[]}getNestedValue(a,r){return r.split(".").reduce((i,o)=>i?.[o],a)}formatAuditLog(a){return{...a,timestamp_formatted:Ne(new Date(a.timestamp),"PPpp"),changes_summary:this.formatChangesSummary(a.changes),action_label:this.getActionLabel(a.action),resource_label:this.getResourceLabel(a.resource_type)}}formatChangesSummary(a){const r=Object.keys(a).length;return r===0?"No changes":r===1?"1 field changed":`${r} fields changed`}getActionLabel(a){return{UPDATE:"Updated",CREATE:"Created",DELETE:"Deleted",FILE_UPLOAD:"File Uploaded",LOGIN:"Logged In",LOGOUT:"Logged Out"}[a]||a}getResourceLabel(a){return{AGENCY_PROFILE:"Agency Profile",AGENCY_MEDIA:"Agency Media",JOB_POSTING:"Job Posting",CANDIDATE:"Candidate",APPLICATION:"Application",INTERVIEW:"Interview",USER:"User",AUTH:"Authentication"}[a]||a}}const $e=new Uv,js={ADMIN:"admin",RECRUITER:"recruiter",COORDINATOR:"coordinator"},ce={CREATE_JOB:"create_job",EDIT_JOB:"edit_job",DELETE_JOB:"delete_job",PUBLISH_JOB:"publish_job",VIEW_JOBS:"view_jobs",VIEW_APPLICATIONS:"view_applications",EDIT_APPLICATION:"edit_application",SHORTLIST_CANDIDATE:"shortlist_candidate",REJECT_APPLICATION:"reject_application",SCHEDULE_INTERVIEW:"schedule_interview",CONDUCT_INTERVIEW:"conduct_interview",EDIT_INTERVIEW:"edit_interview",VIEW_INTERVIEWS:"view_interviews",VIEW_WORKFLOW:"view_workflow",UPDATE_WORKFLOW_STAGE:"update_workflow_stage",MANAGE_DOCUMENTS:"manage_documents",MANAGE_USERS:"manage_users",MANAGE_SETTINGS:"manage_settings",VIEW_AUDIT_LOGS:"view_audit_logs",MANAGE_AGENCIES:"manage_agencies",SEND_NOTIFICATIONS:"send_notifications",MANAGE_CALENDAR:"manage_calendar",SCHEDULE_EVENTS:"schedule_events",UPLOAD_DOCUMENTS:"upload_documents",EDIT_DOCUMENTS:"edit_documents",DELETE_DOCUMENTS:"delete_documents",LIMITED_EDIT:"limited_edit"},zv={[js.ADMIN]:[...Object.values(ce)],[js.RECRUITER]:[ce.CREATE_JOB,ce.EDIT_JOB,ce.DELETE_JOB,ce.PUBLISH_JOB,ce.VIEW_JOBS,ce.VIEW_APPLICATIONS,ce.EDIT_APPLICATION,ce.SHORTLIST_CANDIDATE,ce.REJECT_APPLICATION,ce.SCHEDULE_INTERVIEW,ce.CONDUCT_INTERVIEW,ce.EDIT_INTERVIEW,ce.VIEW_INTERVIEWS,ce.VIEW_WORKFLOW,ce.UPDATE_WORKFLOW_STAGE,ce.MANAGE_DOCUMENTS],[js.COORDINATOR]:[ce.SCHEDULE_INTERVIEW,ce.MANAGE_CALENDAR,ce.SCHEDULE_EVENTS,ce.SEND_NOTIFICATIONS,ce.UPLOAD_DOCUMENTS,ce.EDIT_DOCUMENTS,ce.VIEW_WORKFLOW,ce.LIMITED_EDIT,ce.VIEW_JOBS,ce.VIEW_APPLICATIONS,ce.VIEW_INTERVIEWS]},Js=[{id:"user_1",username:"admin@udaan.com",email:"admin@udaan.com",name:"System Administrator",role:js.ADMIN,avatar:"/avatars/admin.jpg",isActive:!0,lastLogin:"2025-01-15T10:30:00Z",createdAt:"2024-01-01T00:00:00Z"},{id:"user_2",username:"recruiter@udaan.com",email:"recruiter@udaan.com",name:"Senior Recruiter",role:js.RECRUITER,avatar:"/avatars/recruiter.jpg",isActive:!0,lastLogin:"2025-01-15T09:15:00Z",createdAt:"2024-02-01T00:00:00Z"},{id:"user_3",username:"coordinator@udaan.com",email:"coordinator@udaan.com",name:"Interview Coordinator",role:js.COORDINATOR,avatar:"/avatars/coordinator.jpg",isActive:!0,lastLogin:"2025-01-15T08:45:00Z",createdAt:"2024-03-01T00:00:00Z"}];class Wv{constructor(){this.currentUser=null,this.isAuthenticated=!1,this.initializeAuth()}initializeAuth(){try{const a=localStorage.getItem("udaan_user"),r=localStorage.getItem("udaan_token");a&&r&&(this.currentUser=JSON.parse(a),this.isAuthenticated=!0)}catch(a){console.error("Error initializing auth:",a),this.logout()}}async login(a,r){await Vn(1e3);const i=Js.find(d=>d.username===a||d.email===a);if(!i)throw new Error("User not found");if(!i.isActive)throw new Error("Account is deactivated");console.log("Login attempt for:",a,"with password length:",r?.length||0);const o=`token_${i.id}_${Date.now()}`;i.lastLogin=new Date().toISOString(),localStorage.setItem("udaan_user",JSON.stringify(i)),localStorage.setItem("udaan_token",o),this.currentUser=i,this.isAuthenticated=!0;try{await $e.logEvent({user_id:i.id,user_name:i.name,action:"LOGIN",resource_type:"AUTH",resource_id:i.id,metadata:{role:i.role}})}catch(d){console.warn("Audit logging (LOGIN) failed:",d)}return{user:i,token:o,permissions:this.getUserPermissions(i.role)}}logout(){const a=this.currentUser;localStorage.removeItem("udaan_user"),localStorage.removeItem("udaan_token"),this.currentUser=null,this.isAuthenticated=!1,a&&Promise.resolve($e.logEvent({user_id:a.id,user_name:a.name,action:"LOGOUT",resource_type:"AUTH",resource_id:a.id,metadata:{role:a.role}})).catch(r=>console.warn("Audit logging (LOGOUT) failed:",r))}getCurrentUser(){return this.currentUser}isUserAuthenticated(){return this.isAuthenticated&&this.currentUser!==null}getUserPermissions(a){return zv[a]||[]}hasPermission(a){return this.currentUser?this.getUserPermissions(this.currentUser.role).includes(a):!1}hasAnyPermission(a){return a.some(r=>this.hasPermission(r))}hasAllPermissions(a){return a.every(r=>this.hasPermission(r))}getUserRole(){return this.currentUser?.role||null}hasRole(a){return this.currentUser?.role===a}isAdmin(){return this.hasRole(js.ADMIN)}isRecruiter(){return this.hasRole(js.RECRUITER)}isCoordinator(){return this.hasRole(js.COORDINATOR)}async getUsers(){if(!this.hasPermission(ce.MANAGE_USERS))throw new Error("Insufficient permissions");return await Vn(300),Js}async createUser(a){if(!this.hasPermission(ce.MANAGE_USERS))throw new Error("Insufficient permissions");await Vn(500);const r={id:`user_${Date.now()}`,...a,isActive:!0,createdAt:new Date().toISOString(),lastLogin:null};Js.push(r);try{const i=this.currentUser||{id:"system",name:"System"};await $e.logEvent({user_id:i.id,user_name:i.name,action:"CREATE",resource_type:"USER",resource_id:r.id,changes:{created:!0},new_values:r})}catch(i){console.warn("Audit logging (CREATE USER) failed:",i)}return r}async updateUser(a,r){if(!this.hasPermission(ce.MANAGE_USERS))throw new Error("Insufficient permissions");await Vn(400);const i=Js.findIndex(m=>m.id===a);if(i===-1)throw new Error("User not found");const o={...Js[i]};Js[i]={...Js[i],...r,updatedAt:new Date().toISOString()};const d=Js[i];try{const m=this.currentUser||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"USER",resource_id:a,changes:r,old_values:o,new_values:d})}catch(m){console.warn("Audit logging (UPDATE USER) failed:",m)}return d}async deleteUser(a){if(!this.hasPermission(ce.MANAGE_USERS))throw new Error("Insufficient permissions");await Vn(300);const r=Js.findIndex(o=>o.id===a);if(r===-1)throw new Error("User not found");const i=Js[r];Js.splice(r,1);try{const o=this.currentUser||{id:"system",name:"System"};await $e.logEvent({user_id:o.id,user_name:o.name,action:"DELETE",resource_type:"USER",resource_id:a,old_values:i})}catch(o){console.warn("Audit logging (DELETE USER) failed:",o)}return!0}getRoleDisplayName(a){return{[js.ADMIN]:"Administrator",[js.RECRUITER]:"Recruiter",[js.COORDINATOR]:"Coordinator"}[a]||a}getPermissionDisplayName(a){return{[ce.CREATE_JOB]:"Create Jobs",[ce.EDIT_JOB]:"Edit Jobs",[ce.DELETE_JOB]:"Delete Jobs",[ce.PUBLISH_JOB]:"Publish Jobs",[ce.VIEW_JOBS]:"View Jobs",[ce.VIEW_APPLICATIONS]:"View Applications",[ce.EDIT_APPLICATION]:"Edit Applications",[ce.SHORTLIST_CANDIDATE]:"Shortlist Candidates",[ce.REJECT_APPLICATION]:"Reject Applications",[ce.SCHEDULE_INTERVIEW]:"Schedule Interviews",[ce.CONDUCT_INTERVIEW]:"Conduct Interviews",[ce.EDIT_INTERVIEW]:"Edit Interviews",[ce.VIEW_INTERVIEWS]:"View Interviews",[ce.VIEW_WORKFLOW]:"View Workflow",[ce.UPDATE_WORKFLOW_STAGE]:"Update Workflow",[ce.MANAGE_DOCUMENTS]:"Manage Documents",[ce.MANAGE_USERS]:"Manage Users",[ce.MANAGE_SETTINGS]:"Manage Settings",[ce.VIEW_AUDIT_LOGS]:"View Audit Logs",[ce.MANAGE_AGENCIES]:"Manage Agencies",[ce.SEND_NOTIFICATIONS]:"Send Notifications",[ce.MANAGE_CALENDAR]:"Manage Calendar",[ce.SCHEDULE_EVENTS]:"Schedule Events",[ce.UPLOAD_DOCUMENTS]:"Upload Documents",[ce.EDIT_DOCUMENTS]:"Edit Documents",[ce.DELETE_DOCUMENTS]:"Delete Documents",[ce.LIMITED_EDIT]:"Limited Editing"}[a]||a}}const Ue=new Wv,qp=j.createContext(null),ui=()=>{const n=j.useContext(qp);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},Jv=({children:n})=>{const[a,r]=j.useState(null),[i,o]=j.useState(!1),[d,m]=j.useState(!0),[p,x]=j.useState([]);j.useEffect(()=>{f()},[]);const f=()=>{try{const Z=Ue.getCurrentUser(),ee=Ue.isUserAuthenticated();Z&&ee&&(r(Z),o(!0),x(Ue.getUserPermissions(Z.role)))}catch(Z){console.error("Error initializing auth:",Z),h()}finally{m(!1)}},v=async(Z,ee)=>{try{m(!0);const te=await Ue.login(Z,ee);return r(te.user),o(!0),x(te.permissions),te}catch(te){throw console.error("Login error:",te),te}finally{m(!1)}},h=()=>{Ue.logout(),r(null),o(!1),x([])},K={user:a,isAuthenticated:i,isLoading:d,permissions:p,login:v,logout:h,updateUser:Z=>{const ee={...a,...Z};r(ee),localStorage.setItem("udaan_user",JSON.stringify(ee))},hasPermission:Z=>Ue.hasPermission(Z),hasAnyPermission:Z=>Ue.hasAnyPermission(Z),hasAllPermissions:Z=>Ue.hasAllPermissions(Z),hasRole:Z=>Ue.hasRole(Z),isAdmin:()=>Ue.isAdmin(),isRecruiter:()=>Ue.isRecruiter(),isCoordinator:()=>Ue.isCoordinator(),ROLES:js,PERMISSIONS:ce};return e.jsx(qp.Provider,{value:K,children:n})},Hv={DRAFT:"draft",PUBLISHED:"published",CLOSED:"closed",PAUSED:"paused"},Vv={APPLIED:"applied",SHORTLISTED:"shortlisted",SCHEDULED:"scheduled",INTERVIEWED:"interviewed",INTERVIEW_PASSED:"interview-passed",SELECTED:"selected",REJECTED:"rejected",MEDICAL_SCHEDULED:"medical-scheduled",MEDICAL_PASSED:"medical-passed",VISA_APPLICATION:"visa-application",VISA_APPROVED:"visa-approved",TRAVEL_DOCUMENTS:"travel-documents",FLIGHT_BOOKED:"flight-booked",READY_TO_FLY:"ready-to-fly"},qv={APPLIED:"applied",SHORTLISTED:"shortlisted",INTERVIEW_SCHEDULED:"interview-scheduled",INTERVIEW_PASSED:"interview-passed",MEDICAL_SCHEDULED:"medical-scheduled",MEDICAL_PASSED:"medical-passed",VISA_APPLICATION:"visa-application",VISA_APPROVED:"visa-approved",POLICE_CLEARANCE:"police-clearance",EMBASSY_ATTESTATION:"embassy-attestation",TRAVEL_DOCUMENTS:"travel-documents",FLIGHT_BOOKING:"flight-booking",PRE_DEPARTURE:"pre-departure",DEPARTED:"departed",READY_TO_FLY:"ready-to-fly"},Kv={SCHEDULED:"scheduled",COMPLETED:"completed",CANCELLED:"cancelled",NO_SHOW:"no_show"},Yv=["UAE","Saudi Arabia","Qatar","Kuwait","Oman","Bahrain","Malaysia","Singapore"],Gv=["Cook","Chef","Driver","Cleaner","Security Guard","Waiter","Helper","Construction Worker","Electrician","Plumber","Mechanic","Nanny","Caregiver"],Qv=["In-person","Online","Phone"],Zv=["SLC Passed","+2 Passed","Bachelor Degree","Master Degree","Technical Diploma","Other"],Xv=["Male","Female","Other"],eb={LOW:"low",MEDIUM:"medium",HIGH:"high",URGENT:"urgent"},tb=["AED","SAR","QAR","KWD","OMR","BHD","MYR","SGD"],Te={jobStatuses:Hv,applicationStages:Vv,workflowStages:qv,interviewStatuses:Kv,countries:Yv,jobCategories:Gv,interviewTypes:Qv,educationLevels:Zv,genders:Xv,priorities:eb,currencies:tb};class sb{constructor(){this.cache=new Map,this.cacheTimeouts={constants:36e5,analytics:3e4,jobs:3e5,search:12e4,default:3e5}}async getCachedData(a,r,i="default"){const o=this.cache.get(a),d=this.cacheTimeouts[i]||this.cacheTimeouts.default;if(o&&Date.now()-o.timestamp<d)return o.data;const m=await r();return this.cache.set(a,{data:m,timestamp:Date.now()}),m}clearCache(a=null){a?this.cache.delete(a):this.cache.clear()}debounce(a,r){let i;return function(...d){const m=()=>{clearTimeout(i),a(...d)};clearTimeout(i),i=setTimeout(m,r)}}throttle(a,r){let i;return function(...d){i||(a.apply(this,d),i=!0,setTimeout(()=>i=!1,r))}}getVirtualScrollItems(a,r,i,o){const d=a.length*i,m=Math.ceil(r/i),p=Math.floor(o/i),x=Math.min(p+m+1,a.length);return{visibleItems:a.slice(p,x).map((v,h)=>({...v,index:p+h,top:(p+h)*i})),totalHeight:d,startIndex:p,endIndex:x}}async processInChunks(a,r,i=100){const o=[];for(let d=0;d<a.length;d+=i){const m=a.slice(d,d+i),p=await r(m);o.push(...p),await new Promise(x=>setTimeout(x,0))}return o}async measurePerformance(a,r){const i=performance.now();try{const o=await r(),d=performance.now();return console.log(`Performance: ${a} took ${(d-i).toFixed(2)}ms`),d-i>1e3&&console.warn(`Slow operation detected: ${a} took ${(d-i).toFixed(2)}ms`),o}catch(o){const d=performance.now();throw console.error(`Performance: ${a} failed after ${(d-i).toFixed(2)}ms`,o),o}}async preloadData(a){const r=a.map(i=>fetch(i,{method:"HEAD"}).catch(()=>{}));await Promise.allSettled(r)}getMemoryUsage(){return performance.memory?{used:Math.round(performance.memory.usedJSHeapSize/1024/1024),total:Math.round(performance.memory.totalJSHeapSize/1024/1024),limit:Math.round(performance.memory.jsHeapSizeLimit/1024/1024)}:null}async getPaginatedData({page:a=1,limit:r=50,search:i="",sortBy:o="id",sortOrder:d="asc"},m){const p=`paginated_${a}_${r}_${i}_${o}_${d}`,x=i?"search":"default";return this.measurePerformance(`Pagination Load (Page ${a})`,async()=>this.getCachedData(p,()=>m({page:a,limit:r,search:i,sortBy:o,sortOrder:d,offset:(a-1)*r}),x))}optimizeListRendering(a,r={}){const{pageSize:i=50,virtualScrolling:o=!0,lazyLoading:d=!0}=r;return o&&a.length>1e3?{renderingMode:"virtual",totalItems:a.length,pageSize:i,recommendation:"Use virtual scrolling for optimal performance"}:d&&a.length>100?{renderingMode:"lazy",totalItems:a.length,pageSize:i,recommendation:"Use lazy loading with pagination"}:{renderingMode:"standard",totalItems:a.length,pageSize:Math.min(i,a.length)}}cleanup(){this.clearCache(),window.gc&&window.gc()}}const qt=new sb,Hs=(n=20)=>new Promise(a=>setTimeout(a,n));class ab{async getJobStatuses(){return await qt.getCachedData("job_statuses",async()=>(await Hs(),Te.jobStatuses),"constants")}async getApplicationStages(){return await qt.getCachedData("application_stages",async()=>(await Hs(),Te.applicationStages),"constants")}async getInterviewStatuses(){return await qt.getCachedData("interview_statuses",async()=>(await Hs(),Te.interviewStatuses),"constants")}async getCountries(){return await qt.getCachedData("countries",async()=>(await Hs(),Te.countries),"constants")}async getJobCategories(){return await qt.getCachedData("job_categories",async()=>(await Hs(),Te.jobCategories),"constants")}async getInterviewTypes(){return await qt.getCachedData("interview_types",async()=>(await Hs(),Te.interviewTypes),"constants")}async getEducationLevels(){return await qt.getCachedData("education_levels",async()=>(await Hs(),Te.educationLevels),"constants")}async getGenders(){return await qt.getCachedData("genders",async()=>(await Hs(),Te.genders),"constants")}async getPriorities(){return await qt.getCachedData("priorities",async()=>(await Hs(),Te.priorities),"constants")}async getCurrencies(){return await qt.getCachedData("currencies",async()=>(await Hs(),Te.currencies),"constants")}async getAllConstants(){return await qt.getCachedData("all_constants",async()=>(await Hs(),Te),"constants")}getJobStatusLabel(a){return{[Te.jobStatuses.DRAFT]:"Draft",[Te.jobStatuses.PUBLISHED]:"Published",[Te.jobStatuses.CLOSED]:"Closed",[Te.jobStatuses.PAUSED]:"Paused"}[a]||a}getApplicationStageLabel(a){return{[Te.applicationStages.APPLIED]:"Applied",[Te.applicationStages.SHORTLISTED]:"Shortlisted",[Te.applicationStages.SCHEDULED]:"Scheduled",[Te.applicationStages.INTERVIEWED]:"Interviewed",[Te.applicationStages.INTERVIEW_PASSED]:"Interview Passed",[Te.applicationStages.SELECTED]:"Selected",[Te.applicationStages.REJECTED]:"Rejected",[Te.applicationStages.MEDICAL_SCHEDULED]:"Medical Scheduled",[Te.applicationStages.MEDICAL_PASSED]:"Medical Passed",[Te.applicationStages.VISA_APPLICATION]:"Visa Application",[Te.applicationStages.VISA_APPROVED]:"Visa Approved",[Te.applicationStages.READY_TO_FLY]:"Ready to Fly"}[a]||a}getInterviewStatusLabel(a){return{[Te.interviewStatuses.SCHEDULED]:"Scheduled",[Te.interviewStatuses.COMPLETED]:"Completed",[Te.interviewStatuses.CANCELLED]:"Cancelled",[Te.interviewStatuses.NO_SHOW]:"No Show"}[a]||a}getApplicationStageColor(a){return{[Te.applicationStages.APPLIED]:"blue",[Te.applicationStages.SHORTLISTED]:"yellow",[Te.applicationStages.SCHEDULED]:"purple",[Te.applicationStages.INTERVIEWED]:"orange",[Te.applicationStages.INTERVIEW_PASSED]:"indigo",[Te.applicationStages.SELECTED]:"green",[Te.applicationStages.REJECTED]:"red",[Te.applicationStages.MEDICAL_SCHEDULED]:"cyan",[Te.applicationStages.MEDICAL_PASSED]:"teal",[Te.applicationStages.VISA_APPLICATION]:"pink",[Te.applicationStages.VISA_APPROVED]:"emerald",[Te.applicationStages.READY_TO_FLY]:"green"}[a]||"gray"}getInterviewStatusColor(a){return{[Te.interviewStatuses.SCHEDULED]:"blue",[Te.interviewStatuses.COMPLETED]:"green",[Te.interviewStatuses.CANCELLED]:"red",[Te.interviewStatuses.NO_SHOW]:"orange"}[a]||"gray"}}const Ke=new ab,{getJobStatuses:Lw,getApplicationStages:Ow,getInterviewStatuses:Rw,getCountries:Fw,getJobCategories:$w,getInterviewTypes:Bw,getEducationLevels:Uw,getGenders:zw,getPriorities:Ww,getCurrencies:Jw,getAllConstants:Hw,getJobStatusLabel:Vw,getApplicationStageLabel:qw,getInterviewStatusLabel:Kw,getApplicationStageColor:Yw,getInterviewStatusColor:Gw}=Ke,Kp=JSON.parse(`[{"id":"job_001","title":"Cook","company":"Al Manara Restaurant","country":"UAE","city":"Dubai","status":"published","created_at":"2025-08-23T10:30:00.000Z","published_at":"2025-08-25T10:30:00.000Z","salary":"1200 AED","currency":"AED","salary_amount":1200,"requirements":["Experience: 2+ years","Language: Basic English","Age: 25-45"],"description":"Looking for experienced cook for busy restaurant in Dubai","tags":["Cooking","Restaurant","Arabic Cuisine","Food Preparation","Kitchen Management"],"applications_count":45,"shortlisted_count":12,"interviews_today":2,"total_interviews":8,"view_count":234,"category":"Cook","employment_type":"Full-time","working_hours":"8 hours/day","accommodation":"Provided","food":"Provided","visa_status":"Company will provide","contract_duration":"2 years"},{"id":"job_002","title":"Driver","company":"Emirates Logistics","country":"UAE","city":"Abu Dhabi","status":"published","created_at":"2025-08-16T10:30:00.000Z","published_at":"2025-08-18T10:30:00.000Z","salary":"1500 AED","currency":"AED","salary_amount":1500,"requirements":["Valid driving license","Experience: 3+ years","Language: English"],"description":"Professional driver needed for logistics company","tags":["Driving","Logistics","Heavy Vehicle","Transportation","English"],"applications_count":67,"shortlisted_count":18,"interviews_today":1,"total_interviews":15,"view_count":456,"category":"Driver","employment_type":"Full-time","working_hours":"10 hours/day","accommodation":"Provided","food":"Allowance given","visa_status":"Company will provide","contract_duration":"2 years"},{"id":"job_003","title":"Cleaner","company":"Clean Pro Services","country":"Qatar","city":"Doha","status":"published","created_at":"2025-08-20T10:30:00.000Z","published_at":"2025-08-22T10:30:00.000Z","salary":"900 QAR","currency":"QAR","salary_amount":900,"requirements":["No experience required","Language: Basic Arabic","Age: 21-50"],"description":"Cleaning staff required for office buildings","tags":["Cleaning","Office Management","Housekeeping","Arabic"],"applications_count":89,"shortlisted_count":25,"interviews_today":3,"total_interviews":20,"view_count":567,"category":"Cleaner","employment_type":"Full-time","working_hours":"8 hours/day","accommodation":"Not provided","food":"Not provided","visa_status":"Company will provide","contract_duration":"1 year"},{"id":"job_004","title":"Security Guard Position","company":"Al Maktoum Security Services","country":"UAE","city":"Dubai","status":"draft","created_at":"2025-09-10T10:30:00.000Z","published_at":null,"salary":"1200 AED","currency":"AED","salary_amount":1200,"requirements":["Experience: 1+ years in security","Height: 5.5ft+","Language: Basic English"],"description":"Security guard position available for commercial complex in Dubai. Looking for experienced candidates with security background and basic English communication skills.","tags":["Security","Physical Fitness","English Communication","Surveillance"],"applications_count":0,"shortlisted_count":0,"interviews_today":0,"total_interviews":0,"view_count":0,"category":"Security Guard","employment_type":"Full-time","working_hours":"8 hours/day","accommodation":"Provided","food":"Provided","visa_status":"Company will provide","contract_duration":"2 years","posting_agency":"Inspire International Employment Pvt. Ltd","employer":"Al Maktoum Security Services","lt_number":"LT-2025-SEC-001","chalani_number":"CH-SEC-2025-089","approval_date_ad":"2025-09-08","posting_date_ad":"2025-09-10","announcement_type":"newspaper","period_years":2,"renewable":true,"hours_per_day":8,"days_per_week":6,"overtime_policy":"paid","weekly_off_days":1,"annual_leave_days":21,"positions":[{"title":"Security Guard","vacancies_male":10,"vacancies_female":0,"monthly_salary":1200,"currency":"AED"}],"skills":["security","surveillance","english communication"],"education_requirements":["Class 10","SLC/SEE"],"experience_requirements":{"min_years":1,"preferred_years":2,"domains":["security","guard duty","surveillance"]},"expenses":[{"type":"medical","who_pays":"employer","is_free":true,"notes":"Pre-employment medical checkup"},{"type":"visa","who_pays":"employer","is_free":true,"notes":"Work visa processing"}],"cutout":{"has_file":true,"is_uploaded":true,"file_name":"security_guard_job_cutout.jpg","file_url":"https://picsum.photos/400/300?random=1","file_size":"245 KB","file_type":"image/jpeg","uploaded_at":"2025-09-10T12:15:00.000Z","status":"approved","notes":"Job posting cutout with company logo and job details"},"interview":{"date_ad":"2025-09-20","time":"10:00 AM","location":"Dubai Main Office","contact_person":"Ahmed Hassan","required_documents":["passport","experience_certificate","educational_certificate"]}},{"id":"job_005","title":"Waiter","company":"Royal Hotel","country":"UAE","city":"Sharjah","status":"published","created_at":"2025-08-15T10:30:00.000Z","published_at":"2025-08-17T10:30:00.000Z","salary":"1100 AED","currency":"AED","salary_amount":1100,"requirements":["Experience: 1+ years","Language: English & Arabic","Age: 20-35"],"description":"Waiter position available in luxury hotel restaurant","tags":["Service","Hotel","Fine Dining","English","Arabic"],"applications_count":34,"shortlisted_count":8,"interviews_today":1,"total_interviews":5,"view_count":189,"category":"Waiter","employment_type":"Full-time","working_hours":"8 hours/day","accommodation":"Provided","food":"Provided","visa_status":"Company will provide","contract_duration":"2 years"},{"id":"job_006","title":"Construction Worker","company":"BuildTech UAE","country":"UAE","city":"Dubai","status":"published","created_at":"2025-08-10T10:30:00.000Z","published_at":"2025-08-12T10:30:00.000Z","salary":"1800 AED","currency":"AED","salary_amount":1800,"requirements":["Experience: 2+ years","Physical fitness required","Language: Basic English"],"description":"Construction workers needed for residential project","tags":["Construction","Building","Manual Labor"],"applications_count":156,"shortlisted_count":45,"interviews_today":5,"total_interviews":32,"view_count":823,"category":"Construction Worker","employment_type":"Full-time","working_hours":"10 hours/day","accommodation":"Provided","food":"Provided","visa_status":"Company will provide","contract_duration":"2 years"},{"id":"job_007","title":"Middle Eastern Chef Assistant","company":"Golden Palace Restaurant","country":"Qatar","city":"Doha","status":"draft","created_at":"2025-09-08T14:20:00.000Z","published_at":null,"salary":"1400 QAR","currency":"QAR","salary_amount":1400,"requirements":["Experience: 2+ years in Middle Eastern cuisine","Language: Basic English and Arabic","Age: 22-40"],"description":"Assistant chef needed for fine dining restaurant specializing in Middle Eastern cuisine. Candidate should have experience in traditional cooking methods and spice preparation. Training provided for specialized dishes.","tags":["Chef","Restaurant","Middle Eastern Cuisine","Cooking","Fine Dining"],"applications_count":0,"shortlisted_count":0,"interviews_today":0,"total_interviews":0,"view_count":0,"category":"Chef","employment_type":"Full-time","working_hours":"8 hours/day","accommodation":"Provided","food":"Provided","visa_status":"Company will provide","contract_duration":"2 years","posting_agency":"Gulf Recruitment Services","employer":"Golden Palace Restaurant","lt_number":"LT-2025-CHEF-003","chalani_number":"CH-CHEF-2025-156","approval_date_ad":"2025-09-05","posting_date_ad":"2025-09-08","announcement_type":"online","period_years":2,"renewable":true,"hours_per_day":8,"days_per_week":6,"overtime_policy":"as_per_company_policy","weekly_off_days":1,"annual_leave_days":30,"positions":[{"title":"Chef Assistant","vacancies_male":3,"vacancies_female":2,"monthly_salary":1400,"currency":"QAR"}],"skills":["cooking","middle eastern cuisine","food preparation","english communication"],"education_requirements":["Class 12","Culinary certificate preferred"],"experience_requirements":{"min_years":2,"preferred_years":3,"domains":["cooking","restaurant","middle eastern cuisine"]},"expenses":[{"type":"medical","who_pays":"employer","is_free":true,"notes":"Health checkup required"},{"type":"training","who_pays":"employer","is_free":true,"notes":"Specialized cuisine training"}],"cutout":{"has_file":true,"is_uploaded":true,"file_name":"chef_position_ad.jpg","file_url":"https://picsum.photos/400/300?random=2","file_size":"312 KB","file_type":"image/jpeg","uploaded_at":"2025-09-08T15:30:00.000Z","status":"pending_review","notes":"Restaurant job advertisement with chef requirements and benefits"},"interview":{"date_ad":"2025-09-15","time":"2:00 PM","location":"Restaurant Main Branch, Doha","contact_person":"Omar Al-Rashid","required_documents":["passport","experience_certificate","culinary_certificate"],"notes":"Practical cooking test will be conducted"}},{"id":"job_008","title":"Express Delivery Driver","company":"FastTrack Delivery Services","country":"UAE","city":"Dubai","status":"draft","created_at":"2025-09-09T09:15:00.000Z","published_at":null,"salary":"1600 AED","currency":"AED","salary_amount":1600,"requirements":["Valid UAE driving license","Experience: 2+ years in delivery","Language: English and Arabic preferred"],"description":"Express delivery driver needed for fast-growing logistics company. Must have excellent knowledge of Dubai routes and customer service skills.","tags":["Driver","Delivery","Logistics","Customer Service"],"applications_count":0,"shortlisted_count":0,"interviews_today":0,"total_interviews":0,"view_count":0,"category":"Driver","employment_type":"Full-time","working_hours":"10 hours/day","accommodation":"Allowance given","food":"Allowance given","visa_status":"Company will provide","contract_duration":"2 years","posting_agency":"Metro Recruitment Agency","employer":"FastTrack Delivery Services","lt_number":"LT-2025-DRV-012","chalani_number":"CH-DRV-2025-234","approval_date_ad":"2025-09-07","posting_date_ad":"2025-09-09","announcement_type":"online","period_years":2,"renewable":true,"hours_per_day":10,"days_per_week":6,"overtime_policy":"paid","weekly_off_days":1,"annual_leave_days":21,"positions":[{"title":"Delivery Driver","vacancies_male":5,"vacancies_female":0,"monthly_salary":1600,"currency":"AED"}],"skills":["driving","navigation","customer service","english communication"],"education_requirements":["Class 10","Valid driving license"],"experience_requirements":{"min_years":2,"preferred_years":3,"domains":["delivery","logistics","driving"]},"expenses":[{"type":"medical","who_pays":"employer","is_free":true,"notes":"Medical fitness test"},{"type":"visa","who_pays":"employer","is_free":true,"notes":"Work visa processing"}],"cutout":{"has_file":true,"is_uploaded":false,"file_name":"delivery_driver_job_post.png","file_size":"180 KB","file_type":"image/png","status":"draft","notes":"Job posting design ready, pending upload approval"}},{"id":"job_009","title":"Luxury Hotel Housekeeping Staff","company":"Luxury Suites Hotel","country":"Kuwait","city":"Kuwait City","status":"draft","created_at":"2025-09-07T16:45:00.000Z","published_at":null,"salary":"320 KWD","currency":"KWD","salary_amount":320,"requirements":["Experience: 1+ years in hotel housekeeping","Language: Basic English","Age: 20-45"],"description":"Housekeeping staff required for 5-star luxury hotel. Comprehensive training will be provided for the right candidates. Must maintain high standards of cleanliness and guest service.","tags":["Housekeeping","Hotel","Cleaning","Guest Service","Luxury"],"applications_count":0,"shortlisted_count":0,"interviews_today":0,"total_interviews":0,"view_count":0,"category":"Cleaner","employment_type":"Full-time","working_hours":"8 hours/day","accommodation":"Provided","food":"Provided","visa_status":"Company will provide","contract_duration":"2 years","posting_agency":"Kuwait Hospitality Recruitment","employer":"Luxury Suites Hotel","lt_number":"LT-2025-HSK-007","chalani_number":"CH-HSK-2025-098","approval_date_ad":"2025-09-05","posting_date_ad":"2025-09-07","announcement_type":"agency_board","period_years":2,"renewable":true,"hours_per_day":8,"days_per_week":6,"overtime_policy":"as_per_company_policy","weekly_off_days":1,"annual_leave_days":30,"positions":[{"title":"Housekeeping Staff","vacancies_male":2,"vacancies_female":8,"monthly_salary":320,"currency":"KWD"}],"skills":["housekeeping","cleaning","guest service","attention to detail"],"education_requirements":["Class 8","Basic literacy required"],"experience_requirements":{"min_years":1,"preferred_years":2,"domains":["housekeeping","hotel","cleaning"]},"expenses":[{"type":"medical","who_pays":"employer","is_free":true,"notes":"Health checkup and vaccinations"},{"type":"training","who_pays":"employer","is_free":true,"notes":"Housekeeping and guest service training"}],"cutout":{"has_file":true,"is_uploaded":true,"file_name":"housekeeping_recruitment_ad.png"},"interview":{"date_ad":"2025-09-18","time":"11:00 AM","location":"Hotel HR Office, Kuwait City","contact_person":"Fatima Al-Zahra","required_documents":["passport","experience_certificate","character_certificate"]}},{"id":"job_010","title":"Commercial Electrician","company":"Power Solutions LLC","country":"UAE","city":"Abu Dhabi","status":"draft","created_at":"2025-09-05T11:30:00.000Z","published_at":null,"salary":"2500 AED","currency":"AED","salary_amount":2500,"requirements":["Experience: 5+ years in electrical work","Valid electrical license required","Language: English and basic Arabic"],"description":"Experienced electrician needed for commercial and residential electrical projects. Must have valid electrical license and extensive experience in installation, maintenance, and troubleshooting.","tags":["Electrician","Technical","Commercial","Installation","Maintenance"],"applications_count":0,"shortlisted_count":0,"interviews_today":0,"total_interviews":0,"view_count":0,"category":"Electrician","employment_type":"Full-time","working_hours":"8 hours/day","accommodation":"Allowance given","food":"Allowance given","visa_status":"Company will provide","contract_duration":"2 years","posting_agency":"Technical Skills Recruitment","employer":"Power Solutions LLC","lt_number":"LT-2025-ELC-025","chalani_number":"CH-ELC-2025-445","approval_date_ad":"2025-09-03","posting_date_ad":"2025-09-05","announcement_type":"online","period_years":2,"renewable":true,"hours_per_day":8,"days_per_week":6,"overtime_policy":"paid","weekly_off_days":1,"annual_leave_days":21,"positions":[{"title":"Senior Electrician","vacancies_male":4,"vacancies_female":0,"monthly_salary":2500,"currency":"AED"},{"title":"Junior Electrician","vacancies_male":2,"vacancies_female":0,"monthly_salary":1800,"currency":"AED"}],"skills":["electrical installation","troubleshooting","maintenance","safety protocols"],"education_requirements":["ITI/Diploma in Electrical","Valid electrical license"],"experience_requirements":{"min_years":5,"preferred_years":7,"domains":["electrical work","commercial projects","maintenance"]},"expenses":[{"type":"medical","who_pays":"employer","is_free":true,"notes":"Comprehensive health checkup"},{"type":"visa","who_pays":"employer","is_free":true,"notes":"Work permit and visa processing"},{"type":"training","who_pays":"employer","is_free":true,"notes":"Safety and compliance training"}],"cutout":{"has_file":false,"is_uploaded":false},"interview":{"date_ad":"2025-09-22","time":"9:00 AM","location":"Head Office, Abu Dhabi","contact_person":"Eng. Khalid Al-Mansouri","required_documents":["passport","electrical_license","experience_certificate","educational_certificate"],"notes":"Technical assessment will be conducted"}},{"id":"job_011","title":"Restaurant Waiter/Waitress","company":"Elegant Dining Restaurant","country":"Saudi Arabia","city":"Jeddah","status":"draft","created_at":"2025-09-11T08:30:00.000Z","published_at":null,"salary":"1800 SAR","currency":"SAR","salary_amount":1800,"requirements":["Experience: 1+ years in restaurant service","Language: English and Arabic","Age: 21-35"],"description":"Professional waiter/waitress needed for upscale restaurant. Must have excellent customer service skills and experience in fine dining service.","tags":["Waiter","Restaurant","Customer Service","Fine Dining"],"applications_count":0,"shortlisted_count":0,"interviews_today":0,"total_interviews":0,"view_count":0,"category":"Waiter","employment_type":"Full-time","working_hours":"8 hours/day","accommodation":"Provided","food":"Provided","visa_status":"Company will provide","contract_duration":"2 years","posting_agency":"Saudi Hospitality Recruitment","employer":"Elegant Dining Restaurant","lt_number":"LT-2025-WAI-018","chalani_number":"CH-WAI-2025-567","approval_date_ad":"2025-09-09","posting_date_ad":"2025-09-11","announcement_type":"newspaper","period_years":2,"renewable":false,"hours_per_day":8,"days_per_week":6,"overtime_policy":"unpaid","weekly_off_days":1,"annual_leave_days":21,"positions":[{"title":"Senior Waiter","vacancies_male":2,"vacancies_female":3,"monthly_salary":1800,"currency":"SAR"}],"skills":["customer service","communication","food service","multitasking"],"education_requirements":["Class 12","Hospitality certificate preferred"],"experience_requirements":{"min_years":1,"preferred_years":2,"domains":["restaurant service","customer service","hospitality"]},"expenses":[{"type":"medical","who_pays":"employer","is_free":true,"notes":"Health screening required"}],"cutout":{"has_file":true,"is_uploaded":true,"file_name":"waiter_restaurant_ad.jpg","file_url":"https://picsum.photos/400/300?random=3","file_size":"187 KB","file_type":"image/jpeg","uploaded_at":"2025-09-11T09:45:00.000Z","status":"approved","notes":"Restaurant job advertisement with elegant dining theme"}},{"id":"job_012","title":"Construction Project Manager","company":"BuildMax Construction","country":"Oman","city":"Muscat","status":"draft","created_at":"2025-09-12T10:15:00.000Z","published_at":null,"salary":"1200 OMR","currency":"OMR","salary_amount":1200,"requirements":["Experience: 8+ years in construction management","Engineering degree required","Language: English and Arabic"],"description":"Senior construction project manager needed for large-scale residential and commercial projects. Must have extensive experience in project planning, execution, and team management.","tags":["Construction","Project Management","Engineering","Leadership"],"applications_count":0,"shortlisted_count":0,"interviews_today":0,"total_interviews":0,"view_count":0,"category":"Project Manager","employment_type":"Full-time","working_hours":"9 hours/day","accommodation":"Allowance given","food":"Allowance given","visa_status":"Company will provide","contract_duration":"3 years","posting_agency":"Oman Engineering Recruitment","employer":"BuildMax Construction","lt_number":"LT-2025-PM-045","chalani_number":"CH-PM-2025-789","approval_date_ad":"2025-09-10","posting_date_ad":"2025-09-12","announcement_type":"online","period_years":3,"renewable":true,"hours_per_day":9,"days_per_week":5,"overtime_policy":"paid","weekly_off_days":2,"annual_leave_days":30,"positions":[{"title":"Senior Project Manager","vacancies_male":1,"vacancies_female":0,"monthly_salary":1200,"currency":"OMR"}],"skills":["project management","construction planning","team leadership","quality control"],"education_requirements":["Bachelor's in Civil Engineering","PMP certification preferred"],"experience_requirements":{"min_years":8,"preferred_years":10,"domains":["construction management","project planning","team leadership"]},"expenses":[{"type":"medical","who_pays":"employer","is_free":true,"notes":"Executive health checkup"},{"type":"visa","who_pays":"employer","is_free":true,"notes":"Senior level work permit"},{"type":"travel","who_pays":"employer","is_free":true,"notes":"Flight tickets for relocation"}],"cutout":{"has_file":true,"is_uploaded":true,"file_name":"construction_manager_ad.jpg"},"interview":{"date_ad":"2025-09-25","time":"10:00 AM","location":"Head Office, Muscat","contact_person":"Ahmed Al-Balushi","required_documents":["passport","engineering_degree","experience_certificate","project_portfolio"],"notes":"Technical interview and project presentation required"}}]`);class vr extends Error{constructor(a,r="UNKNOWN_ERROR",i=500,o=null){super(a),this.name="ServiceError",this.code=r,this.status=i,this.details=o,this.timestamp=new Date().toISOString()}}const lt=async(n,a=3,r=1e3)=>{let i;for(let o=1;o<=a;o++)try{return await n()}catch(d){if(i=d,d.status>=400&&d.status<500||!rb(d))break;o<a&&await new Promise(m=>setTimeout(m,r*Math.pow(2,o-1)))}throw i instanceof vr?i:new vr(i.message||"An unexpected error occurred","OPERATION_FAILED",i.status||500,{originalError:i})},rb=n=>!!(n.name==="TypeError"&&n.message.includes("fetch")||n.status>=500||n.name==="TimeoutError"||n.message.includes("Failed to fetch")),nb=(n,a="")=>n instanceof vr?n:n.name==="TypeError"&&n.message.includes("fetch")?new vr(`Network error: Unable to connect to service${a?` (${a})`:""}`,"NETWORK_ERROR",0,{originalError:n.message}):n.status?new vr(n.message||`HTTP ${n.status}: ${n.statusText||"Request failed"}${a?` (${a})`:""}`,`HTTP_${n.status}`,n.status,{originalError:n}):new vr(n.message||`Operation failed${a?` (${a})`:""}`,"OPERATION_FAILED",500,{originalError:n}),It=(n=50)=>new Promise(a=>setTimeout(a,n)),Ha=n=>JSON.parse(JSON.stringify(n));let Ge=Ha(Kp);class ib{async getJobsByIds(a){const r=`jobs_by_ids_${a.sort().join(",")}`;return await qt.getCachedData(r,async()=>lt(async()=>(await It(20),Ge.filter(i=>a.includes(i.id))),3,500),"jobs")}async getJobs(a={}){const r=`jobs_${JSON.stringify(a)}`;return await qt.getCachedData(r,async()=>lt(async()=>{await It(50);let i=[...Ge];if(a.status&&a.status!=="all"&&(i=i.filter(o=>o.status===a.status)),a.country&&a.country!=="All Countries"&&(i=i.filter(o=>o.country===a.country)),a.category&&a.category!=="all"&&(i=i.filter(o=>o.category===a.category)),a.search){const o=a.search.toLowerCase();i=i.filter(d=>d.id.toLowerCase().includes(o)||d.title.toLowerCase().includes(o)||d.company.toLowerCase().includes(o)||d.description.toLowerCase().includes(o)||d.tags.some(m=>m.toLowerCase().includes(o))||d.published_at&&d.published_at.includes(o)||d.created_at.includes(o))}return a.sortBy&&i.sort((o,d)=>{switch(a.sortBy){case"published_date":const m=o.published_at?new Date(o.published_at):new Date(o.created_at);return(d.published_at?new Date(d.published_at):new Date(d.created_at))-m;case"applications":return(d.applications_count||0)-(o.applications_count||0);case"shortlisted":return(d.shortlisted_count||0)-(o.shortlisted_count||0);case"interviews":return(d.interviews_today||0)-(o.interviews_today||0);case"salary":return d.salary_amount-o.salary_amount;case"title":return o.title.localeCompare(d.title);default:return 0}}),i},3,500),"jobs")}async getJobById(a){return await lt(async()=>{await It(30);const i=Ge.find(o=>o.id===a);return i?Ha(i):null},3,500)}async createJob(a){return await lt(async()=>{await It(80);const i={id:`job_${Date.now()}`,...a,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),applications_count:0,shortlisted_count:0,interviews_today:0,total_interviews:0,view_count:0};Ge.push(i);try{const o=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:o.id,user_name:o.name,action:"CREATE",resource_type:"JOB_POSTING",resource_id:i.id,new_values:i})}catch(o){console.warn("Audit logging (CREATE JOB) failed:",o)}return Ha(i)},3,500)}async createDraftJob(a){return await lt(async()=>{if(await It(80),!a.title||!a.company)throw new Error("Job title and company are required fields");const i=await Ke.getJobStatuses(),o={id:`job_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,...a,status:i.DRAFT,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),applications_count:0,shortlisted_count:0,interviews_today:0,total_interviews:0,view_count:0,salary_amount:Number(a.salary_amount)||0,requirements:Array.isArray(a.requirements)?a.requirements:[],tags:Array.isArray(a.tags)?a.tags:[]};Ge.push(o);try{const d=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:d.id,user_name:d.name,action:"CREATE",resource_type:"JOB_POSTING",resource_id:o.id,new_values:o,metadata:{status:i.DRAFT}})}catch(d){console.warn("Audit logging (CREATE DRAFT JOB) failed:",d)}return Ha(o)},3,500)}async updateJob(a,r){return await lt(async()=>{await It(80);const o=Ge.findIndex(p=>p.id===a);if(o===-1)return null;const d=Ha(Ge[o]);Ge[o]={...Ge[o],...r,updated_at:new Date().toISOString()};const m=Ha(Ge[o]);try{const p=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:p.id,user_name:p.name,action:"UPDATE",resource_type:"JOB_POSTING",resource_id:a,changes:r,old_values:d,new_values:m})}catch(p){console.warn("Audit logging (UPDATE JOB) failed:",p)}return m},3,500)}async deleteJob(a){return await lt(async()=>{await It(80);const i=Ge.findIndex(d=>d.id===a);if(i===-1)return!1;const o=Ha(Ge[i]);Ge.splice(i,1);try{const d=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:d.id,user_name:d.name,action:"DELETE",resource_type:"JOB_POSTING",resource_id:a,old_values:o})}catch(d){console.warn("Audit logging (DELETE JOB) failed:",d)}return!0},3,500)}async deleteJobs(a){return await lt(async()=>{if(await It(500),shouldSimulateError())throw new Error("Failed to delete jobs");let i=!0;const o=[];for(const d of a){const m=Ge.findIndex(p=>p.id===d);m===-1?i=!1:(o.push(Ha(Ge[m])),Ge.splice(m,1))}try{const d=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:d.id,user_name:d.name,action:"BULK_DELETE",resource_type:"JOB_POSTING",resource_ids:a,old_values:o})}catch(d){console.warn("Audit logging (BULK DELETE JOBS) failed:",d)}return i},3,500)}async publishJob(a){return await lt(async()=>{await It(80);const o={status:(await Ke.getJobStatuses()).PUBLISHED,published_at:new Date().toISOString()},d=await this.updateJob(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"JOB_POSTING",resource_id:a,changes:o,metadata:{action:"PUBLISH"}})}catch(m){console.warn("Audit logging (PUBLISH JOB) failed:",m)}return d},3,500)}async pauseJob(a){return await lt(async()=>{await It(300);const o={status:(await Ke.getJobStatuses()).PAUSED},d=await this.updateJob(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"JOB_POSTING",resource_id:a,changes:o,metadata:{action:"PAUSE"}})}catch(m){console.warn("Audit logging (PAUSE JOB) failed:",m)}return d},3,500)}async closeJob(a){return await lt(async()=>{await It(300);const o={status:(await Ke.getJobStatuses()).CLOSED},d=await this.updateJob(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"JOB_POSTING",resource_id:a,changes:o,metadata:{action:"CLOSE"}})}catch(m){console.warn("Audit logging (CLOSE JOB) failed:",m)}return d},3,500)}async getDraftJobs(){return await lt(async()=>{await It(200);const r=await Ke.getJobStatuses();return Ge.filter(i=>i.status===r.DRAFT)},3,500)}async getPublishedJobs(){return await lt(async()=>{await It(200);const r=await Ke.getJobStatuses();return Ge.filter(i=>i.status===r.PUBLISHED)},3,500)}async getJobsByCountry(a){return await lt(async()=>(await It(200),Ge.filter(i=>i.country===a)),3,500)}async getJobsByCategory(a){return await lt(async()=>(await It(200),Ge.filter(i=>i.category===a)),3,500)}async searchJobs(a){return await lt(async()=>{if(await It(250),!a)return[];const i=a.toLowerCase();return Ge.filter(o=>o.title.toLowerCase().includes(i)||o.company.toLowerCase().includes(i)||o.description.toLowerCase().includes(i)||o.tags.some(d=>d.toLowerCase().includes(i)))},3,500)}async getJobStatistics(){return await lt(async()=>{await It(200);const r=await Ke.getJobStatuses(),i={total:Ge.length,published:Ge.filter(o=>o.status===r.PUBLISHED).length,draft:Ge.filter(o=>o.status===r.DRAFT).length,closed:Ge.filter(o=>o.status===r.CLOSED).length,paused:Ge.filter(o=>o.status===r.PAUSED).length,byCountry:{},byCategory:{},totalApplications:Ge.reduce((o,d)=>o+d.applications_count,0),totalViews:Ge.reduce((o,d)=>o+d.view_count,0)};return Ge.forEach(o=>{i.byCountry[o.country]=(i.byCountry[o.country]||0)+1}),Ge.forEach(o=>{i.byCategory[o.category]=(i.byCategory[o.category]||0)+1}),i},3,500)}async incrementViewCount(a){return await lt(async()=>{await It(100);const i=Ge.find(o=>o.id===a);return i?(i.view_count+=1,!0):!1},3,500)}async getRecentJobs(a=30){return await lt(async()=>{await It(200);const i=new Date;return i.setDate(i.getDate()-a),Ge.filter(o=>new Date(o.created_at)>=i)},3,500)}async getPopularJobs(a=50){return await lt(async()=>(await It(200),Ge.filter(i=>i.applications_count>=a).sort((i,o)=>o.applications_count-i.applications_count)),3,500)}}const qe=new ib,Yp=JSON.parse('[{"id":"candidate_001","name":"Ram Bahadur Thapa","phone":"+977-9841234567","email":"ram.thapa@email.com","age":28,"gender":"Male","address":"Kathmandu, Nepal","experience":"3 years","skills":["Cooking","Indian Cuisine","Fast Food","English"],"education":"SLC Passed","passport_number":"A1234567","applied_jobs":["job_001"],"stage":"applied","priority_score":85,"applied_at":"2025-08-25T10:30:00.000Z","shortlisted_at":null,"cv_url":"/docs/ram_thapa_cv.pdf","photo_url":"/photos/ram_thapa.jpg","date_of_birth":"1996-05-15","marital_status":"Single","religion":"Hindu","nationality":"Nepali","emergency_contact":{"name":"Sita Thapa","relation":"Wife","phone":"+977-9841234568"},"medical_status":"Fit","previous_experience":[{"company":"Mountain View Restaurant","position":"Assistant Cook","duration":"2 years","location":"Kathmandu, Nepal"}],"salary_expectation":"1200 AED","availability":"Immediate"},{"id":"candidate_002","name":"Sita Kumari Shrestha","phone":"+977-9876543210","email":"sita.shrestha@email.com","age":25,"gender":"Female","address":"Pokhara, Nepal","experience":"2 years","skills":["Cleaning","Office Management","English","Hindi"],"education":"+2 Passed","passport_number":"B7654321","applied_jobs":["job_003"],"stage":"shortlisted","priority_score":78,"applied_at":"2025-08-23T10:30:00.000Z","shortlisted_at":"2025-08-26T10:30:00.000Z","cv_url":"/docs/sita_shrestha_cv.pdf","photo_url":"/photos/sita_shrestha.jpg","date_of_birth":"1999-03-20","marital_status":"Single","religion":"Hindu","nationality":"Nepali","emergency_contact":{"name":"Gopal Shrestha","relation":"Father","phone":"+977-9876543211"},"medical_status":"Fit","previous_experience":[{"company":"Clean Master Services","position":"Cleaner","duration":"1.5 years","location":"Pokhara, Nepal"}],"salary_expectation":"900 QAR","availability":"Within 1 month"},{"id":"candidate_003","name":"Arjun Singh Thakuri","phone":"+977-9812345678","email":"arjun.thakuri@email.com","age":32,"gender":"Male","address":"Chitwan, Nepal","experience":"5 years","skills":["Driving","Heavy Vehicle","English","Arabic"],"education":"Bachelor Degree","passport_number":"C9876543","applied_jobs":["job_002"],"stage":"scheduled","priority_score":92,"applied_at":"2025-08-21T10:30:00.000Z","shortlisted_at":"2025-08-24T10:30:00.000Z","cv_url":"/docs/arjun_thakuri_cv.pdf","photo_url":"/photos/arjun_thakuri.jpg","date_of_birth":"1992-11-08","marital_status":"Married","religion":"Hindu","nationality":"Nepali","emergency_contact":{"name":"Sunita Thakuri","relation":"Wife","phone":"+977-9812345679"},"medical_status":"Fit","previous_experience":[{"company":"Nepal Transport Service","position":"Heavy Vehicle Driver","duration":"3 years","location":"Chitwan, Nepal"},{"company":"Mountain Logistics","position":"Truck Driver","duration":"2 years","location":"Kathmandu, Nepal"}],"licenses":[{"type":"Heavy Vehicle License","number":"HV123456","expiry":"2027-12-31"}],"salary_expectation":"1500 AED","availability":"Immediate"},{"id":"candidate_004","name":"Maya Devi Gurung","phone":"+977-9823456789","email":"maya.gurung@email.com","age":30,"gender":"Female","address":"Gorkha, Nepal","experience":"4 years","skills":["Housekeeping","Cleaning","English","Korean"],"education":"+2 Passed","passport_number":"D1357924","applied_jobs":["job_003"],"stage":"applied","priority_score":81,"applied_at":"2025-08-24T10:30:00.000Z","shortlisted_at":null,"cv_url":"/docs/maya_gurung_cv.pdf","photo_url":"/photos/maya_gurung.jpg","date_of_birth":"1994-07-12","marital_status":"Married","religion":"Buddhist","nationality":"Nepali","emergency_contact":{"name":"Pemba Gurung","relation":"Husband","phone":"+977-9823456790"},"medical_status":"Fit","previous_experience":[{"company":"Everest Hotel","position":"Housekeeper","duration":"2 years","location":"Pokhara, Nepal"}],"salary_expectation":"850 QAR","availability":"Within 2 weeks"},{"id":"candidate_005","name":"Prakash Kumar Rai","phone":"+977-9834567890","email":"prakash.rai@email.com","age":26,"gender":"Male","address":"Dharan, Nepal","experience":"1 year","skills":["Security","English","Physical Fitness"],"education":"+2 Passed","passport_number":"E2468135","applied_jobs":["job_004"],"stage":"applied","priority_score":75,"applied_at":"2025-08-27T10:30:00.000Z","shortlisted_at":null,"cv_url":"/docs/prakash_rai_cv.pdf","photo_url":"/photos/prakash_rai.jpg","date_of_birth":"1998-02-28","marital_status":"Single","religion":"Hindu","nationality":"Nepali","emergency_contact":{"name":"Kiran Rai","relation":"Father","phone":"+977-9834567891"},"medical_status":"Fit","previous_experience":[{"company":"Safe Guard Security","position":"Security Guard","duration":"1 year","location":"Dharan, Nepal"}],"salary_expectation":"2000 SAR","availability":"Immediate"},{"id":"candidate_006","name":"Binod Sharma Poudel","phone":"+977-9845678901","email":"binod.poudel@email.com","age":29,"gender":"Male","address":"Butwal, Nepal","experience":"4 years","skills":["Cooking","Indian Cuisine","Continental Food","English","Hindi"],"education":"SLC Passed","passport_number":"F3579246","applied_jobs":["job_001"],"stage":"interview-passed","priority_score":88,"applied_at":"2025-08-20T10:30:00.000Z","shortlisted_at":"2025-08-22T10:30:00.000Z","cv_url":"/docs/binod_poudel_cv.pdf","photo_url":"/photos/binod_poudel.jpg","date_of_birth":"1995-09-12","marital_status":"Married","religion":"Hindu","nationality":"Nepali","emergency_contact":{"name":"Kamala Poudel","relation":"Wife","phone":"+977-9845678902"},"medical_status":"Fit","previous_experience":[{"company":"Royal Restaurant","position":"Head Cook","duration":"3 years","location":"Butwal, Nepal"}],"salary_expectation":"1300 AED","availability":"Immediate"},{"id":"candidate_007","name":"Deepak Tamang","phone":"+977-9856789012","email":"deepak.tamang@email.com","age":35,"gender":"Male","address":"Dhading, Nepal","experience":"8 years","skills":["Driving","Heavy Vehicle","Light Vehicle","English","Arabic","Mechanical Knowledge"],"education":"+2 Passed","passport_number":"G4680357","applied_jobs":["job_002"],"stage":"medical-scheduled","priority_score":91,"applied_at":"2025-08-18T10:30:00.000Z","shortlisted_at":"2025-08-20T10:30:00.000Z","cv_url":"/docs/deepak_tamang_cv.pdf","photo_url":"/photos/deepak_tamang.jpg","date_of_birth":"1989-04-25","marital_status":"Married","religion":"Buddhist","nationality":"Nepali","emergency_contact":{"name":"Dolma Tamang","relation":"Wife","phone":"+977-9856789013"},"medical_status":"Fit","previous_experience":[{"company":"Mountain Transport Co.","position":"Heavy Vehicle Driver","duration":"5 years","location":"Kathmandu, Nepal"},{"company":"Himalayan Logistics","position":"Truck Driver","duration":"3 years","location":"Dhading, Nepal"}],"licenses":[{"type":"Heavy Vehicle License","number":"HV789012","expiry":"2028-04-30"},{"type":"Light Vehicle License","number":"LV345678","expiry":"2027-04-30"}],"salary_expectation":"1600 AED","availability":"Within 2 weeks"},{"id":"candidate_008","name":"Sunita Rai","phone":"+977-9867890123","email":"sunita.rai@email.com","age":27,"gender":"Female","address":"Jhapa, Nepal","experience":"3 years","skills":["Housekeeping","Cleaning","Laundry","English","Hindi"],"education":"+2 Passed","passport_number":"H5791468","applied_jobs":["job_003"],"stage":"visa-application","priority_score":86,"applied_at":"2025-08-15T10:30:00.000Z","shortlisted_at":"2025-08-17T10:30:00.000Z","cv_url":"/docs/sunita_rai_cv.pdf","photo_url":"/photos/sunita_rai.jpg","date_of_birth":"1997-01-18","marital_status":"Single","religion":"Hindu","nationality":"Nepali","emergency_contact":{"name":"Dhan Bahadur Rai","relation":"Father","phone":"+977-9867890124"},"medical_status":"Fit","previous_experience":[{"company":"Hotel Sunrise","position":"Housekeeper","duration":"2 years","location":"Jhapa, Nepal"},{"company":"Clean Home Services","position":"Cleaner","duration":"1 year","location":"Jhapa, Nepal"}],"salary_expectation":"950 QAR","availability":"Within 1 month"},{"id":"candidate_009","name":"Krishna Bahadur Magar","phone":"+977-9878901234","email":"krishna.magar@email.com","age":31,"gender":"Male","address":"Palpa, Nepal","experience":"6 years","skills":["Cooking","Indian Cuisine","Chinese Food","Continental Food","English","Hindi","Kitchen Management"],"education":"Bachelor Degree","passport_number":"I6802579","applied_jobs":["job_001"],"stage":"ready-to-fly","priority_score":94,"applied_at":"2025-08-10T10:30:00.000Z","shortlisted_at":"2025-08-12T10:30:00.000Z","cv_url":"/docs/krishna_magar_cv.pdf","photo_url":"/photos/krishna_magar.jpg","date_of_birth":"1993-06-30","marital_status":"Married","religion":"Hindu","nationality":"Nepali","emergency_contact":{"name":"Sarita Magar","relation":"Wife","phone":"+977-9878901235"},"medical_status":"Fit","previous_experience":[{"company":"Five Star Hotel","position":"Senior Cook","duration":"4 years","location":"Pokhara, Nepal"},{"company":"International Restaurant","position":"Chef Assistant","duration":"2 years","location":"Kathmandu, Nepal"}],"salary_expectation":"1400 AED","availability":"Immediate"}]'),Vt=(n=300)=>new Promise(a=>setTimeout(a,n)),Gr=()=>Math.random()<.01,Ol=n=>JSON.parse(JSON.stringify(n));let mt=Ol(Yp);class lb{async getCandidatesByIds(a){if(await Vt(100),Gr())throw new Error("Failed to fetch candidates");return mt.filter(r=>a.includes(r.id))}async getCandidates(a={}){return lt(async()=>{if(await Vt(),Gr())throw new Error("Failed to fetch candidates");let r=[...mt];if(a.stage&&a.stage!=="all"&&(r=r.filter(i=>i.stage===a.stage)),a.gender&&a.gender!=="all"&&(r=r.filter(i=>i.gender===a.gender)),a.education&&a.education!=="all"&&(r=r.filter(i=>i.education===a.education)),a.experience&&a.experience!=="all"&&(r=r.filter(i=>{const o=parseInt(i.experience);switch(a.experience){case"0-1":return o<=1;case"1-3":return o>1&&o<=3;case"3-5":return o>3&&o<=5;case"5+":return o>5;default:return!0}})),a.search){const i=a.search.toLowerCase();r=r.filter(o=>o.name.toLowerCase().includes(i)||o.phone.includes(i)||o.email.toLowerCase().includes(i)||o.passport_number.toLowerCase().includes(i)||o.skills.some(d=>d.toLowerCase().includes(i)))}return a.sortBy&&r.sort((i,o)=>{switch(a.sortBy){case"name":return i.name.localeCompare(o.name);case"age":return i.age-o.age;case"priority_score":return o.priority_score-i.priority_score;case"applied_at":return new Date(o.applied_at)-new Date(i.applied_at);case"experience":return parseInt(o.experience)-parseInt(i.experience);default:return 0}}),r},3,500)}async getCandidateById(a){return lt(async()=>{if(await Vt(200),Gr())throw new Error("Failed to fetch candidate");const r=mt.find(i=>i.id===a);return r?Ol(r):null},3,500)}async createCandidate(a){return lt(async()=>{if(await Vt(500),Gr())throw new Error("Failed to create candidate");const r=await Ke.getApplicationStages(),i={id:`candidate_${Date.now()}`,...a,stage:r.APPLIED,priority_score:0,applied_at:new Date().toISOString(),shortlisted_at:null,applied_jobs:a.applied_jobs||[]};return mt.push(i),Ol(i)},3,500)}async updateCandidate(a,r){if(await Vt(400),Gr())throw new Error("Failed to update candidate");const i=mt.findIndex(o=>o.id===a);return i===-1?null:(mt[i]={...mt[i],...r,updated_at:new Date().toISOString()},Ol(mt[i]))}async deleteCandidate(a){if(await Vt(300),Gr())throw new Error("Failed to delete candidate");const r=mt.findIndex(i=>i.id===a);return r===-1?!1:(mt.splice(r,1),!0)}async searchCandidates(a){if(await Vt(250),!a)return[];const r=a.toLowerCase();return mt.filter(i=>i.name.toLowerCase().includes(r)||i.phone.includes(r)||i.email.toLowerCase().includes(r)||i.passport_number.toLowerCase().includes(r)||i.skills.some(o=>o.toLowerCase().includes(r)))}async getCandidatesByJobId(a){return await Vt(200),mt.filter(r=>r.applied_jobs&&r.applied_jobs.includes(a))}async getCandidatesByStage(a){return await Vt(200),mt.filter(r=>r.stage===a)}async updateCandidateStage(a,r){await Vt(300);const i={stage:r},o=await Ke.getApplicationStages();return r===o.SHORTLISTED&&(i.shortlisted_at=new Date().toISOString()),this.updateCandidate(a,i)}async updatePriorityScore(a,r){return await Vt(200),this.updateCandidate(a,{priority_score:r})}async getCandidateStatistics(){await Vt(200);const a={total:mt.length,byStage:{},byGender:{},byEducation:{},byExperience:{},averageScore:0,totalAppliedJobs:0};mt.forEach(i=>{a.byStage[i.stage]=(a.byStage[i.stage]||0)+1}),mt.forEach(i=>{a.byGender[i.gender]=(a.byGender[i.gender]||0)+1}),mt.forEach(i=>{a.byEducation[i.education]=(a.byEducation[i.education]||0)+1}),mt.forEach(i=>{const o=parseInt(i.experience);let d="0-1 years";o>1&&o<=3?d="1-3 years":o>3&&o<=5?d="3-5 years":o>5&&(d="5+ years"),a.byExperience[d]=(a.byExperience[d]||0)+1});const r=mt.reduce((i,o)=>i+o.priority_score,0);return a.averageScore=mt.length>0?r/mt.length:0,a.totalAppliedJobs=mt.reduce((i,o)=>i+(o.applied_jobs?o.applied_jobs.length:0),0),a}async getTopCandidates(a=10){return await Vt(200),mt.sort((r,i)=>i.priority_score-r.priority_score).slice(0,a)}async getCandidatesBySkill(a){await Vt(200);const r=a.toLowerCase();return mt.filter(i=>i.skills&&i.skills.some(o=>o.toLowerCase().includes(r)))}async getCandidatesByAgeRange(a,r){return await Vt(200),mt.filter(i=>i.age>=a&&i.age<=r)}async addJobApplication(a,r){await Vt(200);const i=mt.find(o=>o.id===a);return i?(i.applied_jobs||(i.applied_jobs=[]),i.applied_jobs.includes(r)||i.applied_jobs.push(r),this.updateCandidate(a,{applied_jobs:i.applied_jobs,applied_at:new Date().toISOString()})):null}async getCandidatesWithMissingDocuments(){return await Vt(200),mt.filter(a=>!a.cv_url||!a.photo_url||!a.passport_number)}async getAvailableCandidates(){await Vt(200);const a=await Ke.getApplicationStages();return mt.filter(r=>r.stage===a.SELECTED&&r.availability&&(r.availability.toLowerCase()==="immediate"||r.availability.toLowerCase().includes("within")))}}const Ts=new lb,ob=[{id:"app_candidate_001",candidate_id:"candidate_001",job_id:"job_001",stage:"applied",applied_at:"2025-08-25T10:30:00.000Z",shortlisted_at:null,interviewed_at:null,decision_at:null,priority_score:85,notes:"",documents:{cv:"/docs/ram_thapa_cv.pdf",photo:"/photos/ram_thapa.jpg",certificates:["/docs/ram_thapa_cooking_certificate.pdf"],passport:"/docs/ram_bahadur_thapa_passport.pdf"},status:"active",recruiter_notes:"Good cooking experience, needs language improvement",score_breakdown:{experience:8,skills:9,language:6,education:7,overall:8.5}},{id:"app_candidate_002",candidate_id:"candidate_002",job_id:"job_003",stage:"interview-passed",applied_at:"2025-08-23T10:30:00.000Z",shortlisted_at:"2025-08-26T10:30:00.000Z",interviewed_at:"2025-08-28T14:30:00.000Z",decision_at:null,priority_score:78,notes:"Excellent communication skills, previous experience in cleaning",interview_remarks:"Candidate showed excellent attitude and willingness to learn. Good communication skills in basic English. Previous experience in hotel cleaning is relevant. Recommended for next stage.",interview_type:"In-person",documents:[{id:"doc_001",name:"sita_shrestha_cv.pdf",stage:"applied",size:245760,type:"application/pdf",uploaded_at:"2025-08-23T10:30:00.000Z"},{id:"doc_002",name:"passport_copy.pdf",stage:"interview-passed",size:1024e3,type:"application/pdf",uploaded_at:"2025-08-28T15:00:00.000Z"}],status:"active",recruiter_notes:"Strong candidate for cleaning position",score_breakdown:{experience:7,skills:8,language:9,education:8,overall:7.8}},{id:"app_candidate_003",candidate_id:"candidate_003",job_id:"job_002",stage:"scheduled",applied_at:"2025-08-21T10:30:00.000Z",shortlisted_at:"2025-08-24T10:30:00.000Z",interviewed_at:null,decision_at:null,priority_score:92,notes:"Excellent driving experience, speaks Arabic",documents:{cv:"/docs/arjun_thakuri_cv.pdf",photo:"/photos/arjun_thakuri.jpg",certificates:["/docs/arjun_thakuri_driving_license.pdf","/docs/arjun_thakuri_heavy_vehicle_certificate.pdf"],passport:"/docs/arjun_singh_thakuri_passport.pdf"},status:"active",recruiter_notes:"Perfect match for driving position, multiple licenses",score_breakdown:{experience:10,skills:9,language:9,education:9,overall:9.2}},{id:"app_candidate_004",candidate_id:"candidate_004",job_id:"job_003",stage:"applied",applied_at:"2025-08-24T10:30:00.000Z",shortlisted_at:null,interviewed_at:null,decision_at:null,priority_score:81,notes:"",documents:{cv:"/docs/maya_gurung_cv.pdf",photo:"/photos/maya_gurung.jpg",certificates:["/docs/maya_gurung_housekeeping_certificate.pdf"],passport:"/docs/maya_devi_gurung_passport.pdf"},status:"active",recruiter_notes:"Hotel experience is valuable",score_breakdown:{experience:8,skills:8,language:8,education:8,overall:8.1}},{id:"app_candidate_005",candidate_id:"candidate_005",job_id:"job_004",stage:"applied",applied_at:"2025-08-27T10:30:00.000Z",shortlisted_at:null,interviewed_at:null,decision_at:null,priority_score:75,notes:"",documents:{cv:"/docs/prakash_rai_cv.pdf",photo:"/photos/prakash_rai.jpg",certificates:["/docs/prakash_rai_security_training.pdf"],passport:"/docs/prakash_kumar_rai_passport.pdf"},status:"active",recruiter_notes:"Young candidate with potential",score_breakdown:{experience:6,skills:7,language:8,education:8,overall:7.5}},{id:"app_candidate_006",candidate_id:"candidate_006",job_id:"job_001",stage:"interview-passed",applied_at:"2025-08-20T10:30:00.000Z",shortlisted_at:"2025-08-22T10:30:00.000Z",interviewed_at:"2025-08-28T14:30:00.000Z",decision_at:null,priority_score:88,notes:"Excellent interview performance",documents:[{id:"doc_001",name:"CV.pdf",type:"application/pdf",stage:"applied",uploaded_at:"2025-08-20T10:30:00.000Z"},{id:"doc_002",name:"Interview_Notes.pdf",type:"application/pdf",stage:"interview-passed",uploaded_at:"2025-08-28T15:00:00.000Z"}],status:"active",recruiter_notes:"Passed interview with flying colors. Ready for next stage.",score_breakdown:{experience:9,skills:9,language:8,education:8,overall:8.8}},{id:"app_candidate_007",candidate_id:"candidate_007",job_id:"job_002",stage:"medical-scheduled",applied_at:"2025-08-18T10:30:00.000Z",shortlisted_at:"2025-08-20T10:30:00.000Z",interviewed_at:"2025-08-25T09:00:00.000Z",decision_at:null,priority_score:91,notes:"Medical scheduled for Sept 5th",documents:[{id:"doc_003",name:"CV.pdf",type:"application/pdf",stage:"applied",uploaded_at:"2025-08-18T10:30:00.000Z"},{id:"doc_004",name:"Medical_Appointment.pdf",type:"application/pdf",stage:"medical-scheduled",uploaded_at:"2025-09-01T10:00:00.000Z"}],status:"active",recruiter_notes:"Excellent driver candidate. Medical appointment confirmed.",score_breakdown:{experience:10,skills:9,language:9,education:8,overall:9.1}},{id:"app_candidate_008",candidate_id:"candidate_008",job_id:"job_003",stage:"visa-application",applied_at:"2025-08-15T10:30:00.000Z",shortlisted_at:"2025-08-17T10:30:00.000Z",interviewed_at:"2025-08-22T11:00:00.000Z",decision_at:null,priority_score:86,notes:"Visa application submitted",documents:[{id:"doc_005",name:"CV.pdf",type:"application/pdf",stage:"applied",uploaded_at:"2025-08-15T10:30:00.000Z"},{id:"doc_006",name:"Medical_Certificate.pdf",type:"application/pdf",stage:"medical-passed",uploaded_at:"2025-08-30T14:00:00.000Z"},{id:"doc_007",name:"Visa_Application.pdf",type:"application/pdf",stage:"visa-application",uploaded_at:"2025-09-02T09:00:00.000Z"}],status:"active",recruiter_notes:"All documents submitted for visa processing.",score_breakdown:{experience:8,skills:9,language:8,education:9,overall:8.6}},{id:"app_candidate_009",candidate_id:"candidate_009",job_id:"job_001",stage:"ready-to-fly",applied_at:"2025-08-10T10:30:00.000Z",shortlisted_at:"2025-08-12T10:30:00.000Z",interviewed_at:"2025-08-18T16:00:00.000Z",decision_at:null,priority_score:94,notes:"Ready for deployment",documents:[{id:"doc_008",name:"CV.pdf",type:"application/pdf",stage:"applied",uploaded_at:"2025-08-10T10:30:00.000Z"},{id:"doc_009",name:"Medical_Certificate.pdf",type:"application/pdf",stage:"medical-passed",uploaded_at:"2025-08-25T14:00:00.000Z"},{id:"doc_010",name:"Visa_Approval.pdf",type:"application/pdf",stage:"visa-approved",uploaded_at:"2025-09-01T11:00:00.000Z"},{id:"doc_011",name:"Flight_Ticket.pdf",type:"application/pdf",stage:"ready-to-fly",uploaded_at:"2025-09-03T08:00:00.000Z"}],status:"active",recruiter_notes:"All processes completed. Flight booked for Sept 10th.",score_breakdown:{experience:10,skills:10,language:9,education:9,overall:9.4}}],bt=(n=50)=>new Promise(a=>setTimeout(a,n)),cb=()=>!1,tn=n=>JSON.parse(JSON.stringify(n));let et=tn(ob);class db{async getApplications(a={}){return lt(async()=>{await bt(),cb();let r=[...et];if(a.stage&&a.stage!=="all"&&(r=r.filter(i=>i.stage===a.stage)),a.job_id&&(r=r.filter(i=>i.job_id===a.job_id)),a.candidate_id&&(r=r.filter(i=>i.candidate_id===a.candidate_id)),a.status&&a.status!=="all"&&(r=r.filter(i=>i.status===a.status)),a.priority_min&&(r=r.filter(i=>i.priority_score>=a.priority_min)),a.search){const i=await Ts.getCandidates(),o=await qe.getJobs(),d=a.search.toLowerCase();r=r.filter(m=>{const p=i.find(f=>f.id===m.candidate_id),x=o.find(f=>f.id===m.job_id);return p&&(p.name.toLowerCase().includes(d)||p.phone.includes(d)||p.email.toLowerCase().includes(d))||x&&(x.title.toLowerCase().includes(d)||x.company.toLowerCase().includes(d))})}return a.sortBy&&r.sort((i,o)=>{switch(a.sortBy){case"newest":return new Date(o.applied_at)-new Date(i.applied_at);case"oldest":return new Date(i.applied_at)-new Date(o.applied_at);case"priority_score":return o.priority_score-i.priority_score;case"stage":return i.stage.localeCompare(o.stage);default:return 0}}),r},3,500)}async getApplicationsWithDetails(a={}){if(a.page||a.limit)return await this.getApplicationsPaginated(a);await bt(50);const r=await this.getApplications(a),i=await Ts.getCandidates(),o=await qe.getJobs();return r.map(d=>({...d,candidate:i.find(m=>m.id===d.candidate_id),job:o.find(m=>m.id===d.job_id)}))}async getApplicationById(a){return lt(async()=>{await bt(30);const r=et.find(i=>i.id===a);return r?tn(r):null},3,500)}async createApplication(a){return lt(async()=>{await bt(80);const r=await Ke.getApplicationStages(),i={id:`app_${Date.now()}`,...a,stage:r.APPLIED,applied_at:new Date().toISOString(),shortlisted_at:null,interviewed_at:null,decision_at:null,status:"active",notes:"",recruiter_notes:""};et.push(i);try{const o=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:o.id,user_name:o.name,action:"CREATE",resource_type:"APPLICATION",resource_id:i.id,new_values:i})}catch(o){console.warn("Audit logging (CREATE APPLICATION) failed:",o)}return tn(i)},3,500)}async updateApplication(a,r){await bt(50);const i=et.findIndex(m=>m.id===a);if(i===-1)return null;const o=tn(et[i]);et[i]={...et[i],...r,updated_at:new Date().toISOString()};const d=tn(et[i]);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"APPLICATION",resource_id:a,changes:r,old_values:o,new_values:d})}catch(m){console.warn("Audit logging (UPDATE APPLICATION) failed:",m)}return d}async deleteApplication(a){await bt(40);const r=et.findIndex(o=>o.id===a);if(r===-1)return!1;const i=tn(et[r]);et.splice(r,1);try{const o=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:o.id,user_name:o.name,action:"DELETE",resource_type:"APPLICATION",resource_id:a,old_values:i})}catch(o){console.warn("Audit logging (DELETE APPLICATION) failed:",o)}return!0}async updateApplicationStage(a,r){await bt(300);const i=await Ke.getApplicationStages(),o={stage:r};switch(r){case i.SHORTLISTED:o.shortlisted_at=new Date().toISOString();break;case i.INTERVIEWED:o.interviewed_at=new Date().toISOString();break;case i.SELECTED:case i.REJECTED:o.decision_at=new Date().toISOString();break}const d=await this.updateApplication(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"APPLICATION",resource_id:a,changes:o,metadata:{stage_change:!0}})}catch(m){console.warn("Audit logging (STAGE UPDATE APPLICATION) failed:",m)}return d}async shortlistApplication(a,r=""){await bt(300);const o={stage:(await Ke.getApplicationStages()).SHORTLISTED,shortlisted_at:new Date().toISOString(),recruiter_notes:r},d=await this.updateApplication(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"APPLICATION",resource_id:a,changes:o,metadata:{action:"SHORTLIST"}})}catch(m){console.warn("Audit logging (SHORTLIST APPLICATION) failed:",m)}return d}async rejectApplication(a,r=""){await bt(300);const o={stage:(await Ke.getApplicationStages()).REJECTED,decision_at:new Date().toISOString(),notes:r,status:"rejected"},d=await this.updateApplication(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"APPLICATION",resource_id:a,changes:o,metadata:{action:"REJECT"}})}catch(m){console.warn("Audit logging (REJECT APPLICATION) failed:",m)}return d}async selectApplication(a,r=""){await bt(300);const o={stage:(await Ke.getApplicationStages()).SELECTED,decision_at:new Date().toISOString(),recruiter_notes:r},d=await this.updateApplication(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"APPLICATION",resource_id:a,changes:o,metadata:{action:"SELECT"}})}catch(m){console.warn("Audit logging (SELECT APPLICATION) failed:",m)}return d}async getApplicationsByJobId(a){return await bt(30),et.filter(r=>r.job_id===a)}async getApplicationsByCandidateId(a){return await bt(30),et.filter(r=>r.candidate_id===a)}async getApplicationsByStage(a){return await bt(30),et.filter(r=>r.stage===a)}async getApplicationStatistics(){await bt(30);const a={total:et.length,byStage:{},byStatus:{},averagePriorityScore:0,conversionRates:{},processingTimes:{}};et.forEach(x=>{a.byStage[x.stage]=(a.byStage[x.stage]||0)+1}),et.forEach(x=>{a.byStatus[x.status]=(a.byStatus[x.status]||0)+1});const r=et.reduce((x,f)=>x+f.priority_score,0);a.averagePriorityScore=et.length>0?r/et.length:0;const i=await Ke.getApplicationStages(),o=a.byStage[i.APPLIED]||0,d=a.byStage[i.SHORTLISTED]||0,m=a.byStage[i.INTERVIEWED]||0,p=a.byStage[i.SELECTED]||0;return o>0&&(a.conversionRates.applicationToShortlist=d/o*100,a.conversionRates.applicationToInterview=m/o*100,a.conversionRates.applicationToSelection=p/o*100),a}async getRecentApplications(a=7){await bt(30);const r=new Date;return r.setDate(r.getDate()-a),et.filter(i=>new Date(i.applied_at)>=r)}async getTopPriorityApplications(a=10){return await bt(30),et.sort((r,i)=>i.priority_score-r.priority_score).slice(0,a)}async bulkUpdateStage(a,r){await bt(500);const i=[];for(const o of a){const d=await this.updateApplicationStage(o,r);d&&i.push(d)}return i}async getApplicationsRequiringAction(){await bt(30);const a=await Ke.getApplicationStages(),r=new Date;return r.setDate(r.getDate()-3),et.filter(i=>i.stage===a.APPLIED&&new Date(i.applied_at)<=r)}async getDuplicateApplications(){await bt(30);const a=new Set,r=[];return et.forEach(i=>{const o=`${i.candidate_id}_${i.job_id}`;a.has(o)?r.push(i):a.add(o)}),r}async getCandidatesByStage(a){await bt(300);const r=et.filter(o=>o.stage===a),i=await qe.getJobs();return r.map(o=>{const d=i.find(m=>m.id===o.job_id);return{...o,job_title:d?.title,job_company:d?.company,interviewed_at:o.interviewed_at,interview_remarks:o.interview_remarks||o.recruiter_notes||o.notes,interview_type:o.interview_type,documents:Array.isArray(o.documents)?o.documents:[]}})}async getAllCandidatesInWorkflow(){await bt(300),await Ke.getApplicationStages();const a=["applied","shortlisted","interview-scheduled","interview-passed","medical-scheduled","medical-passed","visa-application","visa-approved","police-clearance","embassy-attestation","travel-documents","flight-booking","pre-departure","departed","ready-to-fly"],r=et.filter(o=>a.includes(o.stage)),i=await qe.getJobs();return r.map(o=>{const d=i.find(m=>m.id===o.job_id);return{...o,job_title:d?.title,job_company:d?.company,interviewed_at:o.interviewed_at,interview_remarks:o.interview_remarks||o.recruiter_notes||o.notes,interview_type:o.interview_type,documents:Array.isArray(o.documents)?o.documents:[]}})}async attachDocument(a,r){await bt(40);const i=et.find(d=>d.candidate_id===a);if(!i)return!1;i.documents||(i.documents=[]);const o={id:`doc_${Date.now()}`,...r,uploaded_at:new Date().toISOString()};return i.documents.push(o),!0}async getApplicationsPaginated(a={}){const r=performance.now(),{page:i=1,limit:o=20,search:d="",stage:m="",country:p="",jobId:x="",sortBy:f="applied_at",sortOrder:v="desc"}=a,h=`applications_${JSON.stringify(a)}`;try{return await qt.getCachedData(h,async()=>{await bt(50);let _=[...et];if(d){const K=d.toLowerCase(),Z=await Ts.getCandidates(),ee=await qe.getJobs();_=_.filter(te=>{const Q=Z.find(_e=>_e.id===te.candidate_id),se=ee.find(_e=>_e.id===te.job_id);return Q?.name?.toLowerCase().includes(K)||Q?.email?.toLowerCase().includes(K)||Q?.phone?.includes(d)||se?.title?.toLowerCase().includes(K)||Q?.skills?.some(_e=>_e.toLowerCase().includes(K))})}if(m&&(_=_.filter(K=>K.stage===m)),x&&(_=_.filter(K=>K.job_id===x)),p){const Z=(await qe.getJobs()).filter(ee=>ee.country===p).map(ee=>ee.id);_=_.filter(ee=>Z.includes(ee.job_id))}_.sort((K,Z)=>{let ee=K[f],te=Z[f];return(f==="applied_at"||f==="updated_at")&&(ee=new Date(ee),te=new Date(te)),v==="desc"?te>ee?1:-1:ee>te?1:-1});const F=_.length,I=Math.ceil(F/o),E=(i-1)*o,$=_.slice(E,E+o),O=await this.enrichApplicationsData($),R=performance.now()-r;return{data:O,pagination:{page:i,limit:o,total:F,totalPages:I,hasNext:i<I,hasPrev:i>1},performance:{loadTime:Math.round(R),cached:!1}}})}catch(_){throw console.error("Error in getApplicationsPaginated:",_),nb(_,"getApplicationsPaginated")}}async enrichApplicationsData(a){if(!a.length)return[];const r=[...new Set(a.map(x=>x.candidate_id))],i=[...new Set(a.map(x=>x.job_id))],[o,d]=await Promise.all([Ts.getCandidatesByIds(r),qe.getJobsByIds(i)]),m=new Map(o.map(x=>[x.id,x])),p=new Map(d.map(x=>[x.id,x]));return a.map(x=>({...x,candidate:m.get(x.candidate_id),job:p.get(x.job_id)}))}async getApplicationStatistics(){return await qt.getCachedData("application_statistics",async()=>{await bt(30);const r=[...et],i=await Ke.getApplicationStages(),o={total:r.length,byStage:{},byMonth:{},recentActivity:r.filter(d=>{const m=new Date(d.applied_at),p=new Date;return p.setDate(p.getDate()-7),m>=p}).length};Object.values(i).forEach(d=>{o.byStage[d]=r.filter(m=>m.stage===d).length});for(let d=0;d<6;d++){const m=new Date;m.setMonth(m.getMonth()-d);const p=m.toISOString().slice(0,7);o.byMonth[p]=r.filter(x=>x.applied_at.startsWith(p)).length}return o},"analytics")}async bulkUpdateStageOptimized(a,r){const i=performance.now();try{await qt.processInChunks(a,async d=>{d.forEach(m=>{const p=et.findIndex(x=>x.id===m);p!==-1&&(et[p]={...et[p],stage:r,updated_at:new Date().toISOString()})}),await bt(10)},50),qt.clearCache();const o=performance.now();return{success:!0,updated:a.length,performance:{loadTime:Math.round(o-i)}}}catch(o){throw console.error("Bulk update error:",o),new Error("Failed to update applications")}}}const Kt=new db,ub=[{id:"interview_001",candidate_id:"candidate_003",job_id:"job_002",application_id:"app_candidate_003",scheduled_at:"2025-08-30T14:00:00.000Z",duration:30,status:"scheduled",interviewer:"Ahmed Al Mansouri",interviewer_email:"ahmed.mansouri@emirateslogistics.com",location:"Office - Conference Room A",type:"In-person",notes:"",result:null,created_at:"2025-08-26T10:30:00.000Z",updated_at:"2025-08-26T10:30:00.000Z",interview_questions:["Tell us about your driving experience","Have you worked with heavy vehicles before?","Do you have any traffic violations?","Are you comfortable working long hours?"],preparation_notes:"Review driving license and experience certificates",feedback:null,score:null,recommendation:null},{id:"interview_002",candidate_id:"candidate_001",job_id:"job_001",application_id:"app_candidate_001",scheduled_at:"2025-08-29T10:00:00.000Z",duration:45,status:"scheduled",interviewer:"Sarah Johnson",interviewer_email:"sarah.johnson@almanararestaurant.com",location:"Video Call - Zoom",type:"Online",notes:"",result:null,created_at:"2025-08-27T10:30:00.000Z",updated_at:"2025-08-27T10:30:00.000Z",interview_questions:["Describe your cooking experience","What types of cuisine can you prepare?","How do you handle pressure in a busy kitchen?","Are you willing to work different shifts?"],preparation_notes:"Prepare cooking demonstration questions",feedback:null,score:null,recommendation:null},{id:"interview_003",candidate_id:"candidate_002",job_id:"job_003",application_id:"app_candidate_002",scheduled_at:"2025-08-31T09:00:00.000Z",duration:20,status:"scheduled",interviewer:"Hassan Al Qasimi",interviewer_email:"hassan.qasimi@cleanproservices.com",location:"Office - Meeting Room B",type:"In-person",notes:"Candidate has good English communication",result:null,created_at:"2025-08-26T15:30:00.000Z",updated_at:"2025-08-26T15:30:00.000Z",interview_questions:["Tell us about your cleaning experience","How do you maintain quality standards?","Can you work independently?","Are you comfortable with office environment?"],preparation_notes:"Review cleaning standards and procedures",feedback:null,score:null,recommendation:null},{id:"interview_004",candidate_id:"candidate_004",job_id:"job_003",application_id:"app_candidate_004",scheduled_at:"2025-09-02T11:00:00.000Z",duration:25,status:"scheduled",interviewer:"Hassan Al Qasimi",interviewer_email:"hassan.qasimi@cleanproservices.com",location:"Phone Call",type:"Phone",notes:"Follow up interview for cleaning position",result:null,created_at:"2025-08-28T10:30:00.000Z",updated_at:"2025-08-28T10:30:00.000Z",interview_questions:["Why did you choose cleaning as a profession?","How do you handle different cleaning chemicals?","Describe your hotel housekeeping experience","What is your availability?"],preparation_notes:"Discuss hotel experience in detail",feedback:null,score:null,recommendation:null},{id:"interview_005",candidate_id:"candidate_005",job_id:"job_004",application_id:"app_candidate_005",scheduled_at:"2025-09-01T16:00:00.000Z",duration:35,status:"completed",interviewer:"Abdullah Al Rashid",interviewer_email:"abdullah.rashid@securemax.com",location:"Office - Security Department",type:"In-person",notes:"Initial interview completed",result:"passed",created_at:"2025-08-27T10:30:00.000Z",updated_at:"2025-09-01T17:00:00.000Z",interview_questions:["What is your security experience?","How do you handle emergency situations?","Are you comfortable with night shifts?","Do you have any security training certificates?"],preparation_notes:"Review security procedures and protocols",feedback:"Good candidate, shows alertness and commitment. Needs additional training on security protocols.",score:8.5,recommendation:"Recommend for hire with training period"}],As=(n=300)=>new Promise(a=>setTimeout(a,n)),El=()=>Math.random()<.05,Qn=n=>JSON.parse(JSON.stringify(n));let ha=Qn(ub);class mb{async getAllInterviews(a={}){return this.getInterviews(a)}async getInterviews(a={}){return lt(async()=>{if(await As(),El())throw new Error("Failed to fetch interviews");let r=[...ha];if(a.status&&a.status!=="all"&&(r=r.filter(i=>i.status===a.status)),a.type&&a.type!=="all"&&(r=r.filter(i=>i.type===a.type)),a.job_id&&(r=r.filter(i=>i.job_id===a.job_id)),a.candidate_id&&(r=r.filter(i=>i.candidate_id===a.candidate_id)),a.interviewer&&(r=r.filter(i=>i.interviewer.toLowerCase().includes(a.interviewer.toLowerCase()))),a.date){const i=new Date(a.date);r=r.filter(o=>new Date(o.scheduled_at).toDateString()===i.toDateString())}if(a.dateRange){const{start:i,end:o}=a.dateRange;r=r.filter(d=>{const m=new Date(d.scheduled_at);return m>=new Date(i)&&m<=new Date(o)})}return a.sortBy&&r.sort((i,o)=>{switch(a.sortBy){case"newest":return new Date(o.scheduled_at)-new Date(i.scheduled_at);case"oldest":return new Date(i.scheduled_at)-new Date(o.scheduled_at);case"interviewer":return i.interviewer.localeCompare(o.interviewer);case"duration":return o.duration-i.duration;case"status":return i.status.localeCompare(o.status);default:return 0}}),r},3,500)}async getInterviewsWithDetails(a={}){await As(400);const r=await this.getInterviews(a),i=await Ts.getCandidates(),o=await qe.getJobs();return r.map(d=>({...d,candidate:i.find(m=>m.id===d.candidate_id),job:o.find(m=>m.id===d.job_id)}))}async getInterviewById(a){return lt(async()=>{if(await As(200),El())throw new Error("Failed to fetch interview");const r=ha.find(i=>i.id===a);return r?Qn(r):null},3,500)}async scheduleInterview(a){return lt(async()=>{if(await As(500),El())throw new Error("Failed to schedule interview");const r=await Ke.getInterviewStatuses(),i={id:`interview_${Date.now()}`,...a,status:r.SCHEDULED,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),feedback:null,score:null,recommendation:null};ha.push(i);try{const o=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:o.id,user_name:o.name,action:"CREATE",resource_type:"INTERVIEW",resource_id:i.id,new_values:i})}catch(o){console.warn("Audit logging (SCHEDULE INTERVIEW) failed:",o)}if(a.candidate_id){const o=await Ke.getApplicationStages();await Ts.updateCandidateStage(a.candidate_id,o.SCHEDULED)}return Qn(i)},3,500)}async updateInterview(a,r){if(await As(400),El())throw new Error("Failed to update interview");const i=ha.findIndex(m=>m.id===a);if(i===-1)return null;const o=Qn(ha[i]);ha[i]={...ha[i],...r,updated_at:new Date().toISOString()};const d=Qn(ha[i]);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"INTERVIEW",resource_id:a,changes:r,old_values:o,new_values:d})}catch(m){console.warn("Audit logging (UPDATE INTERVIEW) failed:",m)}return d}async cancelInterview(a,r=""){await As(300);const o={status:(await Ke.getInterviewStatuses()).CANCELLED,notes:r},d=await this.updateInterview(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"INTERVIEW",resource_id:a,changes:o,metadata:{action:"CANCEL"}})}catch(m){console.warn("Audit logging (CANCEL INTERVIEW) failed:",m)}return d}async completeInterview(a,r){await As(400);const o={status:(await Ke.getInterviewStatuses()).COMPLETED,...r},d=await this.updateInterview(a,o);if(d&&d.candidate_id){const m=await Ke.getApplicationStages();await Ts.updateCandidateStage(d.candidate_id,m.INTERVIEWED)}try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"INTERVIEW",resource_id:a,changes:o,metadata:{action:"COMPLETE"}})}catch(m){console.warn("Audit logging (COMPLETE INTERVIEW) failed:",m)}return d}async markAsNoShow(a,r=""){await As(300);const o={status:(await Ke.getInterviewStatuses()).NO_SHOW,notes:r},d=await this.updateInterview(a,o);try{const m=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:m.id,user_name:m.name,action:"UPDATE",resource_type:"INTERVIEW",resource_id:a,changes:o,metadata:{action:"NO_SHOW"}})}catch(m){console.warn("Audit logging (NO_SHOW INTERVIEW) failed:",m)}return d}async rescheduleInterview(a,r){await As(300);const i={scheduled_at:r},o=await this.updateInterview(a,i);try{const d=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:d.id,user_name:d.name,action:"UPDATE",resource_type:"INTERVIEW",resource_id:a,changes:i,metadata:{action:"RESCHEDULE"}})}catch(d){console.warn("Audit logging (RESCHEDULE INTERVIEW) failed:",d)}return o}async bulkScheduleInterviews(a){await As(800);const r=[];for(const i of a)try{const o=await this.scheduleInterview(i);r.push(o)}catch(o){console.error("Failed to schedule interview:",o)}try{const i=Ue.getCurrentUser()||{id:"system",name:"System"};await $e.logEvent({user_id:i.id,user_name:i.name,action:"BULK_CREATE",resource_type:"INTERVIEW",resource_ids:r.map(o=>o.id),new_values:r})}catch(i){console.warn("Audit logging (BULK SCHEDULE INTERVIEWS) failed:",i)}return r}async getInterviewsRequiringFollowup(){await As(200);const a=await Ke.getInterviewStatuses(),r=new Date;return r.setDate(r.getDate()-2),ha.filter(i=>i.status===a.COMPLETED&&new Date(i.updated_at)<=r&&(!i.feedback||!i.recommendation))}async getCalendarEvents(a,r){await As(200);const i=await this.getInterviewsByDateRange(a,r),o=await Ts.getCandidates(),d=await qe.getJobs();return i.map(m=>{const p=o.find(f=>f.id===m.candidate_id),x=d.find(f=>f.id===m.job_id);return{id:m.id,title:`${p?.name||"Unknown"} - ${x?.title||"Unknown"}`,start:m.scheduled_at,end:new Date(new Date(m.scheduled_at).getTime()+m.duration*6e4).toISOString(),extendedProps:{interview:m,candidate:p,job:x,type:m.type,status:m.status,interviewer:m.interviewer,location:m.location}}})}}const jr=new mb,hb="agency_001",pb="Inspire International Employment Pvt. Ltd",xb="Manpower Bazar, Sinamangal, Kathmandu, Nepal",gb="01-4112800",fb="+977-9841234567",yb="info@inspireintl.com.np",vb="www.udaanrecruitment.com",bb="REG-2024-001",jb="/images/agency_logo.png",wb="/images/agency_banner.jpg",Nb=2020,_b="Leading recruitment agency specializing in overseas employment opportunities for Nepali workers in Gulf countries and Malaysia.",Sb=["Overseas Job Placement","Visa Processing","Document Verification","Pre-departure Training","Post-placement Support"],kb=[{name:"Government License",number:"REG-2024-001",issued_by:"Department of Foreign Employment",issued_date:"2020-01-15",expiry_date:"2025-01-15"},{name:"ISO 9001:2015",number:"ISO-2021-4567",issued_by:"International Standards Organization",issued_date:"2021-06-20",expiry_date:"2024-06-20"}],Cb={facebook:"https://facebook.com/udaanrecruitment",instagram:"https://instagram.com/udaanrecruitment",linkedin:"https://linkedin.com/company/udaanrecruitment",twitter:"https://twitter.com/udaanrecruitment"},Eb={bank_name:"Nepal Investment Bank",account_name:"Udaan Recruitment Agency Pvt. Ltd.",account_number:"0123456789",swift_code:"NIBLNPKT"},Ab=[{name:"Rajesh Thapa",position:"Managing Director",phone:"+977-9841234567",email:"rajesh@udaanrecruitment.com"},{name:"Sunita Shrestha",position:"Operations Manager",phone:"+977-9851234567",email:"sunita@udaanrecruitment.com"}],Db={weekdays:"09:00 AM - 06:00 PM",saturday:"09:00 AM - 05:00 PM",sunday:"Closed"},Pb=["UAE","Saudi Arabia","Qatar","Kuwait","Oman","Bahrain","Malaysia","Singapore"],Mb=["Hospitality","Construction","Healthcare","Domestic Work","Security Services","Transportation"],Tb={total_placements:1250,active_since:"2020-01-15",success_rate:92,countries_served:8,partner_companies:45,active_recruiters:8},Ib={currency:"NPR",timezone:"Asia/Kathmandu",language:"en",date_format:"DD/MM/YYYY",notifications:{email_enabled:!0,sms_enabled:!0,push_enabled:!0},features:{online_applications:!0,document_upload:!0,interview_scheduling:!0,candidate_tracking:!0,analytics_dashboard:!0}},Lb={id:hb,name:pb,address:xb,phone:gb,mobile:fb,email:yb,website:vb,license_number:bb,logo_url:jb,banner_url:wb,established_year:Nb,description:_b,services:Sb,certifications:kb,social_media:Cb,bank_details:Eb,contact_persons:Ab,operating_hours:Db,target_countries:Pb,specializations:Mb,statistics:Tb,settings:Ib},Qe=(n=300)=>new Promise(a=>setTimeout(a,n)),Al=()=>Math.random()<.05,Rl=n=>JSON.parse(JSON.stringify(n));let Gn=Rl(Lb);class Ob{async getAgencyProfile(){if(await Qe(),Al())throw new Error("Failed to fetch agency profile");return Rl(Gn)}async updateAgencyProfile(a,r={}){if(await Qe(500),Al())throw new Error("Failed to update agency profile");const i=Rl(Gn);Gn={...Gn,...a,updated_at:new Date().toISOString()};const o=Rl(Gn);return r.user&&await $e.logAgencyUpdate({user:r.user,oldData:i,newData:o,section:r.section||"general",changes:a}),o}async getAgencyBasicInfo(){await Qe(150);const a=await this.getAgencyProfile();return{id:a.id,name:a.name,address:a.address,phone:a.phone,mobile:a.mobile,email:a.email,website:a.website,logo_url:a.logo_url,established_year:a.established_year}}async updateBasicInfo(a,r={}){return await Qe(400),this.updateAgencyProfile(a,{...r,section:"basic"})}async getContactInfo(){await Qe(150);const a=await this.getAgencyProfile();return{phone:a.phone,mobile:a.mobile,email:a.email,website:a.website,address:a.address,contact_persons:a.contact_persons}}async updateContactInfo(a,r={}){return await Qe(400),this.updateAgencyProfile(a,{...r,section:"contact"})}async getCertifications(){return await Qe(150),(await this.getAgencyProfile()).certifications||[]}async addCertification(a){await Qe(300);const r=await this.getAgencyProfile(),i={...a,id:`cert_${Date.now()}`,added_at:new Date().toISOString()},o=[...r.certifications||[],i];return this.updateAgencyProfile({certifications:o})}async updateCertification(a,r){await Qe(300);const o=(await this.getAgencyProfile()).certifications?.map(d=>d.id===a?{...d,...r,updated_at:new Date().toISOString()}:d)||[];return this.updateAgencyProfile({certifications:o})}async removeCertification(a){await Qe(300);const i=(await this.getAgencyProfile()).certifications?.filter(o=>o.id!==a)||[];return this.updateAgencyProfile({certifications:i})}async getSocialMedia(){return await Qe(150),(await this.getAgencyProfile()).social_media||{}}async updateSocialMedia(a,r={}){return await Qe(300),this.updateAgencyProfile({social_media:a},{...r,section:"social"})}async getBankDetails(){return await Qe(150),(await this.getAgencyProfile()).bank_details||{}}async updateBankDetails(a){return await Qe(300),this.updateAgencyProfile({bank_details:a})}async getContactPersons(){return await Qe(150),(await this.getAgencyProfile()).contact_persons||[]}async addContactPerson(a){await Qe(300);const r=await this.getAgencyProfile(),i={...a,id:`contact_${Date.now()}`,added_at:new Date().toISOString()},o=[...r.contact_persons||[],i];return this.updateAgencyProfile({contact_persons:o})}async updateContactPerson(a,r){await Qe(300);const o=(await this.getAgencyProfile()).contact_persons?.map(d=>d.id===a?{...d,...r,updated_at:new Date().toISOString()}:d)||[];return this.updateAgencyProfile({contact_persons:o})}async removeContactPerson(a){await Qe(300);const i=(await this.getAgencyProfile()).contact_persons?.filter(o=>o.id!==a)||[];return this.updateAgencyProfile({contact_persons:i})}async getSettings(){return await Qe(150),(await this.getAgencyProfile()).settings||{}}async updateSettings(a,r={}){await Qe(300);const o={...(await this.getAgencyProfile()).settings,...a};return this.updateAgencyProfile({settings:o},{...r,section:"settings"})}async getStatistics(){return await Qe(150),(await this.getAgencyProfile()).statistics||{}}async updateStatistics(a){await Qe(300);const i={...(await this.getAgencyProfile()).statistics,...a};return this.updateAgencyProfile({statistics:i})}async uploadLogo(a,r={}){if(await Qe(800),Al())throw new Error("Failed to upload logo");const o=(await this.getAgencyProfile()).logo_url,d=`/images/agency_logo_${Date.now()}.${a.name.split(".").pop()}`;return r.user&&await $e.logFileUpload({user:r.user,fileType:"logo",fileName:a.name,fileSize:a.size,oldUrl:o,newUrl:d}),this.updateAgencyProfile({logo_url:d},{...r,section:"media"})}async uploadBanner(a,r={}){if(await Qe(800),Al())throw new Error("Failed to upload banner");const o=(await this.getAgencyProfile()).banner_url,d=`/images/agency_banner_${Date.now()}.${a.name.split(".").pop()}`;return r.user&&await $e.logFileUpload({user:r.user,fileType:"banner",fileName:a.name,fileSize:a.size,oldUrl:o,newUrl:d}),this.updateAgencyProfile({banner_url:d},{...r,section:"media"})}async getSpecializations(){return await Qe(150),(await this.getAgencyProfile()).specializations||[]}async updateSpecializations(a,r={}){return await Qe(300),this.updateAgencyProfile({specializations:a},{...r,section:"services"})}async getTargetCountries(){return await Qe(150),(await this.getAgencyProfile()).target_countries||[]}async updateTargetCountries(a,r={}){return await Qe(300),this.updateAgencyProfile({target_countries:a},{...r,section:"services"})}async getServices(){return await Qe(150),(await this.getAgencyProfile()).services||[]}async updateServices(a,r={}){return await Qe(300),this.updateAgencyProfile({services:a},{...r,section:"services"})}async getOperatingHours(){return await Qe(150),(await this.getAgencyProfile()).operating_hours||{}}async updateOperatingHours(a){return await Qe(300),this.updateAgencyProfile({operating_hours:a})}async validateAgencyData(a){await Qe(200);const r=[],i=[];return a.name||r.push("Agency name is required"),a.email||r.push("Email is required"),a.phone||r.push("Phone number is required"),a.address||r.push("Address is required"),a.license_number||r.push("License number is required"),a.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)&&r.push("Invalid email format"),a.phone&&!/^\+?[\d\s-()]+$/.test(a.phone)&&i.push("Phone number format should be validated"),a.certifications&&a.certifications.forEach(o=>{if(o.expiry_date){const d=new Date(o.expiry_date),m=new Date;m.setDate(m.getDate()+30),d<m&&i.push(`Certification "${o.name}" expires soon`)}}),{valid:r.length===0,errors:r,warnings:i}}}const Ps=new Ob,Rb=[{id:"interviewed",name:"Interviewed",description:"Candidates who have completed interviews",order:1,color:"blue"},{id:"selected",name:"Selected",description:"Candidates selected for positions",order:2,color:"green"},{id:"document_verification",name:"Document Verification",description:"Verifying candidate documents",order:3,color:"yellow"},{id:"medical_test",name:"Medical Test",description:"Medical examination pending/completed",order:4,color:"purple"},{id:"visa_processing",name:"Visa Processing",description:"Work visa application in progress",order:5,color:"orange"},{id:"deployment",name:"Deployment",description:"Ready for travel/deployed",order:6,color:"teal"},{id:"rejected",name:"Rejected",description:"Candidates not selected",order:7,color:"red"}],Fb=[{id:"workflow_001",candidate_id:"candidate_005",job_id:"job_004",application_id:"app_candidate_005",current_stage:"selected",status:"active",created_at:"2025-09-01T17:00:00.000Z",updated_at:"2025-09-01T17:00:00.000Z",expected_completion:"2025-10-15T00:00:00.000Z",progress:25,timeline:[{stage:"interviewed",completed_at:"2025-09-01T17:00:00.000Z",status:"completed",notes:"Interview passed successfully"},{stage:"selected",completed_at:"2025-09-01T17:00:00.000Z",status:"completed",notes:"Selected for Security Guard position"},{stage:"document_verification",completed_at:null,status:"pending",notes:"Waiting for passport and certificates verification"}],documents_required:[{name:"Passport Copy",status:"received",received_at:"2025-09-01T18:00:00.000Z"},{name:"Educational Certificates",status:"pending",received_at:null},{name:"Experience Letters",status:"received",received_at:"2025-09-01T18:00:00.000Z"},{name:"Medical Certificate",status:"pending",received_at:null}],assigned_to:"Sunita Shrestha",priority:"high",estimated_deployment:"2025-10-15T00:00:00.000Z"}],$b={total_in_pipeline:1,by_stage:{interviewed:0,selected:1,document_verification:0,medical_test:0,visa_processing:0,deployment:0,rejected:0},average_processing_time:{document_verification:5,medical_test:7,visa_processing:21,deployment:30},success_rate:{overall:85,by_country:{UAE:90,"Saudi Arabia":85,Qatar:88,Kuwait:82}}},Bb=[{id:"deployment_001",candidate_id:"candidate_005",job_id:"job_004",expected_date:"2025-10-15T00:00:00.000Z",flight_details:null,status:"scheduled",employer_contact:{name:"Abdullah Al Rashid",company:"SecureMax",phone:"+966-123456789",email:"abdullah.rashid@securemax.com"}}],Ub={mandatory:["Passport (valid for 2+ years)","Educational Certificates","Experience Letters","Medical Certificate","Police Clearance Certificate","Birth Certificate","Marriage Certificate (if married)"],optional:["Skill Certificates","Training Certificates","Reference Letters","Insurance Documents"]},zb={document_verification:{min_days:3,max_days:7,average_days:5},medical_test:{min_days:5,max_days:10,average_days:7},visa_processing:{min_days:15,max_days:30,average_days:21},total_pipeline:{min_days:25,max_days:60,average_days:35}},Wb={stages:Rb,workflows:Fb,pipeline_metrics:$b,deployment_schedule:Bb,document_checklist:Ub,processing_times:zb},Jb=n=>JSON.parse(JSON.stringify(n));Jb(Wb);var nn=function(){return nn=Object.assign||function(a){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(a[d]=r[d])}return a},nn.apply(this,arguments)},Hb={2e3:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2001:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2002:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2003:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2004:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2005:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2006:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2007:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2008:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2009:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2010:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2011:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2012:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2013:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2014:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2015:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2016:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2017:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2018:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2019:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2020:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2021:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2022:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2023:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2024:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2025:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2026:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2027:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2028:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2029:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:32,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2030:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2031:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2032:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2033:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2034:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2035:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2036:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2037:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2038:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2039:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2040:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2041:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2042:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2043:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2044:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2045:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2046:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2047:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2048:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2049:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2050:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2051:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2052:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2053:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2054:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2055:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2056:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:32,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2057:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2058:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2059:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2060:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2061:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2062:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2063:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2064:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2065:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2066:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:29,Chaitra:31},2067:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2068:{Baisakh:31,Jestha:31,Asar:32,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2069:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2070:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:29,Mangsir:30,Poush:30,Magh:29,Falgun:30,Chaitra:30},2071:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2072:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2073:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2074:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2075:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2076:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2077:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2078:{Baisakh:31,Jestha:31,Asar:31,Shrawan:32,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2079:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2080:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:30},2081:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2082:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2083:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2084:{Baisakh:31,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:29,Falgun:30,Chaitra:31},2085:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:29,Chaitra:31},2086:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:29,Poush:30,Magh:29,Falgun:30,Chaitra:30},2087:{Baisakh:31,Jestha:31,Asar:32,Shrawan:31,Bhadra:31,Aswin:31,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2088:{Baisakh:30,Jestha:31,Asar:32,Shrawan:32,Bhadra:30,Aswin:31,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2089:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30},2090:{Baisakh:30,Jestha:32,Asar:31,Shrawan:32,Bhadra:31,Aswin:30,Kartik:30,Mangsir:30,Poush:29,Magh:30,Falgun:30,Chaitra:30}},md;(function(n){n.np="np",n.en="en"})(md||(md={}));var Gp=Object.values(Hb).map(function(n){return Object.values(n)}),hd=Gp.map(function(n){var a=0;return n.map(function(r){var i=[r,a];return a+=r,i})},[]),pd=0,ql=Gp.map(function(n){var a=n.reduce(function(i,o){return i+o},0),r=[a,pd];return pd+=a,r}),Kl=33238;if(pd!==Kl)throw new Error("Invalid constant initialization for Nepali Date.");var xd=1;function Vb(n){return n-Qp}function qb(n){return n+Qp}var Qp=2e3,xa=1,Jh=0;function Kb(n,a){for(;a<0;)a+=n;return a%n}var Zn={en:{day:{short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},month:{short:["Bai","Jes","Asa","Shr","Bhd","Asw","Kar","Man","Pou","Mag","Fal","Cha"],long:["Baisakh","Jestha","Asar","Shrawan","Bhadra","Aswin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"]},date:["0","1","2","3","4","5","6","7","8","9"]},np:{day:{short:["","","","","","",""],long:["","","","","","",""]},month:{short:["","","","","","","","","","","",""],long:["","","","","","","","","","","",""]},date:["","","","","","","","","",""]}},Qc={year:1943,month:3,date:13};function Yb(n,a,r){try{var i=Vb(n),o=ql[i][xa],d=Kb(12,a),m=Math.floor(a/12),p=ql[i+m][xa]-o+hd[i+m][d][xa],x=o+p+r;if(x<xd||x>Kl)throw new Error;return x}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Zp(n){if(n<xd||n>Kl)throw new Error("The epoch difference is not within the boundaries ".concat(xd," - ").concat(Kl));var a=ql.findIndex(function(d){return n>d[xa]&&n<=d[xa]+d[Jh]}),r=n-ql[a][xa],i=hd[a].findIndex(function(d){return r>d[xa]&&r<=d[xa]+d[Jh]}),o=r-hd[a][i][xa];return{year:qb(a),month:i,date:o}}function Gb(n,a,r){var i=Math.abs(Date.UTC(n,a,r)-Date.UTC(Qc.year,Qc.month,Qc.date)),o=Math.ceil(i/(1e3*3600*24));return o}function Xp(n){var a=new Date(Date.UTC(1943,3,13+n));return{year:a.getUTCFullYear(),month:a.getUTCMonth(),date:a.getUTCDate(),day:a.getUTCDay()}}function Qb(n){try{var a=Yb(n.year,n.month,n.date),r=Zp(a),i=Xp(a);return{AD:i,BS:nn(nn({},r),{day:i.day})}}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Zb(n){try{var a=Gb(n.getFullYear(),n.getMonth(),n.getDate()),r=Zp(a),i=Xp(a);return{AD:i,BS:nn(nn({},r),{day:i.day})}}catch{throw new Error("The date doesn't fall within 2000/01/01 - 2090/12/30")}}function Ja(n,a){return n.split("").map(function(r){return Zn[a].date[parseInt(r,10)]}).join("")}function Xb(n,a,r){return a.replace(/((\\[MDYd])|D{1,2}|M{1,4}|Y{2,4}|d{1,3})/g,function(i,o,d){var m;switch(i){case"D":return Ja(n.date.toString(),r);case"DD":return Ja(n.date.toString().padStart(2,"0"),r);case"M":return Ja((n.month+1).toString(),r);case"MM":return Ja((n.month+1).toString().padStart(2,"0"),r);case"MMM":return Zn[r].month.short[n.month];case"MMMM":return Zn[r].month.long[n.month];case"YY":return Ja(n.year.toString().slice(-2),r);case"YYY":return Ja(n.year.toString().slice(-3),r);case"YYYY":return Ja(n.year.toString(),r);case"d":return Ja(((m=n.day)===null||m===void 0?void 0:m.toString())||"0",r);case"dd":return Zn[r].day.short[n.day||0];case"ddd":return Zn[r].day.long[n.day||0];default:return d.replace("/","")}}).replace(/\\/g,"")}function Hh(n){var a=/(\d{4})\s*([/-]|\s+)\s*(\d{1,2})\s*([/-]|\s+)\s*(\d{1,2})/,r=/(\d{1,2})\s*([/-]|\s+)\s*(\d{1,2})\s*([/-]|\s+)\s*(\d{4})/,i;if(i=n.match(a),i!==null)return{year:parseInt(i[1],10),month:parseInt(i[3],10)-1,date:parseInt(i[5],10)};if(i=n.match(r),i!==null)return{year:parseInt(i[5],10),month:parseInt(i[3],10)-1,date:parseInt(i[1],10)};throw new Error("Invalid date format")}var mr=Symbol("Date"),Zc=Symbol("Day"),hr=Symbol("Year"),pr=Symbol("MonthIndex"),xr=Symbol("JsDate"),Dl=Symbol("convertToBS()"),Qr=Symbol("convertToAD()"),Xc=Symbol("setADBS()"),Pl=Symbol("setDayYearMonth()"),e0=(function(){function n(){var a=new Error("Invalid constructor arguments");if(arguments.length===0)this[Dl](new Date);else if(arguments.length===1){var r=arguments[0];switch(typeof r){case"number":this[Dl](new Date(r));break;case"string":var i=Hh(r),o=i.date,d=i.year,m=i.month;this[Pl](d,m,o),this[Qr]();break;case"object":if(r instanceof Date)this[Dl](r);else throw a;break;default:throw a}}else if(arguments.length<=3)this[Pl](arguments[0],arguments[1],arguments[2]),this[Qr]();else throw a}return n.prototype[Pl]=function(a,r,i,o){r===void 0&&(r=0),i===void 0&&(i=1),o===void 0&&(o=0),this[hr]=a,this[pr]=r,this[mr]=i,this[Zc]=o},n.prototype.toJsDate=function(){return this[xr]},n.prototype.getDate=function(){return this[mr]},n.prototype.getYear=function(){return this[hr]},n.prototype.getDay=function(){return this[Zc]},n.prototype.getMonth=function(){return this[pr]},n.prototype.getDateObject=function(){return{BS:this.getBS(),AD:this.getAD()}},n.prototype.getBS=function(){return{year:this[hr],month:this[pr],date:this[mr],day:this[Zc]}},n.prototype.getAD=function(){return{year:this[xr].getFullYear(),month:this[xr].getMonth(),date:this[xr].getDate(),day:this[xr].getDay()}},n.prototype.setDate=function(a){var r=this[mr];try{this[mr]=a,this[Qr]()}catch(i){throw this[mr]=r,i}},n.prototype.setMonth=function(a){var r=this[pr];try{this[pr]=a,this[Qr]()}catch(i){throw this[pr]=r,i}},n.prototype.setYear=function(a){var r=this[hr];try{this[hr]=a,this[Qr]()}catch(i){throw this[hr]=r,i}},n.prototype.format=function(a,r){return r===void 0&&(r=n.language),Xb(this.getBS(),a,r)},n.parse=function(a){var r=Hh(a),i=r.date,o=r.year,d=r.month;return new n(o,d,i)},n.now=function(){return new n},n.fromAD=function(a){return new n(a)},n.prototype[Dl]=function(a){var r=Zb(a),i=r.AD,o=r.BS;this[Xc](i,o)},n.prototype[Xc]=function(a,r){this[Pl](r.year,r.month,r.date,r.day),this[xr]=new Date(a.year,a.month,a.date)},n.prototype[Qr]=function(){var a=Qb({year:this[hr],month:this[pr],date:this[mr]}),r=a.AD,i=a.BS;this[Xc](r,i)},n.prototype.valueOf=function(){return this[xr].getTime()},n.prototype.toString=function(){return this.format("ddd DD, MMMM YYYY")},n.language=md.en,n})();const Zr=(n=200)=>new Promise(a=>setTimeout(a,n)),Vh=345,qh="Asia/Kathmandu",ed=0;class ej{getNepaliTime(){const a=new Date;return new Date(a.getTime()+Vh*60*1e3)}toNepaliTime(a){return new Date(a.getTime()+Vh*60*1e3)}getCurrentNepaliWeek(){const a=this.getNepaliTime(),r=sa(a,{weekStartsOn:ed}),i=Vl(a,{weekStartsOn:ed});return{start:r,end:i}}getTodayNepali(){const a=this.getNepaliTime();return{start:Ya(a),end:Td(a)}}isRecent(a){const r=this.getNepaliTime(),i=typeof a=="string"?ct(a):a,o=this.toNepaliTime(i),d=Jp(r,28);return zh(o,{start:d,end:r})}isThisWeekNepali(a){const r=typeof a=="string"?ct(a):a,i=this.toNepaliTime(r),{start:o,end:d}=this.getCurrentNepaliWeek();return zh(i,{start:o,end:d})}isTodayNepali(a){const r=typeof a=="string"?ct(a):a,i=this.toNepaliTime(r),o=this.getNepaliTime();return Ne(i,"yyyy-MM-dd")===Ne(o,"yyyy-MM-dd")}async getJobMetrics(a=[]){await Zr();const r={total:a.length,recent:0,thisWeek:0,today:0,byStatus:{},byCountry:{},recentJobs:[]};return a.forEach(i=>{const o=i.status||"draft";r.byStatus[o]=(r.byStatus[o]||0)+1;const d=i.country||"Unknown";r.byCountry[d]=(r.byCountry[d]||0)+1,i.created_at&&(this.isRecent(i.created_at)&&(r.recent++,r.recentJobs.push(i)),this.isThisWeekNepali(i.created_at)&&r.thisWeek++,this.isTodayNepali(i.created_at)&&r.today++)}),r.recentJobs.sort((i,o)=>new Date(o.created_at)-new Date(i.created_at)),r}async getInterviewMetrics(a=[]){await Zr();const r={total:a.length,pendingThisWeek:0,completedToday:0,byStatus:{},byOutcome:{},pendingInterviews:[],completedTodayInterviews:[]},i=["scheduled","confirmed","in_progress"],o=["completed","passed","failed","rejected"];return a.forEach(d=>{const m=d.status||"scheduled";r.byStatus[m]=(r.byStatus[m]||0)+1,d.outcome&&(r.byOutcome[d.outcome]=(r.byOutcome[d.outcome]||0)+1),d.scheduled_at&&this.isThisWeekNepali(d.scheduled_at)&&i.includes(m)&&(r.pendingThisWeek++,r.pendingInterviews.push(d)),d.completed_at&&this.isTodayNepali(d.completed_at)&&o.includes(m)&&(r.completedToday++,r.completedTodayInterviews.push(d))}),r}async getApplicationMetrics(a=[]){await Zr();const r={total:a.length,shortlisted:0,selected:0,rejected:0,byStage:{},byStatus:{},conversionRates:{},shortlistedApplications:[],selectedApplications:[]},i=["shortlisted","interview-scheduled","interviewed"],o=["interview-passed","selected","hired","ready-to-fly","departed"],d=["rejected","withdrawn","cancelled"];return a.forEach(m=>{const p=m.stage||"applied",x=m.status||"active";r.byStage[p]=(r.byStage[p]||0)+1,r.byStatus[x]=(r.byStatus[x]||0)+1,i.includes(p)&&(r.shortlisted++,r.shortlistedApplications.push(m)),o.includes(p)&&(r.selected++,r.selectedApplications.push(m)),d.includes(p)&&r.rejected++}),r.total>0&&(r.conversionRates={applicationToShortlist:(r.shortlisted/r.total*100).toFixed(1),applicationToSelection:(r.selected/r.total*100).toFixed(1),shortlistToSelection:r.shortlisted>0?(r.selected/r.shortlisted*100).toFixed(1):"0.0"}),r}async getCandidateMetrics(a=[]){await Zr();const r={total:a.length,recent:0,thisWeek:0,today:0,byStage:{},byGender:{},byEducation:{},byCountry:{},averageAge:0,averagePriorityScore:0};let i=0,o=0,d=0,m=0;return a.forEach(p=>{const x=p.stage||"applied";r.byStage[x]=(r.byStage[x]||0)+1;const f=p.gender||"Not specified";r.byGender[f]=(r.byGender[f]||0)+1;const v=p.education||"Not specified";r.byEducation[v]=(r.byEducation[v]||0)+1;const h=p.nationality||"Unknown";if(r.byCountry[h]=(r.byCountry[h]||0)+1,p.age&&(i+=p.age,d++),p.priority_score!==void 0&&(o+=p.priority_score,m++),p.applied_at||p.created_at){const _=p.applied_at||p.created_at;this.isRecent(_)&&r.recent++,this.isThisWeekNepali(_)&&r.thisWeek++,this.isTodayNepali(_)&&r.today++}}),r.averageAge=d>0?Math.round(i/d):0,r.averagePriorityScore=m>0?Math.round(o/m*10)/10:0,r}async getDashboardMetrics(a={}){await Zr(300);const{jobs:r=[],interviews:i=[],applications:o=[],candidates:d=[]}=a,[m,p,x,f]=await Promise.all([this.getJobMetrics(r),this.getInterviewMetrics(i),this.getApplicationMetrics(o),this.getCandidateMetrics(d)]);return{summary:{totalJobs:m.total,totalCandidates:f.total,totalApplications:x.total,totalInterviews:p.total,recentJobs:m.recent,pendingInterviews:p.pendingThisWeek,shortlistedCandidates:x.shortlisted,selectedCandidates:x.selected,jobsCreatedToday:m.today,interviewsCompletedToday:p.completedToday,candidatesAppliedToday:f.today,jobsThisWeek:m.thisWeek,candidatesThisWeek:f.thisWeek,conversionRates:x.conversionRates,currentNepaliTime:this.getNepaliTime(),nepaliWeek:this.getCurrentNepaliWeek(),todayNepali:this.getTodayNepali()},jobs:m,interviews:p,applications:x,candidates:f,timestamp:new Date().toISOString(),timezone:qh}}async getTimeBasedMetrics(a=[],r="created_at"){await Zr();const i={today:0,thisWeek:0,recent:0,byDay:{},byWeek:{},byMonth:{}};return a.forEach(o=>{const d=o[r];if(!d)return;const m=this.toNepaliTime(ct(d));this.isTodayNepali(d)&&i.today++,this.isThisWeekNepali(d)&&i.thisWeek++,this.isRecent(d)&&i.recent++;const p=Ne(m,"yyyy-MM-dd");i.byDay[p]=(i.byDay[p]||0)+1;const x=Ne(sa(m,{weekStartsOn:ed}),"yyyy-MM-dd");i.byWeek[x]=(i.byWeek[x]||0)+1;const f=Ne(m,"yyyy-MM");i.byMonth[f]=(i.byMonth[f]||0)+1}),i}getNepaliDateInfo(a=null){const r=a||this.getNepaliTime(),i=new e0(r);return{english:{date:r,formatted:Ne(r,"yyyy-MM-dd"),display:Ne(r,"MMMM dd, yyyy"),time:Ne(r,"HH:mm:ss")},nepali:{year:i.getYear(),month:i.getMonth(),date:i.getDate(),formatted:i.format("YYYY-MM-DD"),display:i.format("MMMM DD, YYYY")},timezone:qh}}}const tj=new ej,{getNepaliTime:Qw,getCurrentNepaliWeek:Zw,getTodayNepali:Xw,isRecent:eN,isThisWeekNepali:tN,isTodayNepali:sN,getJobMetrics:aN,getInterviewMetrics:rN,getApplicationMetrics:nN,getCandidateMetrics:iN,getDashboardMetrics:lN,getTimeBasedMetrics:oN,getNepaliDateInfo:cN}=tj,t0=j.createContext(),s0=()=>{const n=j.useContext(t0);if(!n)throw new Error("useAgency must be used within an AgencyProvider");return n},sj=({children:n})=>{const[a,r]=j.useState(null),[i,o]=j.useState(!0),[d,m]=j.useState(null),p=async()=>{try{o(!0),m(null);const I=await Ps.getAgencyProfile();r(I)}catch(I){console.error("Failed to fetch agency data:",I),m(I.message||"Failed to load agency data")}finally{o(!1)}},x=I=>{r(E=>({...E||{},...I,updated_at:new Date().toISOString()}))},f=(I,E)=>{r($=>({...$||{},[I]:E,updated_at:new Date().toISOString()}))},v=I=>{r(E=>({...E||{},logo_url:I,updated_at:new Date().toISOString()}))},h=I=>{r(E=>({...E||{},name:I,updated_at:new Date().toISOString()}))},_=()=>{p()};j.useEffect(()=>{p()},[]);const F={agencyData:a,isLoading:i,error:d,updateAgencyData:x,updateAgencyField:f,updateAgencyLogo:v,updateAgencyName:h,refreshAgencyData:_,agencyName:a?.name||"Inspire International Employment Pvt. Ltd",agencyLogo:a?.logo_url||null,agencyAddress:a?.address||"",agencyPhone:a?.phone||"",agencyEmail:a?.email||"",agencyWebsite:a?.website||""};return e.jsx(t0.Provider,{value:F,children:n})},Kh="/assets/inspire-agency-logo-htgu0Jbe.svg",aj=({children:n})=>{const[a,r]=j.useState(!1),i=Qa(),o=ba(),{user:d,logout:m,hasPermission:p,hasAnyPermission:x,isAdmin:f}=ui(),{agencyName:v,agencyLogo:h}=s0(),_=()=>{m(),o("/login")},F=[{path:"/dashboard",label:"Dashboard",icon:wd,show:!0},{path:"/jobs",label:"Jobs",icon:Is,show:p(ce.VIEW_JOBS)},{path:"/drafts",label:"Drafts",icon:ry,show:x([ce.CREATE_JOB,ce.EDIT_JOB])},{path:"/applications",label:"Applications",icon:_t,show:p(ce.VIEW_APPLICATIONS)},{path:"/interviews",label:"Interviews",icon:nt,show:x([ce.VIEW_INTERVIEWS,ce.SCHEDULE_INTERVIEW])},{path:"/workflow",label:"Workflow",icon:ny,show:p(ce.VIEW_WORKFLOW)},{path:"/auditlog",label:"Audit Log",icon:rn,show:p(ce.VIEW_AUDIT_LOGS)},{path:"/settings",label:"Agency Settings",icon:di,show:p(ce.MANAGE_SETTINGS)}].filter(O=>O.show),I=O=>O==="/dashboard"&&i.pathname==="/"?!0:i.pathname.startsWith(O),E=()=>{r(!a)},$=()=>{r(!1)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex",children:[e.jsx("a",{href:"#main-content",className:"absolute left-0 top-0 bg-brand-navy text-white px-4 py-2 rounded-br-md transform -translate-y-full focus:translate-y-0 transition-transform z-50",children:"Skip to main content"}),e.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col md:fixed md:inset-y-0",children:e.jsxs("div",{className:"flex flex-col flex-grow bg-white/80 backdrop-blur-sm border-r border-gray-200/50 pt-5 pb-4 overflow-y-auto shadow-lg",children:[e.jsx("div",{className:"flex items-center flex-shrink-0 px-4 py-4",children:e.jsxs(Ut,{to:"/dashboard",className:"w-full flex flex-col items-center focus:outline-none focus:ring-2 focus:ring-brand-blue-bright rounded p-2 hover:bg-white/50 transition-all duration-300",children:[e.jsx("img",{src:h||Kh,alt:`${v} Logo`,className:"w-20 h-20 object-contain drop-shadow-md"}),e.jsx("h1",{className:"text-lg font-bold text-brand-navy mt-3 text-center bg-gradient-to-r from-brand-navy to-brand-blue-bright bg-clip-text text-transparent",children:v})]})}),e.jsx("div",{className:"mt-5 flex-grow flex flex-col",children:e.jsx("nav",{className:"flex-1 px-2 space-y-2",children:F.map(O=>{const z=O.icon;return e.jsxs(Ut,{to:O.path,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-300 ${I(O.path)?"bg-white shadow-md transform scale-105 border border-brand-blue-bright/30":"text-gray-700 hover:bg-white/50 hover:text-brand-navy hover:shadow-sm border border-transparent"}`,"aria-current":I(O.path)?"page":void 0,children:[e.jsx(z,{className:`mr-3 flex-shrink-0 h-5 w-5 ${I(O.path)?"text-brand-blue-bright":"text-gray-500 group-hover:text-brand-blue-bright"}`,"aria-hidden":"true"}),e.jsx("span",{className:I(O.path)?"text-brand-navy font-semibold":"",children:O.label})]},O.path)})})}),e.jsx("div",{className:"flex-shrink-0 flex border-t border-gray-200/50 p-4",children:e.jsxs("div",{className:"flex items-center w-full bg-white/50 backdrop-blur-sm p-2 rounded-xl shadow-sm border border-gray-200/30",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-9 h-9 bg-brand-green-vibrant/10 rounded-full flex items-center justify-center",role:"img","aria-label":"User avatar",children:e.jsx(Yt,{className:"w-5 h-5 text-brand-green-vibrant","aria-hidden":"true"})})}),e.jsx("div",{className:"ml-3",children:d&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm font-medium text-gray-800",children:d.name}),e.jsx("p",{className:"text-xs font-medium text-gray-600 capitalize",children:d.role})]})}),e.jsx("button",{onClick:_,className:"ml-auto flex-shrink-0 p-2 text-gray-500 hover:text-brand-navy hover:bg-white/50 rounded-full transition-all focus:outline-none focus:ring-2 focus:ring-brand-blue-bright","aria-label":"Logout",children:e.jsx(Ih,{className:"w-5 h-5","aria-hidden":"true"})})]})})]})}),e.jsx("div",{className:"md:hidden sticky top-0 z-10 bg-white/90 backdrop-blur-sm border-b border-gray-200/50 shadow-md",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-brand-navy hover:bg-gray-50/50 rounded-md transition-all focus:outline-none focus:ring-2 focus:ring-brand-blue-bright",onClick:E,"aria-expanded":a,"aria-controls":"mobile-menu","aria-label":"Toggle main menu",children:a?e.jsx(st,{className:"w-6 h-6","aria-hidden":"true"}):e.jsx(iy,{className:"w-6 h-6","aria-hidden":"true"})}),e.jsxs(Ut,{to:"/dashboard",className:"ml-2 flex flex-col items-center focus:outline-none focus:ring-2 focus:ring-brand-blue-bright rounded py-2 px-3",children:[e.jsx("img",{src:h||Kh,alt:`${v} Logo`,className:"w-12 h-12 object-contain drop-shadow-md"}),e.jsx("h1",{className:"text-sm font-bold text-brand-navy mt-1 text-center bg-gradient-to-r from-brand-navy to-brand-blue-bright bg-clip-text text-transparent",children:v})]})]}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-brand-navy hover:bg-gray-50/50 rounded-md transition-all focus:outline-none focus:ring-2 focus:ring-brand-blue-bright","aria-label":"View notifications",children:e.jsx(Ap,{className:"w-5 h-5","aria-hidden":"true"})})]})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mobile-nav-backdrop md:hidden fixed inset-0 z-40 bg-black/30 backdrop-blur-sm",onClick:$,"aria-hidden":"true"}),e.jsx("div",{id:"mobile-menu",className:"md:hidden fixed inset-y-0 left-0 z-50 w-64 bg-white/90 backdrop-blur-lg border-r border-gray-200/50 overflow-y-auto shadow-xl",role:"menu","aria-orientation":"vertical","aria-labelledby":"mobile-menu-button",children:e.jsxs("div",{className:"pt-5 pb-4",children:[e.jsx("div",{className:"flex items-center px-4",children:e.jsx(Ut,{to:"/dashboard",className:"focus:outline-none focus:ring-2 focus:ring-brand-blue-bright rounded",children:e.jsx("h1",{className:"text-xl font-bold text-brand-navy bg-gradient-to-r from-brand-navy to-brand-blue-bright bg-clip-text text-transparent",children:v})})}),e.jsxs("nav",{className:"mt-5 px-2 space-y-1",children:[F.map(O=>{const z=O.icon;return e.jsxs(Ut,{to:O.path,onClick:$,className:`group flex items-center px-2 py-3 text-base font-medium rounded-lg transition-all duration-300 touch-target ${I(O.path)?"bg-white shadow-md border border-brand-blue-bright/30 text-brand-navy font-semibold":"text-gray-700 hover:bg-white/50 hover:text-brand-navy border border-transparent"}`,role:"menuitem","aria-current":I(O.path)?"page":void 0,children:[e.jsx(z,{className:`mr-3 flex-shrink-0 h-6 w-6 ${I(O.path)?"text-brand-blue-bright":"text-gray-500 group-hover:text-brand-blue-bright"}`,"aria-hidden":"true"}),O.label]},O.path)}),d&&e.jsxs("button",{onClick:()=>{_(),$()},className:"group flex items-center px-2 py-3 text-base font-medium rounded-lg transition-all duration-300 touch-target text-gray-700 hover:bg-white/50 hover:text-brand-navy border border-transparent w-full text-left mt-2",role:"menuitem",children:[e.jsx(Ih,{className:"mr-3 flex-shrink-0 h-6 w-6 text-gray-500 group-hover:text-brand-blue-bright","aria-hidden":"true"}),e.jsx("span",{children:"Logout"})]})]})]})})]}),e.jsx("main",{id:"main-content",className:"flex-1 md:pl-64",role:"main",children:n})]})},rj=345,mi=n=>{const a=new Date(n.getTime());return a.setMinutes(a.getMinutes()+rj),a},nj=["","","","","","","","","","","",""],ij=["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Poush","Magh","Falgun","Chaitra"],lj=["","","","","","",""],oj=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],cj=n=>{try{const a=typeof n=="string"?ct(n):n;if(!Md(a))throw new Error("Invalid date provided");const r=mi(a),i=new e0(r);return{year:i.getYear(),month:i.getMonth()+1,day:i.getDate(),dayOfWeek:i.getDay(),monthName:nj[i.getMonth()],monthNameEn:ij[i.getMonth()],dayName:lj[i.getDay()],dayNameEn:oj[i.getDay()]}}catch(a){return console.error("Error converting English to Nepali date:",a),null}},es=(n,a="yyyy-MM-dd HH:mm:ss")=>{try{const r=typeof n=="string"?ct(n):n;if(!Md(r))return"Invalid Date";const i=mi(r);return Ne(i,a)}catch(r){return console.error("Error formatting date in Nepal timezone:",r),"Invalid Date"}},dj=(n,a="medium",r=!1)=>{if(!n||!n.year)return"Invalid Date";const{year:i,month:o,day:d,monthName:m,monthNameEn:p,dayName:x,dayNameEn:f}=n;switch(a){case"short":return`${i}/${o.toString().padStart(2,"0")}/${d.toString().padStart(2,"0")}`;case"long":return r?`${f}, ${p} ${d}, ${i}`:`${x}, ${m} ${d}, ${i}`;case"medium":default:return r?`${p} ${d}, ${i}`:`${m} ${d}, ${i}`}},ja=()=>mi(new Date),a0=n=>{const a=ja(),r=typeof n=="string"?ct(n):n,i=mi(r);return Ne(a,"yyyy-MM-dd")===Ne(i,"yyyy-MM-dd")},r0=(n,a=!1)=>{const r=ja(),i=typeof n=="string"?ct(n):n,d=mi(i).getTime()-r.getTime(),m=Math.floor(d/(1e3*60*60*24)),p=Math.floor(d/(1e3*60*60)),x=Math.floor(d/(1e3*60)),f=a?{ago:"",in:"",minutes:"",hours:"",days:"",just_now:"",today:"",yesterday:"",tomorrow:""}:{ago:"ago",in:"in",minutes:"minutes",hours:"hours",days:"days",just_now:"just now",today:"today",yesterday:"yesterday",tomorrow:"tomorrow"};if(Math.abs(x)<1)return f.just_now;if(Math.abs(m)===0)return f.today;if(m===-1)return f.yesterday;if(m===1)return f.tomorrow;if(Math.abs(m)<1){const v=Math.abs(p);if(v<1){const h=Math.abs(x);return d>0?`${f.in} ${h} ${f.minutes}`:`${h} ${f.minutes} ${f.ago}`}return d>0?`${f.in} ${v} ${f.hours}`:`${v} ${f.hours} ${f.ago}`}else{const v=Math.abs(m);return d>0?`${f.in} ${v} ${f.days}`:`${v} ${f.days} ${f.ago}`}},uj=({date:n,showNepali:a=!0,showTime:r=!1,showRelative:i=!1,format:o="medium",className:d="",iconClassName:m="w-4 h-4",showIcon:p=!0})=>{if(!n)return e.jsx("span",{className:`text-gray-400 ${d}`,children:"No date"});const x=typeof n=="string"?new Date(n):n,f=cj(x),v=a0(x),_=(()=>{if(r)return es(x,"MMM dd, yyyy HH:mm");switch(o){case"short":return es(x,"MM/dd/yyyy");case"long":return es(x,"EEEE, MMMM dd, yyyy");case"medium":default:return es(x,"MMM dd, yyyy")}})(),F=f?dj(f,o,!0):null,I=i?r0(x):null;return e.jsxs("div",{className:`flex items-start space-x-2 ${d}`,children:[p&&e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:r?e.jsx(Dt,{className:`text-gray-400 ${m}`}):e.jsx(nt,{className:`text-gray-400 ${m}`})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsxs("div",{className:`text-sm ${v?"font-medium text-primary-700":"text-gray-900"}`,children:[_,v&&e.jsx("span",{className:"ml-2 text-xs bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full",children:"Today"})]}),a&&F&&e.jsx("div",{className:"text-xs text-gray-600",children:F}),i&&I&&e.jsx("div",{className:"text-xs text-gray-500",children:I})]})})]})},ga=({permission:n,permissions:a=[],role:r,roles:i=[],requireAll:o=!1,fallback:d=null,showFallback:m=!0,children:p})=>n&&!Ue.hasPermission(n)?m?d||e.jsx(Ml,{}):null:a.length>0&&!(o?Ue.hasAllPermissions(a):Ue.hasAnyPermission(a))?m?d||e.jsx(Ml,{}):null:r&&!Ue.hasRole(r)?m?d||e.jsx(Ml,{}):null:i.length>0&&!i.some(f=>Ue.hasRole(f))?m?d||e.jsx(Ml,{}):null:p,Ml=({message:n="You don't have permission to access this feature."})=>e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ul,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:n}),e.jsxs("div",{className:"flex items-center justify-center text-sm text-red-600",children:[e.jsx(jt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Contact your administrator for access"})]})]})}),Ve=({children:n,onClick:a,variant:r="primary",size:i="md",disabled:o=!1,loading:d=!1,icon:m,className:p="",...x})=>{const[f,v]=j.useState(!1),[h,_]=j.useState([]),F="relative overflow-hidden font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",I={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500 shadow-lg hover:shadow-xl",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500 shadow-md hover:shadow-lg",success:"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500 shadow-lg hover:shadow-xl",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 shadow-lg hover:shadow-xl",warning:"bg-yellow-500 hover:bg-yellow-600 text-white focus:ring-yellow-500 shadow-lg hover:shadow-xl",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},E={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"},$=K=>{if(o||d)return;K.stopPropagation();const Z=K.currentTarget.getBoundingClientRect(),ee=Math.max(Z.width,Z.height),te=K.clientX-Z.left-ee/2,Q=K.clientY-Z.top-ee/2,se={x:te,y:Q,size:ee,id:Date.now()};_(_e=>[..._e,se]),setTimeout(()=>{_(_e=>_e.filter(pe=>pe.id!==se.id))},600),a&&a(K)},O=()=>v(!0),z=()=>v(!1),R=()=>v(!1);return e.jsxs("button",{className:`
        ${F}
        ${I[r]}
        ${E[i]}
        ${f?"scale-95":"scale-100"}
        ${p}
      `,onClick:$,onMouseDown:O,onMouseUp:z,onMouseLeave:R,disabled:o||d,...x,children:[h.map(K=>e.jsx("span",{className:"absolute bg-white opacity-30 rounded-full animate-ping",style:{left:K.x,top:K.y,width:K.size,height:K.size,animationDuration:"600ms"}},K.id)),e.jsxs("span",{className:"relative flex items-center justify-center space-x-2",children:[d?e.jsx(eo,{className:"w-4 h-4 animate-spin"}):m?e.jsx(m,{className:"w-4 h-4"}):null,e.jsx("span",{children:n})]})]})},yr=({children:n,onClick:a,hoverable:r=!0,clickable:i=!1,className:o="",variant:d="default",...m})=>{const[p,x]=j.useState(!1),[f,v]=j.useState(!1),h="bg-white rounded-lg border transition-all duration-200",_={default:"border-gray-200 shadow-sm",elevated:"border-gray-200 shadow-lg",outlined:"border-2 border-gray-300",primary:"border-primary-200 bg-primary-50",success:"border-green-200 bg-green-50",warning:"border-yellow-200 bg-yellow-50",danger:"border-red-200 bg-red-50"},F=r?"hover:shadow-lg hover:-translate-y-1":"",I=i?"cursor-pointer active:scale-98":"",E=()=>x(!0),$=()=>{x(!1),v(!1)},O=()=>i&&v(!0),z=()=>v(!1);return e.jsxs("div",{className:`
        relative
        ${h}
        ${_[d]}
        ${F}
        ${I}
        ${f?"scale-98":"scale-100"}
        ${o}
      `,onClick:a,onMouseEnter:E,onMouseLeave:$,onMouseDown:O,onMouseUp:z,...m,children:[p&&r&&e.jsx("div",{className:"absolute inset-0 rounded-lg border-2 border-primary-300 opacity-50"}),n]})},td=({options:n=[],value:a,onChange:r,placeholder:i="Select an option",multiple:o=!1,searchable:d=!1,disabled:m=!1,className:p="",size:x="md"})=>{const[f,v]=j.useState(!1),[h,_]=j.useState(""),[F,I]=j.useState(-1),E=j.useRef(null),$=j.useRef(null),O={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};j.useEffect(()=>{const Q=se=>{E.current&&!E.current.contains(se.target)&&(v(!1),_(""))};return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[]),j.useEffect(()=>{f&&d&&$.current&&$.current.focus()},[f,d]);const z=d&&h?n.filter(Q=>Q.label.toLowerCase().includes(h.toLowerCase())):n,R=()=>{m||(v(!f),I(-1))},K=Q=>{if(o){const se=Array.isArray(a)?a:[],_e=se.includes(Q.value)?se.filter(pe=>pe!==Q.value):[...se,Q.value];r?.(_e)}else r?.(Q.value),v(!1);_("")},Z=Q=>{if(!f){(Q.key==="Enter"||Q.key===" ")&&(Q.preventDefault(),R());return}switch(Q.key){case"ArrowDown":Q.preventDefault(),I(se=>se<z.length-1?se+1:0);break;case"ArrowUp":Q.preventDefault(),I(se=>se>0?se-1:z.length-1);break;case"Enter":Q.preventDefault(),F>=0&&K(z[F]);break;case"Escape":v(!1),_("");break}},ee=()=>{if(o){const Q=n.filter(se=>Array.isArray(a)&&a.includes(se.value));return Q.length===0?i:Q.length===1?Q[0].label:`${Q.length} selected`}else{const Q=n.find(se=>se.value===a);return Q?Q.label:i}},te=Q=>o?Array.isArray(a)&&a.includes(Q.value):a===Q.value;return e.jsxs("div",{ref:E,className:`relative ${p}`,children:[e.jsxs("button",{type:"button",onClick:R,onKeyDown:Z,disabled:m,className:`
          w-full flex items-center justify-between bg-white border border-gray-300 rounded-lg
          focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
          transition-all duration-200
          ${O[x]}
          ${m?"opacity-50 cursor-not-allowed":"hover:border-gray-400"}
          ${f?"border-primary-500 ring-2 ring-primary-200":""}
        `,children:[e.jsx("span",{className:`truncate ${!a||Array.isArray(a)&&a.length===0?"text-gray-500":"text-gray-900"}`,children:ee()}),e.jsx(an,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),f&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border-2 border-primary-300 rounded-lg shadow-xl z-50 max-h-60 overflow-hidden",children:[d&&e.jsx("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:e.jsx("input",{ref:$,type:"text",value:h,onChange:Q=>_(Q.target.value),placeholder:"Search options...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("div",{className:"overflow-y-auto max-h-48",children:z.length===0?e.jsx("div",{className:"px-4 py-4 text-sm text-gray-500 text-center bg-gray-50",children:h?"No options found":"No options available"}):z.map((Q,se)=>e.jsxs("button",{type:"button",onClick:()=>K(Q),className:`
                    w-full px-4 py-3 text-left text-sm flex items-center justify-between
                    transition-colors duration-150 border-b border-gray-100 last:border-b-0
                    ${se===F?"bg-primary-100 text-primary-800 font-medium":"hover:bg-gray-100"}
                    ${te(Q)?"bg-primary-50 text-primary-900 font-semibold":"text-gray-900"}
                  `,children:[e.jsx("span",{className:"truncate",children:Q.label}),te(Q)&&e.jsx(gt,{className:"w-4 h-4 text-primary-600 font-bold"})]},Q.value))})]})]})},mj=({type:n="info",title:a,message:r,isVisible:i=!0,onClose:o,autoClose:d=!0,autoCloseDelay:m=5e3,position:p="top-right",className:x=""})=>{const[f,v]=j.useState(i),[h,_]=j.useState(!1),F={success:{icon:os,bgColor:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-500",titleColor:"text-green-800",messageColor:"text-green-700"},error:{icon:jt,bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-500",titleColor:"text-red-800",messageColor:"text-red-700"},warning:{icon:va,bgColor:"bg-yellow-50",borderColor:"border-yellow-200",iconColor:"text-yellow-500",titleColor:"text-yellow-800",messageColor:"text-yellow-700"},info:{icon:Ka,bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-500",titleColor:"text-blue-800",messageColor:"text-blue-700"}},I={"top-right":"top-4 right-4","top-left":"top-4 left-4","top-center":"top-4 left-1/2 transform -translate-x-1/2","bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","bottom-center":"bottom-4 left-1/2 transform -translate-x-1/2"},E=F[n],$=E.icon;j.useEffect(()=>{if(i)v(!0),_(!0);else{_(!1);const z=setTimeout(()=>v(!1),300);return()=>clearTimeout(z)}},[i]),j.useEffect(()=>{if(d&&f&&h){const z=setTimeout(()=>{O()},m);return()=>clearTimeout(z)}},[d,m,f,h]);const O=()=>{_(!1),setTimeout(()=>{v(!1),o?.()},300)};return f?e.jsxs("div",{className:`
        fixed z-50 max-w-sm w-full
        ${I[p]}
        transition-all duration-300 transform
        ${h?"translate-y-0 opacity-100 scale-100":"translate-y-2 opacity-0 scale-95"}
        ${x}
      `,children:[e.jsxs("div",{className:`
          ${E.bgColor} ${E.borderColor}
          border rounded-lg shadow-lg p-4
        `,children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx($,{className:`w-5 h-5 ${E.iconColor} flex-shrink-0 mt-0.5`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[a&&e.jsx("h4",{className:`text-sm font-medium ${E.titleColor} mb-1`,children:a}),r&&e.jsx("p",{className:`text-sm ${E.messageColor}`,children:r})]}),e.jsx(Ve,{variant:"ghost",size:"sm",onClick:O,icon:st,className:"flex-shrink-0 -mt-1 -mr-1"})]}),d&&h&&e.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-current h-1 rounded-full transition-all ease-linear",style:{width:"100%",animation:`shrink ${m}ms linear forwards`}})})]}),e.jsx("style",{children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]}):null},hj=()=>{const[n,a]=j.useState([]),r=f=>{const v=Date.now()+Math.random(),h={...f,id:v};return a(_=>[..._,h]),v};return{notifications:n,addNotification:r,removeNotification:f=>{a(v=>v.filter(h=>h.id!==f))},clearAll:()=>{a([])},success:(f,v,h={})=>r({type:"success",title:f,message:v,...h}),error:(f,v,h={})=>r({type:"error",title:f,message:v,...h}),warning:(f,v,h={})=>r({type:"warning",title:f,message:v,...h}),info:(f,v,h={})=>r({type:"info",title:f,message:v,...h})}},pj=({type:n="spinner",size:a="md",color:r="primary",text:i,overlay:o=!1,className:d=""})=>{const m={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},p={primary:"text-primary-600",secondary:"text-gray-600",success:"text-green-600",danger:"text-red-600",warning:"text-yellow-600",white:"text-white"},x={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"},f=()=>e.jsx(eo,{className:`${m[a]} ${p[r]} animate-spin`}),$={spinner:f,dots:()=>e.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(z=>e.jsx("div",{className:`${m[a]} ${p[r].replace("text-","bg-")} rounded-full animate-pulse`,style:{animationDelay:`${z*.2}s`,animationDuration:"1s"}},z))}),pulse:()=>e.jsx("div",{className:`${m[a]} ${p[r].replace("text-","bg-")} rounded-full animate-ping`}),bars:()=>e.jsx("div",{className:"flex space-x-1 items-end",children:[0,1,2,3].map(z=>e.jsx("div",{className:`w-1 ${p[r].replace("text-","bg-")} animate-pulse`,style:{height:`${12+z%2*8}px`,animationDelay:`${z*.1}s`,animationDuration:"0.8s"}},z))}),skeleton:()=>e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]}),ripple:()=>e.jsx("div",{className:"relative",children:[0,1].map(z=>e.jsx("div",{className:`absolute border-2 ${p[r].replace("text-","border-")} rounded-full animate-ping`,style:{width:a==="xs"?"12px":a==="sm"?"16px":a==="md"?"24px":a==="lg"?"32px":"48px",height:a==="xs"?"12px":a==="sm"?"16px":a==="md"?"24px":a==="lg"?"32px":"48px",animationDelay:`${z*.5}s`,animationDuration:"2s"}},z))})}[n]||f,O=e.jsxs("div",{className:`flex flex-col items-center justify-center space-y-3 ${d}`,children:[e.jsx($,{}),i&&e.jsx("p",{className:`${x[a]} ${p[r]} font-medium animate-pulse`,children:i})]});return o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg p-8 shadow-xl",children:O})}):O},ni=({currentPage:n=1,totalPages:a=1,onPageChange:r,showFirstLast:i=!0,showPrevNext:o=!0,showPageNumbers:d=!0,maxVisiblePages:m=5,size:p="md",className:x=""})=>{const f=()=>{if(a<=m)return Array.from({length:a},($,O)=>O+1);const _=Math.floor(m/2);let F=Math.max(n-_,1),I=Math.min(F+m-1,a);I-F+1<m&&(F=Math.max(I-m+1,1));const E=[];F>1&&(E.push(1),F>2&&E.push("..."));for(let $=F;$<=I;$++)E.push($);return I<a&&(I<a-1&&E.push("..."),E.push(a)),E},v=_=>{_!==n&&_>=1&&_<=a&&r?.(_)},h=f();return a<=1?null:e.jsxs("div",{className:`flex items-center justify-center space-x-1 ${x}`,children:[i&&n>1&&e.jsx(Ve,{variant:"outline",size:p,onClick:()=>v(1),disabled:n===1,className:"hidden sm:inline-flex",children:"First"}),o&&e.jsx(Ve,{variant:"outline",size:p,onClick:()=>v(n-1),disabled:n===1,icon:Xl,className:"flex items-center",children:e.jsx("span",{className:"hidden sm:inline ml-1",children:"Previous"})}),d&&e.jsx("div",{className:"flex items-center space-x-1",children:h.map((_,F)=>_==="..."?e.jsx("span",{className:"px-3 py-2 text-gray-500",children:e.jsx(sy,{className:"w-4 h-4"})},`ellipsis-${F}`):e.jsx(Ve,{variant:_===n?"primary":"outline",size:p,onClick:()=>v(_),className:`
                  min-w-[40px] justify-center
                  ${_===n?"font-semibold":""}
                `,children:_},_))}),o&&e.jsxs(Ve,{variant:"outline",size:p,onClick:()=>v(n+1),disabled:n===a,className:"flex items-center",children:[e.jsx("span",{className:"hidden sm:inline mr-1",children:"Next"}),e.jsx(oi,{className:"w-4 h-4"})]}),i&&n<a&&e.jsx(Ve,{variant:"outline",size:p,onClick:()=>v(a),disabled:n===a,className:"hidden sm:inline-flex",children:"Last"})]})},to=({currentPage:n,totalPages:a,totalItems:r,itemsPerPage:i,className:o=""})=>{const d=(n-1)*i+1,m=Math.min(n*i,r);return e.jsxs("div",{className:`text-sm text-gray-600 ${o}`,children:["Showing ",d," to ",m," of ",r," results",a>1&&e.jsxs("span",{className:"ml-2",children:["(Page ",n," of ",a,")"]})]})},n0=({value:n,onChange:a,options:r=[10,25,50,100],className:i=""})=>e.jsxs("div",{className:`flex items-center space-x-2 ${i}`,children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Show:"}),e.jsx("select",{value:n,onChange:o=>a?.(parseInt(o.target.value)),className:"px-3 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500",children:r.map(o=>e.jsx("option",{value:o,children:o},o))}),e.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]}),i0=j.createContext(),l0=()=>{const n=j.useContext(i0);if(!n)throw new Error("useNotificationContext must be used within a NotificationProvider");return n},xj=({children:n})=>{const a=hj();return e.jsxs(i0.Provider,{value:a,children:[n,e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:a.notifications.map(r=>e.jsx(mj,{type:r.type,title:r.title,message:r.message,isVisible:!0,onClose:()=>a.removeNotification(r.id),autoClose:r.autoClose!==!1,autoCloseDelay:r.autoCloseDelay||5e3,...r},r.id))})]})},Yh=()=>{const n=ba(),{user:a,isAdmin:r,isRecruiter:i,isCoordinator:o}=ui(),{success:d}=l0(),[m,p]=j.useState(!1),[x,f]=j.useState(!1),v=j.useRef(null),h=j.useRef(null),[_,F]=j.useState({timeWindow:"Week",job:"All Jobs",country:"All Countries"}),[I,E]=j.useState({}),[$,O]=j.useState([]),[z,R]=j.useState([]),[K,Z]=j.useState(!0),[ee,te]=j.useState(!1),[Q,se]=j.useState(null),[_e,pe]=j.useState(new Date),L=async(Y=!1)=>{try{Y?te(!0):Z(!0),se(null);const[k,W,C]=await Promise.all([Kt.getApplicationStatistics(),qe.getJobStatistics(),Ke.getCountries()]),U={jobs:{total:W.total||0,open:W.byStatus?.published||0,recent:W.recentCount||0,drafts:W.byStatus?.draft||0},applications:{applicants:k.total||0,jobsApplied:Object.keys(k.byJob||{}).length,shortlisted:k.byStage?.shortlisted||0,selected:k.byStage?.selected||0,interviewed:k.byStage?.interviewed||0},interviews:{weeklyPending:6,weeklyTotal:6,todayCompleted:0,todayTotal:3,monthlyInterviewed:9,monthlyPass:3,monthlyFail:6},stageCounts:{applied:k.byStage?.applied||3,shortlisted:k.byStage?.shortlisted||0,"interview-scheduled":k.byStage?.["interview-scheduled"]||0,"interview-passed":k.byStage?.["interview-passed"]||0}};E(U),O(C),R(W.jobs||[]),pe(new Date),Y&&d("Dashboard Updated","Analytics data has been refreshed successfully.")}catch(k){console.error("Failed to fetch dashboard data:",k),se(k)}finally{Z(!1),te(!1)}};j.useEffect(()=>{L()},[_]),j.useEffect(()=>{const Y=setInterval(()=>{L(!0)},3e5);return()=>clearInterval(Y)},[_]);const V=()=>{L(!0)};if(j.useEffect(()=>{const Y=k=>{v.current&&!v.current.contains(k.target)&&p(!1),h.current&&!h.current.contains(k.target)&&f(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]),K)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx(pj,{type:"skeleton",text:"Loading dashboard analytics...",className:"min-h-screen flex items-center justify-center"})});if(Q)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(jt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:Q.message}),e.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Retry"})]})});const D=({title:Y,icon:k,metrics:W,className:C="",color:U="primary",onClick:oe})=>e.jsxs(yr,{hoverable:!0,clickable:!!oe,onClick:oe,className:`p-5 ${C} transition-all duration-300 hover:scale-105 ${U==="info"?"border-l-4 border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100":U==="success"?"border-l-4 border-green-500 bg-gradient-to-br from-green-50 to-green-100":U==="warning"?"border-l-4 border-yellow-500 bg-gradient-to-br from-yellow-50 to-yellow-100":"border-l-4 border-gray-500 bg-gradient-to-br from-gray-50 to-gray-100"}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-3 rounded-xl shadow-sm ${U==="info"?"bg-blue-500 text-white":U==="success"?"bg-green-500 text-white":U==="warning"?"bg-yellow-500 text-white":"bg-gray-500 text-white"}`,children:e.jsx(k,{className:"w-6 h-6"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Y})]})}),e.jsx("div",{className:"mb-4",children:W.filter(ue=>ue.highlight).map((ue,ge)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-4xl font-black mb-1 ${U==="info"?"text-blue-700":U==="success"?"text-green-700":U==="warning"?"text-yellow-700":"text-gray-700"}`,children:ue.value}),e.jsx("div",{className:"text-sm font-medium text-gray-600 uppercase tracking-wide",children:ue.label})]},ge))}),e.jsx("div",{className:"space-y-2 border-t border-gray-200 pt-3",children:W.filter(ue=>!ue.highlight).map((ue,ge)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:ue.label}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:ue.value})]},ge))})]}),H=[{label:"Total jobs",value:I.jobs?.total?.toLocaleString()||"0",highlight:!0},{label:"Open jobs",value:I.jobs?.open||"0"},{label:"Recent jobs (28 days)",value:I.jobs?.recent||"0"},{label:"Drafts",value:I.jobs?.drafts||"0"}],w=[{label:"Applicants",value:`${I.applications?.applicants||0}`,highlight:!0},{label:"Applied to jobs",value:`${I.applications?.jobsApplied||0} jobs`},{label:"Shortlisted",value:I.applications?.shortlisted||"0"},{label:"Selected",value:`${I.applications?.selected||0}/${I.applications?.shortlisted||0}`}],re=[{label:"Weekly (Nepali Week)",value:`${I.interviews?.weeklyPending||0} of ${I.interviews?.weeklyTotal||0} Pending`,highlight:!0},{label:"Completed Today",value:`${I.interviews?.todayCompleted||0}/${I.interviews?.todayTotal||0}`},{label:"Interviewed This Month",value:`${I.interviews?.monthlyInterviewed||0} candidate${(I.interviews?.monthlyInterviewed||0)===1?"":"s"}`},{label:"Pass Rate",value:`${I.interviews?.monthlyPass||0} passed, ${I.interviews?.monthlyFail||0} failed`}];return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:["Welcome back, ",a?.name]}),e.jsxs("p",{className:"text-gray-600 mb-4 text-lg",children:[r()&&"Full system access - Manage all recruitment operations",i()&&"Manage jobs, applications, interviews, and workflow",o()&&"Handle scheduling, notifications, and document management"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative hidden lg:block",children:[e.jsx("input",{className:"pl-9 pr-3 py-2 w-72 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search jobs, candidates..."}),e.jsx(Za,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]}),e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{onClick:()=>f(Y=>!Y),className:"relative p-2 rounded-md border hover:bg-gray-50","aria-label":"Notifications",children:[e.jsx(Ap,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"absolute -top-0.5 -right-0.5 inline-flex h-4 min-w-4 items-center justify-center rounded-full bg-red-500 text-white text-[10px] px-1",children:"2"})]}),x&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border rounded-md shadow-lg z-10 p-2 text-sm",children:[e.jsx("div",{className:"font-medium text-gray-800 mb-1",children:"Notifications"}),e.jsx("div",{className:"text-gray-600",children:"2 new applicants today"})]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx(uj,{date:new Date,showNepali:!0,showTime:!0,className:"text-sm bg-blue-50 px-3 py-2 rounded-lg border border-blue-200",iconClassName:"w-4 h-4"}),e.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 px-3 py-2 rounded-lg border border-green-200",children:[e.jsx(Ip,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-700 font-medium capitalize",children:[a?.role," Access"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 px-3 py-2 rounded-lg border border-gray-200",children:[e.jsx(Xf,{className:"w-4 h-4 text-gray-600"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Updated: ",_e.toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[e.jsx(td,{options:[{value:"Today",label:"Today"},{value:"Week",label:"This Week"},{value:"Month",label:"This Month"},{value:"Custom",label:"Custom Range"}],value:_.timeWindow,onChange:Y=>F(k=>({...k,timeWindow:Y})),placeholder:"Time Window",size:"md",className:"w-full min-w-[150px]"}),e.jsx(td,{options:[{value:"All Jobs",label:"All Jobs"},...z.slice(0,5).map(Y=>({value:Y.id,label:`${Y.title} - ${Y.company}`}))],value:_.job,onChange:Y=>F(k=>({...k,job:Y})),placeholder:"Filter by Job",searchable:!0,size:"md",className:"w-full min-w-[200px]"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[e.jsx(td,{options:[{value:"All Countries",label:"All Countries"},...$.map(Y=>({value:Y,label:Y}))],value:_.country,onChange:Y=>F(k=>({...k,country:Y})),placeholder:"Filter by Country",size:"md",className:"w-full min-w-[150px]"}),e.jsx("button",{onClick:V,className:`p-2 border rounded-md hover:bg-gray-50 ${ee?"opacity-60 cursor-wait":""}`,"aria-label":"Refresh",title:"Refresh",children:e.jsx(Ed,{className:`w-4 h-4 ${ee?"animate-spin":""}`})})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx(D,{title:"Jobs",icon:Is,metrics:H,color:"info",onClick:()=>n("/jobs"),className:"cursor-pointer hover:shadow-lg"}),e.jsx(D,{title:"Applications",icon:_t,metrics:w,color:"success",onClick:()=>n("/applications"),className:"cursor-pointer hover:shadow-lg"}),e.jsx(D,{title:"Interviews",icon:nt,metrics:re,color:"warning",onClick:()=>n("/interviews"),className:"cursor-pointer hover:shadow-lg"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-8",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ga,{permission:ce.CREATE_JOB,children:e.jsx(yr,{hoverable:!0,clickable:!0,onClick:()=>n("/drafts"),className:"p-4 cursor-pointer group border border-gray-200 hover:border-blue-300 transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx(Ot,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-blue-600 transition-colors mb-1",children:"Create Job"}),e.jsxs("div",{className:"bg-blue-50 rounded-lg px-2 py-1",children:[e.jsx("p",{className:"text-lg font-bold text-blue-600",children:I.jobs?.drafts||0}),e.jsx("p",{className:"text-xs text-blue-500 uppercase tracking-wide",children:"Drafts"})]})]})]})})}),e.jsx(ga,{permission:ce.VIEW_APPLICATIONS,children:e.jsx(yr,{hoverable:!0,clickable:!0,onClick:()=>n("/applications"),className:"p-4 cursor-pointer group border border-gray-200 hover:border-green-300 transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center group-hover:bg-green-200 transition-colors",children:e.jsx(_t,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-green-600 transition-colors mb-1",children:"Applications"}),e.jsxs("div",{className:"bg-green-50 rounded-lg px-2 py-1",children:[e.jsx("p",{className:"text-lg font-bold text-green-600",children:I.applications?.applicants||0}),e.jsx("p",{className:"text-xs text-green-500 uppercase tracking-wide",children:"Applicants"})]})]})]})})}),e.jsx(ga,{permission:ce.SCHEDULE_INTERVIEW,children:e.jsx(yr,{hoverable:!0,clickable:!0,onClick:()=>n("/interviews"),className:"p-4 cursor-pointer group border border-gray-200 hover:border-purple-300 transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:e.jsx(nt,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-purple-600 transition-colors mb-1",children:"Interviews"}),e.jsxs("div",{className:"bg-purple-50 rounded-lg px-2 py-1",children:[e.jsx("p",{className:"text-lg font-bold text-purple-600",children:I.interviews?.weeklyPending||0}),e.jsx("p",{className:"text-xs text-purple-500 uppercase tracking-wide",children:"Pending"})]})]})]})})}),e.jsx(ga,{permission:ce.VIEW_WORKFLOW,children:e.jsx(yr,{hoverable:!0,clickable:!0,onClick:()=>n("/workflow"),className:"p-4 cursor-pointer group border border-gray-200 hover:border-orange-300 transition-all duration-300",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center group-hover:bg-orange-200 transition-colors",children:e.jsx(wd,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 group-hover:text-orange-600 transition-colors mb-1",children:"Workflow"}),e.jsxs("div",{className:"bg-orange-50 rounded-lg px-2 py-1",children:[e.jsx("p",{className:"text-lg font-bold text-orange-600",children:I.applications?.selected||0}),e.jsx("p",{className:"text-xs text-orange-500 uppercase tracking-wide",children:"In Process"})]})]})]})})})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sticky bottom-2",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-medium",children:"Live Data"})]}),e.jsx("span",{className:"text-gray-300",children:""}),e.jsx("span",{children:"Updates every 5 mins"}),e.jsx("span",{className:"text-gray-300",children:""}),e.jsxs("span",{children:["Last refresh: ",_e.toLocaleTimeString()]})]})})})]})})},gj=()=>{const[n,a]=j.useState(null),[r,i]=j.useState(!1),o=j.useCallback((m,p="")=>{console.error(`Error in ${p}:`,m),m instanceof vr?(a({message:m.message,code:m.code,status:m.status,timestamp:m.timestamp}),i(m.status===0||m.status>=500)):(a({message:m.message||"An unexpected error occurred",code:"UNKNOWN_ERROR",status:m.status||500,timestamp:new Date().toISOString()}),i(!0))},[]),d=j.useCallback(()=>{a(null),i(!1)},[]);return{error:n,isRetryable:r,handleError:o,clearError:d}},fj=()=>{const n=ba(),{error:a,isRetryable:r,handleError:i,clearError:o}=gj(),[d,m]=j.useState({search:"",country:"All Countries",status:"published",sortBy:"published_date"}),[p,x]=j.useState({page:1,limit:10}),[f,v]=j.useState([]),[h,_]=j.useState({}),[F,I]=j.useState(!0),[E,$]=j.useState({});j.useEffect(()=>{(async()=>{try{I(!0),o();const[K,Z,ee]=await Promise.all([qe.getJobs(d),Ke.getJobStatuses(),qe.getJobStatistics()]);v(K),_(Z),$(ee.byCountry||{})}catch(K){i(K,"fetch jobs data")}finally{I(!1)}})()},[d]);const O=(R,K)=>{m(Z=>({...Z,[R]:K})),x(Z=>({...Z,page:1}))},z=R=>{x(K=>({...K,page:R}))};return F&&f.length===0?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),e.jsxs("div",{className:"card p-6 mb-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 mb-6",children:[1,2,3,4,5,6].map(R=>e.jsx("div",{className:"h-16 bg-gray-200 rounded"},R))})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),[1,2,3,4,5].map(R=>e.jsxs("div",{className:"flex justify-between py-4 border-b",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/6"})]},R))]})]})}):a?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(jt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load jobs"}),e.jsx("p",{className:"text-gray-600 mb-4",children:a.message}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Reload Page"}),r&&e.jsx("button",{onClick:()=>{o(),(async()=>{try{I(!0);const[K,Z,ee]=await Promise.all([qe.getJobs(d),Ke.getJobStatuses(),qe.getJobStatistics()]);v(K),_(Z),$(ee.byCountry||{}),o()}catch(K){i(K,"retry fetch jobs data")}finally{I(!1)}})()},className:"btn-secondary",children:"Retry"})]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Jobs"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage job postings, applications, and candidate pipeline"})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(ga,{permission:ce.CREATE_JOB,children:e.jsxs("button",{onClick:()=>n("/drafts"),className:"btn-primary flex items-center",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Create Job"]})})})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by reference ID, title, company...",value:d.search,onChange:R=>O("search",R.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{value:d.status,onChange:R=>O("status",R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:h.PUBLISHED,children:"Published"}),e.jsx("option",{value:h.DRAFT,children:"Draft"}),e.jsx("option",{value:h.CLOSED,children:"Closed"}),e.jsx("option",{value:h.PAUSED,children:"Paused"})]}),e.jsxs("select",{value:d.country,onChange:R=>O("country",R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{children:"All Countries"}),Object.keys(E).map(R=>e.jsx("option",{value:R,children:R},R))]}),e.jsxs("select",{value:d.sortBy,onChange:R=>O("sortBy",R.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"published_date",children:"Published Date"}),e.jsx("option",{value:"applications",children:"Candidate Count"}),e.jsx("option",{value:"shortlisted",children:"Shortlist Count"}),e.jsx("option",{value:"interviews",children:"Today's Interviews"})]})]})]})}),e.jsxs("div",{className:"card p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Open job distribution by country"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-1",children:Object.entries(E).filter(([R,K])=>K>0).map(([R,K])=>e.jsxs("button",{className:"flex flex-col items-center justify-center p-1 text-center hover:bg-gray-50 border border-gray-200 rounded-sm transition-colors",onClick:()=>O("country",R),children:[e.jsx("span",{className:"text-[10px] text-gray-600",children:R}),e.jsx("span",{className:"text-sm font-semibold text-primary-600 leading-tight",children:K})]},R))})]}),e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Job Listings"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"JOB DETAILS"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"APPLICATION STATUS"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"POSTED"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ACTIONS"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(R=>{const K=R.published_at||R.created_at,Z=Nv(new Date(K),{addSuffix:!0}),ee=Ne(new Date(K),"MMM d, yyyy HH:mm");return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),e.jsxs("div",{className:"text-sm text-gray-500 font-mono",children:["Ref: ",R.id]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(Ls,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:R.country})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-900 mb-1",children:[e.jsx(_t,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"font-medium",children:["Applicants (",R.applications_count||0,")"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[e.jsx(fa,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Shortlisted: ",R.shortlisted_count||0]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Dt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Interviews: ",R.interviews_today||0," of ",R.total_interviews||0," today"]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.jsxs("div",{title:ee,children:[e.jsx("div",{className:"font-medium",children:Z.replace(" ago","d ago").replace("about ","")}),e.jsx("div",{className:"text-xs text-gray-400",children:Ne(new Date(K),"MMM d, yyyy")})]})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx(ga,{permission:ce.VIEW_JOBS,children:e.jsxs(Ut,{to:`/jobs/${R.id}`,className:"text-primary-600 hover:text-primary-800 flex items-center",children:[e.jsx(Xt,{className:"w-4 h-4 mr-1"}),"View Details"]})}),e.jsx(ga,{permission:ce.VIEW_APPLICATIONS,children:e.jsxs(Ut,{to:`/jobs/${R.id}/shortlist`,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[e.jsx(fa,{className:"w-4 h-4 mr-1"}),"View Shortlist"]})}),e.jsx(ga,{permission:ce.VIEW_APPLICATIONS,children:e.jsxs(Ut,{to:`/jobs/${R.id}?tab=applied`,className:"text-gray-600 hover:text-gray-800 flex items-center",children:[e.jsx(_t,{className:"w-4 h-4 mr-1"}),"Manage Candidates"]})}),e.jsx(ga,{permission:ce.SCHEDULE_INTERVIEW,children:e.jsxs(Ut,{to:`/jobs/${R.id}?tab=shortlisted`,className:"text-gray-600 hover:text-gray-800 flex items-center",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),"Schedule"]})})]})})]},R.id)})})]})}),f.length>0&&Math.ceil(f.length/p.limit)>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(p.page-1)*p.limit+1," to ",Math.min(p.page*p.limit,f.length)," of ",f.length," jobs"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>z(p.page-1),disabled:p.page===1,className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Xl,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(p.page+1),disabled:p.page>=Math.ceil(f.length/p.limit),className:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(oi,{className:"w-4 h-4"})})]})]})]})]})},o0=({candidates:n,jobId:a,onScheduled:r})=>{const[i,o]=j.useState(new Set),[d,m]=j.useState("individual"),[p,x]=j.useState({date:"",time:"",duration:60,interviewer:"",location:"Office",notes:""}),[f,v]=j.useState([]),[h,_]=j.useState({duration:"2 weeks",startDate:Ne(br(new Date,1),"yyyy-MM-dd"),interviewsPerDay:3}),[F,I]=j.useState([{id:"cv",label:"CV",icon:Ot,selected:!0},{id:"citizenship",label:"Citizenship",icon:Yt,selected:!0},{id:"education",label:"Education Certificate",icon:kd,selected:!0},{id:"photo",label:"PP Photo",icon:li,selected:!0},{id:"hardcopy",label:"Hardcopy Requirements",icon:ty,selected:!0}]),[E,$]=j.useState([]),[O,z]=j.useState(!1),[R,K]=j.useState([]),[Z,ee]=j.useState({});j.useEffect(()=>{te(),Q()},[]);const te=async()=>{try{const k=await jr.getAllInterviews();K(k)}catch(k){console.error("Failed to load existing interviews:",k)}},Q=async()=>{try{const k={};for(const W of n){const U=(await jr.getInterviewsByCandidate(W.id)).find(oe=>oe.job_id===a);k[W.id]=U?U.status:"not_scheduled"}ee(k)}catch(k){console.error("Failed to load candidate statuses:",k)}},se=k=>{I(W=>W.map(C=>C.id===k?{...C,selected:!C.selected}:C))},_e=()=>{const k=ct(h.startDate),W=h.duration==="2 weeks"?14:2,C=h.interviewsPerDay,U=[];let oe=k,ue=0;for(;ue<n.length&&U.length<W;){const ge={date:Ne(oe,"yyyy-MM-dd"),candidates:[]};for(let ve=0;ve<C&&ue<n.length;ve++){const Ie=Ne(ea(Ya(oe).setHours(9),ve*60),"HH:mm");ge.candidates.push({candidate:n[ue],time:Ie}),ue++}ge.candidates.length>0&&U.push(ge),oe=br(oe,1)}return U},pe=()=>n.sort((C,U)=>(U.priority_score||0)-(C.priority_score||0)).slice(0,5).map((C,U)=>({candidate:C,suggestedDate:Ne(br(new Date,U+1),"yyyy-MM-dd"),suggestedTime:Ne(ea(Ya(new Date).setHours(10),U*90),"HH:mm"),priority:"high",reasoning:`Top ${U+1} candidate based on skill match (${C.priority_score}% match)`})),L=(k,W,C)=>{const U=ct(W),oe=ea(U,C);return R.filter(ge=>{if(ge.candidate_id!==k)return!1;const ve=ct(ge.scheduled_at),Ie=ea(ve,ge.duration||60);return U<Ie&&oe>ve})},V=k=>{const W=new Set(i);W.has(k)?W.delete(k):W.add(k),o(W),p.date&&p.time&&D(W)},D=k=>{if(!p.date||!p.time)return;const W=`${p.date}T${p.time}:00`,C=[];k.forEach(U=>{const oe=L(U,W,p.duration);if(oe.length>0){const ue=n.find(ge=>ge.id===U);C.push({candidateId:U,candidateName:ue?.name||"Unknown",conflicts:oe})}}),$(C)},H=(k,W)=>{const C={...p,[k]:W};x(C),(k==="date"||k==="time"||k==="duration")&&D(i)},w=async()=>{if(!(i.size===0||E.length>0))try{z(!0);const k=`${p.date}T${p.time}:00`,W=Array.from(i).map(async C=>n.find(oe=>oe.id===C)?await jr.scheduleInterview({candidate_id:C,job_id:a,scheduled_at:k,duration:p.duration,interviewer:p.interviewer,location:p.location,notes:p.notes,status:"scheduled"}):null);await Promise.all(W),o(new Set),x({date:"",time:"",duration:60,interviewer:"",location:"Office",notes:""}),$([]),await te(),r&&r()}catch(k){console.error("Failed to schedule interviews:",k)}finally{z(!1)}},re=({conflicts:k})=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(va,{className:"w-5 h-5 text-red-600 mr-2 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-red-800 mb-2",children:"Scheduling Conflicts Detected"}),e.jsx("div",{className:"space-y-2",children:k.map((W,C)=>e.jsxs("div",{className:"text-sm text-red-700",children:[e.jsx("strong",{children:W.candidateName})," has ",W.conflicts.length," conflicting interview(s):",e.jsx("ul",{className:"ml-4 mt-1",children:W.conflicts.map((U,oe)=>e.jsxs("li",{className:"text-xs",children:[" ",Ne(ct(U.scheduled_at),"MMM dd, yyyy HH:mm"),"(",U.duration||60," min)"]},oe))})]},C))}),e.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please choose a different time slot or deselect conflicting candidates."})]})]})}),Y=k=>{const W={not_scheduled:{class:"bg-gray-100 text-gray-800",label:"Not Scheduled"},scheduled:{class:"bg-blue-100 text-blue-800",label:"Scheduled"},completed:{class:"bg-green-100 text-green-800",label:"Completed"},cancelled:{class:"bg-red-100 text-red-800",label:"Cancelled"},rescheduled:{class:"bg-yellow-100 text-yellow-800",label:"Rescheduled"}},C=W[k]||W.not_scheduled;return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.class}`,children:C.label})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Interview Scheduling"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Review shortlisted candidates and create interview schedules with multiple scheduling options."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Requirements Checklist"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Auto-selected requirements for interviews:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(k=>{const W=k.icon;return e.jsxs("div",{className:`inline-flex items-center px-3 py-2 rounded-full text-sm font-medium transition-colors ${k.selected?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),k.label,k.selected&&e.jsx("button",{onClick:()=>se(k.id),className:"ml-2 text-blue-600 hover:text-blue-800",children:e.jsx(st,{className:"w-3 h-3"})})]},k.id)})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Click X to remove requirements. Selected requirements will be communicated to candidates."})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Scheduling Options"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("button",{onClick:()=>m("individual"),className:`p-4 rounded-lg border-2 transition-colors ${d==="individual"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Yt,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),e.jsx("div",{className:"text-sm font-medium",children:"Individual"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Schedule one by one"})]}),e.jsxs("button",{onClick:()=>m("batch"),className:`p-4 rounded-lg border-2 transition-colors ${d==="batch"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(_t,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),e.jsx("div",{className:"text-sm font-medium",children:"Batch"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Schedule N on date1, M on date2"})]}),e.jsxs("button",{onClick:()=>m("suggested"),className:`p-4 rounded-lg border-2 transition-colors ${d==="suggested"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(nt,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),e.jsx("div",{className:"text-sm font-medium",children:"Suggested"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Auto-schedule over 2 weeks/days"})]}),e.jsxs("button",{onClick:()=>m("ai"),className:`p-4 rounded-lg border-2 transition-colors ${d==="ai"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Tl,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),e.jsx("div",{className:"text-sm font-medium",children:"AI-Assisted"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Smart scheduling for top 5"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:["Shortlisted Candidates (",n.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:n.map(k=>e.jsx("div",{className:`border rounded-lg p-4 transition-colors ${i.has(k.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[d!=="suggested"&&d!=="ai"&&e.jsx("input",{type:"checkbox",checked:i.has(k.id),onChange:()=>V(k.id),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:k.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:k.name}),k.priority_score&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs text-yellow-600",children:""}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[k.priority_score,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{children:k.phone}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[k.skills.slice(0,3).map((W,C)=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-0.5 rounded",children:W},C)),k.skills.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",k.skills.length-3]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[Y(Z[k.id]||"not_scheduled"),E.some(W=>W.candidateId===k.id)&&e.jsx(va,{className:"w-4 h-4 text-red-500"})]})]})]})]})})},k.id))})]}),d==="individual"&&i.size>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Individual Schedule Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:p.date,onChange:k=>H("date",k.target.value),min:Ne(new Date,"yyyy-MM-dd"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),e.jsx("input",{type:"time",value:p.time,onChange:k=>H("time",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (minutes)"}),e.jsxs("select",{value:p.duration,onChange:k=>H("duration",parseInt(k.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"}),e.jsx("option",{value:120,children:"2 hours"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interviewer"}),e.jsx("input",{type:"text",value:p.interviewer,onChange:k=>H("interviewer",k.target.value),placeholder:"Enter interviewer name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),e.jsxs("select",{value:p.location,onChange:k=>H("location",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"Office",children:"Office"}),e.jsx("option",{value:"Video Call",children:"Video Call"}),e.jsx("option",{value:"Phone",children:"Phone"}),e.jsx("option",{value:"Client Site",children:"Client Site"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{value:p.notes,onChange:k=>H("notes",k.target.value),placeholder:"Additional notes for the interview...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),d==="batch"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Batch Scheduling"}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-yellow-800",children:'Create multiple scheduling slots. Example: "Schedule 3 candidates on March 15th, 2 candidates on March 16th"'})}),e.jsxs("div",{className:"space-y-4",children:[f.map((k,W)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h5",{className:"font-medium text-gray-900",children:["Batch ",W+1]}),e.jsx("button",{onClick:()=>v(C=>C.filter((U,oe)=>oe!==W)),className:"text-red-600 hover:text-red-800",children:e.jsx(st,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("input",{type:"date",value:k.date,onChange:C=>{const U=[...f];U[W].date=C.target.value,v(U)},min:Ne(new Date,"yyyy-MM-dd"),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"time",value:k.startTime,onChange:C=>{const U=[...f];U[W].startTime=C.target.value,v(U)},className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"number",value:k.candidateCount,onChange:C=>{const U=[...f];U[W].candidateCount=parseInt(C.target.value),v(U)},placeholder:"Number of candidates",min:"1",max:n.length,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]},W)),e.jsxs("button",{onClick:()=>v(k=>[...k,{date:"",startTime:"09:00",candidateCount:1}]),className:"flex items-center text-blue-600 hover:text-blue-800",children:[e.jsx(xs,{className:"w-4 h-4 mr-1"}),"Add Batch"]})]})]}),d==="suggested"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Suggested Scheduling"}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Duration"}),e.jsxs("select",{value:h.duration,onChange:k=>_(W=>({...W,duration:k.target.value})),className:"w-full px-3 py-2 border border-green-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:"2 weeks",children:"2 weeks"}),e.jsx("option",{value:"2 days",children:"2 days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:h.startDate,onChange:k=>_(W=>({...W,startDate:k.target.value})),min:Ne(new Date,"yyyy-MM-dd"),className:"w-full px-3 py-2 border border-green-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-green-800 mb-1",children:"Interviews per Day"}),e.jsxs("select",{value:h.interviewsPerDay,onChange:k=>_(W=>({...W,interviewsPerDay:parseInt(k.target.value)})),className:"w-full px-3 py-2 border border-green-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[e.jsx("option",{value:1,children:"1 per day"}),e.jsx("option",{value:2,children:"2 per day"}),e.jsx("option",{value:3,children:"3 per day"}),e.jsx("option",{value:4,children:"4 per day"}),e.jsx("option",{value:5,children:"5 per day"})]})]})]})}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"Generated Schedule Preview"}),e.jsx("div",{className:"space-y-3",children:_e().map((k,W)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"font-medium text-gray-900 mb-2",children:Ne(ct(k.date),"EEEE, MMM dd, yyyy")}),e.jsx("div",{className:"space-y-1",children:k.candidates.map((C,U)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{children:[C.time," - ",C.candidate.name]}),e.jsxs("span",{className:"text-gray-500",children:["Priority: ",C.candidate.priority_score,"%"]})]},U))})]},W))})]})]}),d==="ai"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"AI-Assisted Scheduling"}),e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Tl,{className:"w-5 h-5 text-purple-600 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-purple-800",children:"Smart Scheduling for Top Candidates"}),e.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"AI has analyzed candidate profiles and suggests optimal scheduling for your top 5 candidates. Please review and approve the suggestions."})]})]})}),e.jsx("div",{className:"space-y-3",children:pe().map((k,W)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-medium text-purple-700",children:["#",W+1]})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:k.candidate.name}),e.jsx("p",{className:"text-sm text-gray-600",children:k.reasoning}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm",children:[e.jsxs("span",{className:"text-gray-700",children:[" ",Ne(ct(k.suggestedDate),"MMM dd, yyyy")]}),e.jsxs("span",{className:"text-gray-700",children:[" ",k.suggestedTime]}),e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.priority==="high"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[k.priority," priority"]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-700",children:[k.candidate.priority_score,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Match Score"})]})]})},W))}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(va,{className:"w-5 h-5 text-yellow-600 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-yellow-800",children:"Review Required"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"AI suggestions need thorough review. Please verify candidate availability and interviewer schedules before confirming."})]})]})})]}),E.length>0&&e.jsx(re,{conflicts:E}),(d==="individual"&&i.size>0||d==="batch"&&f.length>0||d==="suggested"||d==="ai")&&e.jsxs("div",{className:"flex justify-end space-x-3",children:[d==="suggested"&&e.jsxs("button",{onClick:()=>{const k=_e();console.log("Implementing suggested schedule:",k)},disabled:O,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),O?"Scheduling...":"Apply Suggested Schedule"]}),d==="ai"&&e.jsxs("button",{onClick:()=>{const k=pe();console.log("Implementing AI schedule:",k)},disabled:O,className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(Tl,{className:"w-4 h-4 mr-2"}),O?"Scheduling...":"Apply AI Schedule"]}),d==="batch"&&e.jsxs("button",{onClick:()=>{console.log("Implementing batch schedule:",f)},disabled:O||f.length===0,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),O?"Scheduling...":`Schedule ${f.length} Batch${f.length!==1?"es":""}`]}),d==="individual"&&e.jsxs("button",{onClick:w,disabled:O||E.length>0||!p.date||!p.time,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),O?"Scheduling...":`Schedule ${i.size} Interview${i.size!==1?"s":""}`]})]})]})},c0=({candidates:n,jobId:a,interviews:r})=>{const[i,o]=j.useState("today"),[d,m]=j.useState(null),[p,x]=j.useState(!1),[f,v]=j.useState(""),[h,_]=j.useState(""),[F,I]=j.useState(""),[E,$]=j.useState({date:"",time:""}),[O,z]=j.useState(!1),[R,K]=j.useState([]),[Z]=j.useState(30);j.useEffect(()=>{r?K(r.map(D=>({id:D.candidate_id,name:D.candidate_name,phone:D.candidate_phone,email:D.candidate_email,interview:D}))):ee()},[n,a,r]),j.useEffect(()=>{const D=H=>{H.key==="Escape"&&p&&Q()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[p]);const ee=async()=>{try{const D=[];for(const H of n){const re=(await jr.getInterviewsByCandidateId(H.id)).find(Y=>Y.job_id===a);re&&D.push({...H,interview:re})}K(D)}catch(D){console.error("Failed to load interviews:",D)}},te=R.filter(D=>{if(!D.interview)return!1;const H=ct(D.interview.scheduled_at);switch(i){case"today":return Bh(H)&&!isUnattended(D.interview);case"tomorrow":return Uh(H);case"unattended":return isUnattended(D.interview);case"all":default:return!0}}),Q=()=>{x(!1),m(null),v(""),_(""),I(""),$({date:"",time:""})},se=async(D,H,w=null)=>{try{z(!0);let re={notes:f,updated_at:new Date().toISOString()};switch(H){case"send_reminder":re.reminder_sent=!0,re.reminder_sent_at=new Date().toISOString();break;case"take_notes":break;case"mark_interviewed":re.status="completed",re.completed_at=new Date().toISOString();break;case"mark_pass":re.status="completed",re.result="pass",re.completed_at=new Date().toISOString();break;case"mark_fail":re.status="completed",re.result="fail",re.completed_at=new Date().toISOString();break;case"reject":re.status="cancelled",re.result="rejected",re.rejection_reason=F,re.cancelled_at=new Date().toISOString();break;case"reschedule":re.status="scheduled",re.scheduled_at=`${E.date}T${E.time}:00`,re.rescheduled_at=new Date().toISOString();break}await jr.updateInterview(D.interview.id,re),await ee(),Q()}catch(re){console.error("Failed to update interview:",re)}finally{z(!1)}},_e=D=>{if(ct(D.scheduled_at),isUnattended(D))return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Unattended"});switch(D.status){case"scheduled":return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Scheduled"});case"completed":return D.result==="pass"?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Passed"}):D.result==="fail"?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Failed"}):e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Completed"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Cancelled"});case"rescheduled":return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Rescheduled"});default:return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Scheduled"})}},pe=D=>{const H=D.interview,w=ct(H.scheduled_at),re=Bh(w)||Uh(w),Y=isUnattended(H);return H.status==="completed"?e.jsxs("div",{className:"text-sm text-gray-600",children:["Interview completed - ",H.result||"No result recorded"]}):re&&H.status==="scheduled"&&!Y?e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:k=>{k.stopPropagation(),se(D,"send_reminder")},className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded hover:bg-blue-200 transition-colors",children:[e.jsx(ud,{className:"w-3 h-3 mr-1 inline"}),"Send Reminder"]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),se(D,"mark_interviewed")},className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded hover:bg-green-200 transition-colors",children:[e.jsx(gt,{className:"w-3 h-3 mr-1 inline"}),"Mark Interviewed"]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),se(D,"mark_pass")},className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded hover:bg-green-200 transition-colors",children:[e.jsx(os,{className:"w-3 h-3 mr-1 inline"}),"Mark Pass"]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),se(D,"mark_fail")},className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200 transition-colors",children:[e.jsx(wr,{className:"w-3 h-3 mr-1 inline"}),"Mark Fail"]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),m(D),_("reject")},className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200 transition-colors",children:[e.jsx(st,{className:"w-3 h-3 mr-1 inline"}),"Reject"]})]}):Y||i==="all"||i==="unattended"?e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:k=>{k.stopPropagation(),se(D,"mark_pass")},className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded hover:bg-green-200 transition-colors",children:[e.jsx(os,{className:"w-3 h-3 mr-1 inline"}),"Mark Pass"]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),se(D,"mark_fail")},className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200 transition-colors",children:[e.jsx(wr,{className:"w-3 h-3 mr-1 inline"}),"Mark Fail"]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),m(D),_("reject")},className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded hover:bg-red-200 transition-colors",children:[e.jsx(st,{className:"w-3 h-3 mr-1 inline"}),"Reject"]}),e.jsxs("button",{onClick:k=>{k.stopPropagation(),m(D),_("reschedule")},className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded hover:bg-blue-200 transition-colors",children:[e.jsx(ly,{className:"w-3 h-3 mr-1 inline"}),"Reschedule"]})]}):e.jsxs("div",{className:"text-sm text-gray-600",children:["Scheduled for ",Ne(w,"MMM dd, yyyy")]})},L=D=>D?.toLowerCase().includes("video")||D?.toLowerCase().includes("zoom")||D?.toLowerCase().includes("teams")?e.jsx(Op,{className:"w-4 h-4"}):D?.toLowerCase().includes("phone")||D?.toLowerCase().includes("call")?e.jsx(gs,{className:"w-4 h-4"}):e.jsx(Ls,{className:"w-4 h-4"}),V=({candidate:D,isOpen:H,onClose:w})=>!H||!D?null:e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:w}),e.jsx("div",{className:"absolute right-0 top-0 h-full bg-white shadow-xl",style:{width:"60vw"},children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Applicant Summary"}),e.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:e.jsx(st,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-medium text-gray-600",children:D.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:D.name}),D.priority_score&&e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(zl,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("span",{className:"text-lg font-medium text-gray-700",children:["Priority Score: ",D.priority_score]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Applied ",Ne(new Date(D.applied_at),"MMM dd, yyyy")]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gs,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Phone"}),e.jsx("div",{className:"text-sm text-gray-600",children:D.phone})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Sr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Email"}),e.jsx("div",{className:"text-sm text-gray-600",children:D.email})]})]})]})]}),D.interview&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(nt,{className:"w-5 h-5 mr-2"}),"Interview Details"]}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Date & Time"}),e.jsx("div",{className:"text-sm text-gray-600",children:Ne(ct(D.interview.scheduled_at),"MMM dd, yyyy h:mm a")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Duration"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[D.interview.duration," minutes"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Location"}),e.jsx("div",{className:"text-sm text-gray-600",children:D.interview.location})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Interviewer"}),e.jsx("div",{className:"text-sm text-gray-600",children:D.interview.interviewer})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(ri,{className:"w-5 h-5 mr-2"}),"Interview Notes"]}),e.jsx("textarea",{value:f,onChange:re=>v(re.target.value),placeholder:"Add notes about the interview...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{onClick:()=>se(D,"take_notes"),disabled:O,className:"mt-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors disabled:opacity-50",children:O?"Saving...":"Save Notes"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(Mp,{className:"w-5 h-5 mr-2"}),"Address"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700",children:D.address})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(Is,{className:"w-5 h-5 mr-2"}),"Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:D.skills.map((re,Y)=>e.jsx("span",{className:"chip chip-blue",children:re},Y))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(kd,{className:"w-5 h-5 mr-2"}),"Education"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700",children:D.education||"Not specified"})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Experience"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700",children:D.experience})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"CV"}),e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ot,{className:"w-8 h-8 text-gray-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[D.name,"_CV.pdf"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"PDF  2.3 MB"})]})]}),e.jsxs("button",{className:"btn-secondary text-sm",children:[e.jsx(_d,{className:"w-4 h-4 mr-2"}),"Download"]})]})})]})]})]})]})})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(V,{candidate:d,isOpen:p,onClose:Q}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{id:"today",label:"Today",count:getSubtabCounts().today},{id:"tomorrow",label:"Tomorrow",count:getSubtabCounts().tomorrow},{id:"unattended",label:"Unattended",count:getSubtabCounts().unattended},{id:"all",label:"All",count:getSubtabCounts().all}].map(D=>e.jsxs("button",{onClick:()=>o(D.id),className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-medium transition-colors ${i===D.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[D.label,D.count>0&&e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${i===D.id?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:D.count})]},D.id))}),e.jsx("div",{className:"space-y-4",children:te.length>0?te.map(D=>{const H=D.interview,w=ct(H.scheduled_at),re=isUnattended(H);return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>handleCandidateClick(D),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-medium text-gray-600",children:D.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:D.name}),_e(H)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:Ne(w,"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dt,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:[Ne(w,"h:mm a")," (",H.duration||60," min)"]})]}),e.jsxs("div",{className:"flex items-center",children:[L(H.location),e.jsx("span",{className:"ml-2",children:H.location})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Interviewer: ",H.interviewer]})]}),H.notes&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2 mb-3",children:e.jsx("p",{className:"text-sm text-yellow-800",children:H.notes})}),re&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 text-red-600 mr-2"}),e.jsx("p",{className:"text-sm text-red-800",children:"Automatically flagged as unattended (grace period expired)"})]})}),e.jsx("div",{onClick:Y=>Y.stopPropagation(),children:pe(D)})]})]}),e.jsxs("button",{onClick:Y=>{Y.stopPropagation(),handleCandidateClick(D)},className:"text-sm text-primary-600 hover:text-primary-800 transition-colors flex items-center",children:[e.jsx(Xt,{className:"w-4 h-4 mr-1"}),"View Details"]})]})},D.id)}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scheduled interviews"}),e.jsx("p",{className:"text-gray-600",children:i==="all"?"No interviews have been scheduled yet.":`No interviews match the "${i}" filter.`})]})}),h==="reject"&&d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Reject Candidate"}),e.jsx("button",{onClick:()=>{_(""),I("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(st,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason"}),e.jsx("textarea",{value:F,onChange:D=>I(D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:3,placeholder:"Please provide a reason for rejection..."})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:e.jsx("p",{className:"text-sm text-yellow-800",children:" This will remove the candidate from the shortlisted list and cannot be undone."})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{_(""),I("")},className:"btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:()=>se(d,"reject"),disabled:!F.trim()||O,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition-colors disabled:opacity-50",children:O?"Rejecting...":"Confirm Rejection"})]})]})]})}),h==="reschedule"&&d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Reschedule Interview"}),e.jsx("button",{onClick:()=>{_(""),$({date:"",time:""})},className:"text-gray-400 hover:text-gray-600",children:e.jsx(st,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Date & Time"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"date",value:E.date,onChange:D=>$(H=>({...H,date:D.target.value})),min:Ne(new Date,"yyyy-MM-dd"),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"time",value:E.time,onChange:D=>$(H=>({...H,time:D.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{_(""),$({date:"",time:""})},className:"btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:()=>se(d,"reschedule"),disabled:!E.date||!E.time||O,className:"btn-primary disabled:opacity-50",children:O?"Rescheduling...":"Reschedule"})]})]})]})})]})},d0=j.createContext(),u0=()=>{const n=j.useContext(d0);if(!n)throw new Error("useConfirm must be used within a ConfirmProvider");return n},yj=({children:n})=>{const[a,r]=j.useState(null),i=o=>new Promise(d=>{r({...o,onConfirm:()=>{r(null),d(!0)},onCancel:()=>{r(null),d(!1)}})});return e.jsxs(d0.Provider,{value:{confirm:i},children:[n,a&&e.jsx(vj,{...a})]})},vj=({title:n="Confirm Action",message:a="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:i="Cancel",type:o="warning",onConfirm:d,onCancel:m})=>{const x=(v=>{const h={warning:{icon:va,iconBg:"bg-yellow-100",iconColor:"text-yellow-600",confirmBtn:"btn-primary"},danger:{icon:va,iconBg:"bg-red-100",iconColor:"text-red-600",confirmBtn:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-md transition-colors duration-200"},info:{icon:gt,iconBg:"bg-blue-100",iconColor:"text-blue-600",confirmBtn:"btn-primary"}};return h[v]||h.warning})(o),f=x.icon;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",role:"dialog","aria-modal":"true","aria-labelledby":"dialog-title","aria-describedby":"dialog-description",children:[e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full ${x.iconBg} flex items-center justify-center`,children:e.jsx(f,{className:`w-5 h-5 ${x.iconColor}`,"aria-hidden":"true"})}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("h3",{id:"dialog-title",className:"text-lg font-semibold text-gray-900 mb-2",children:n}),e.jsx("p",{id:"dialog-description",className:"text-sm text-gray-600",children:a})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex flex-col-reverse sm:flex-row sm:justify-end gap-3",children:[e.jsx("button",{onClick:m,className:"btn-secondary btn-mobile",children:i}),e.jsx("button",{onClick:d,className:`${x.confirmBtn} btn-mobile`,children:r})]})]})})},so=({candidate:n,application:a,isOpen:r,onClose:i,onUpdateStatus:o,onAttachDocument:d,workflowStages:m=[]})=>{const[p,x]=j.useState(!1),[f,v]=j.useState(!1),[h,_]=j.useState([]),{confirm:F}=u0();if(!r||!n)return null;const I=m.find(ee=>ee.id===n.application?.stage),E=m.find(ee=>ee.label==="Rejected"),O=(a||n.application)?.stage===E?.id,z=ee=>({applied:"shortlisted",shortlisted:"interview-scheduled","interview-scheduled":"interview-passed","interview-passed":null})[ee],R=(ee,te)=>{const Q=z(ee);return te===Q},K=async ee=>{x(!0);try{const te=n.application?.stage;if(!R(te,ee)){await F({title:"Invalid Stage Transition",message:`You cannot move directly from "${m.find(pe=>pe.id===te)?.label}" to "${m.find(pe=>pe.id===ee)?.label}". Please follow the proper workflow sequence.`,confirmText:"Okay",type:"warning"});return}const Q=m.find(pe=>pe.id===te)?.label,se=m.find(pe=>pe.id===ee)?.label;await F({title:"Confirm Stage Update",message:`Are you sure you want to move this candidate from "${Q}" to "${se}"? This action cannot be undone.`,confirmText:"Yes, Update Stage",cancelText:"Cancel",type:"warning"})&&await o(n.id,ee)}catch(te){console.error("Failed to update status:",te),await F({title:"Error",message:"Failed to update candidate status. Please try again.",confirmText:"Okay",type:"danger"})}finally{x(!1)}},Z=async ee=>{const te=Array.from(ee.target.files);if(_(te),te.length>0){if(!await F({title:"Confirm Document Upload",message:`Are you sure you want to upload ${te.length} document${te.length!==1?"s":""} for this candidate?`,confirmText:"Yes, Upload",cancelText:"Cancel",type:"info"})){_([]),ee.target.value="";return}v(!0);try{for(const se of te)await d(n.id,{name:se.name,size:se.size,type:se.type,stage:n.application?.stage,uploaded_at:new Date().toISOString()});_([]),ee.target.value=""}catch(se){console.error("Failed to upload documents:",se),await F({title:"Upload Error",message:"Failed to upload documents. Please try again.",confirmText:"Okay",type:"danger"})}finally{v(!1)}}};return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30",onClick:i}),e.jsx("div",{className:"absolute right-0 top-0 h-full bg-white shadow-xl",style:{width:"60vw"},children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Candidate Summary"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Post-Interview Pipeline Details"})]}),e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100",children:e.jsx(st,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-medium text-gray-600",children:n.name?.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.name}),I&&e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:"chip chip-blue",children:I.label}),e.jsx("span",{className:"text-sm text-gray-500",children:"Current Stage"})]}),n.job_title&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[e.jsx(Is,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"font-medium",children:"Applied for:"}),e.jsx("span",{className:"ml-1",children:n.job_title})]}),n.application?.created_at&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"font-medium",children:"Applied:"}),e.jsx("span",{className:"ml-1",children:Ne(new Date(n.application.created_at),"MMM dd, yyyy")})]})]})]})}),(n.interviewed_at||n.interview_remarks)&&e.jsxs("div",{className:"p-6 border-b border-gray-200 bg-blue-50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(ri,{className:"w-5 h-5 mr-2 text-blue-600"}),"Interview Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.interviewed_at&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center text-sm mb-2",children:[e.jsx(Dt,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Interview Date & Time"})]}),e.jsx("p",{className:"text-gray-900 font-medium",children:Ne(new Date(n.interviewed_at),"EEEE, MMM dd, yyyy")}),e.jsx("p",{className:"text-gray-600 text-sm",children:Ne(new Date(n.interviewed_at),"HH:mm")})]}),n.application?.interview_type&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center text-sm mb-2",children:[e.jsx(nt,{className:"w-4 h-4 mr-2 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-700",children:"Interview Type"})]}),e.jsx("p",{className:"text-gray-900 font-medium",children:n.application.interview_type})]})]}),n.interview_remarks&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(ri,{className:"w-4 h-4 mr-2 text-blue-600"}),"Interview Remarks & Feedback"]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:n.interview_remarks})})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Yt,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gs,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Phone"}),e.jsx("div",{className:"text-sm text-gray-600",children:n.phone})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Sr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Email"}),e.jsx("div",{className:"text-sm text-gray-600",children:n.email})]})]}),n.passport_number&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Dp,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Passport"}),e.jsx("div",{className:"text-sm text-gray-600",children:n.passport_number})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ls,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Address"}),e.jsx("div",{className:"text-sm text-gray-600",children:n.address})]})]})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Is,{className:"w-5 h-5 mr-2"}),"Professional Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Experience"}),e.jsx("p",{className:"text-sm text-gray-600",children:n.experience})]}),n.education&&e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(kd,{className:"w-4 h-4 mr-1"}),"Education"]}),e.jsx("p",{className:"text-sm text-gray-600",children:n.education})]}),n.skills&&n.skills.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((ee,te)=>e.jsx("span",{className:"chip chip-blue text-xs",children:ee},te))})]})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Tp,{className:"w-5 h-5 mr-2"}),"Documents & Attachments"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Upload documents for current stage: ",I?.label]})}),e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:Z,className:"hidden",disabled:f}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-400 cursor-pointer transition-colors",children:[e.jsx(Nr,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:f?"Uploading documents...":"Click to upload documents"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supports PDF, DOC, DOCX, JPG, PNG files"})]})]})]}),e.jsx("div",{className:"space-y-4",children:n.documents&&n.documents.length>0?(()=>{const ee=n.documents.reduce((te,Q)=>{const se=Q.stage||"general";return te[se]||(te[se]=[]),te[se].push(Q),te},{});return Object.entries(ee).map(([te,Q])=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2 text-gray-600"}),te==="general"?"General Documents":`${te.charAt(0).toUpperCase()+te.slice(1)} Stage`,e.jsxs("span",{className:"ml-2 text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:[Q.length," file",Q.length!==1?"s":""]})]}),e.jsx("div",{className:"space-y-2",children:Q.map((se,_e)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(Ot,{className:"w-4 h-4 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:se.name}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[se.size&&e.jsxs("span",{children:[(se.size/1024/1024).toFixed(1)," MB"]}),se.uploaded_at&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx("span",{children:Ne(new Date(se.uploaded_at),"MMM dd, yyyy HH:mm")})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1 rounded",title:"View document",children:e.jsx(Xt,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-primary-600 hover:text-primary-800 p-1 rounded",title:"Download document",children:e.jsx(_d,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-gray-400 hover:text-red-600 p-1 rounded",title:"Remove document",children:e.jsx(st,{className:"w-4 h-4"})})]})]},_e))})]},te))})():e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx(Ot,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"No documents uploaded yet"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Upload documents to track candidate progress through each stage"})]})})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[O?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Status Update:"}),e.jsx("div",{className:"px-3 py-1 text-sm text-gray-500 bg-gray-100 rounded border border-gray-200",children:"Application Rejected - No updates allowed"})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Update Status:"}),(()=>{const te=(se=>{const _e=z(se);return _e?[se,_e]:[se]})(n.application?.stage),Q=m.filter(se=>te.includes(se.id));return n.application?.stage==="applied"?e.jsx("button",{onClick:()=>K("shortlisted"),disabled:p,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?"Moving...":"Move to Next Stage (Shortlist)"}):e.jsx("select",{value:n.application?.stage||"",onChange:se=>K(se.target.value),disabled:p,className:"text-sm border border-gray-300 rounded px-3 py-1 bg-white",children:Q.map(se=>e.jsx("option",{value:se.id,children:se.label},se.id))})})()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600 mr-2"}),"Updating..."]}),e.jsx("button",{onClick:i,className:"btn-secondary",children:"Close"})]})]})})]})})]})},bj=()=>{const{id:n}=pp();ba();const[a,r]=vp(),[i,o]=j.useState(a.get("tab")||"applied"),[d,m]=j.useState(parseInt(a.get("limit"))||10),[p,x]=j.useState(a.get("view")==="shortlist"),[f,v]=j.useState(new Set),[h,_]=j.useState(a.get("tags")?.split(",").filter(Boolean)||[]),[F,I]=j.useState([]),[E,$]=j.useState(null),[O,z]=j.useState(!1),[R,K]=j.useState(null),[Z,ee]=j.useState(null),[te,Q]=j.useState([]),[se,_e]=j.useState([]),[pe,L]=j.useState([]),[V,D]=j.useState({}),[H,w]=j.useState(!0),[re,Y]=j.useState(null),[k,W]=j.useState(!1),[C,U]=j.useState(!1),[oe,ue]=j.useState(!1),[ge,ve]=j.useState(!1),Ie=[{id:"applied",label:"Applied"},{id:"shortlisted",label:"Shortlisted"},{id:"scheduled",label:"Scheduled"},{id:"interviewed",label:"Interviewed"},{id:"selected",label:"Selected"},{id:"rejected",label:"Rejected"}];j.useEffect(()=>{Ce()},[n,i,d,h]),j.useEffect(()=>{const b=P=>{P.key==="Escape"&&O&&rt()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[O]);const Ce=async()=>{try{w(!0),Y(null);const b=await Ke.getApplicationStages();D(b);const P=await qe.getJobById(n);if(!P){Y(new Error("Job not found"));return}K(P),P.tags&&P.tags.length>0&&I(P.tags);const ae={view_count:P.view_count||0,total_applicants:P.applications_count||0,shortlisted_count:P.shortlisted_count||0,passed_count:P.passed_count||0};ee(ae);const be=await Kt.getApplicationsByJobId(n),De=await Promise.all(be.map(async Mt=>({...await Ts.getCandidateById(Mt.candidate_id),application:Mt})));let Pt=De.filter(Mt=>Mt.application.stage===b.APPLIED);h.length>0&&(Pt=Pt.filter(Mt=>h.every(ft=>Mt.skills.includes(ft)||R&&R.tags&&R.tags.includes(ft)))),Pt.sort((Mt,ft)=>(ft.priority_score||0)-(Mt.priority_score||0));const dt=De.filter(Mt=>Mt.application.stage===b.SHORTLISTED),Gt=De.filter(Mt=>Mt.application.stage===b.SCHEDULED);Q(Pt.slice(0,i==="applied"?d:Pt.length)),_e(dt),L(Gt)}catch(b){Y(b)}finally{w(!1)}},Re=b=>{const P=new Set(f);P.has(b)?P.delete(b):P.add(b),v(P)},Ze=b=>{const P=new URLSearchParams(a);Object.entries(b).forEach(([ae,be])=>{be==null||be===""?P.delete(ae):P.set(ae,be)}),r(P)},Rt=b=>{if(!h.includes(b)){const P=[...h,b];_(P),Ze({tags:P.join(",")})}},Le=b=>{const P=h.filter(ae=>ae!==b);_(P),Ze({tags:P.length>0?P.join(","):null})},pt=b=>{o(b),Ze({tab:b})},he=b=>{m(b),Ze({limit:b===10?null:b})},Se=b=>{x(b),Ze({view:b?"shortlist":null})},Oe=async b=>{try{W(!0);const P=te.find(ae=>ae.id===b);P&&P.application&&(await Kt.updateApplicationStage(P.application.id,V.SHORTLISTED),Ce())}catch(P){console.error("Failed to shortlist candidate:",P),Y(P)}finally{W(!1)}},Be=async()=>{if(f.size!==0)try{U(!0);const b=Array.from(f).map(P=>te.find(be=>be.id===P)?.application?.id).filter(Boolean);await Promise.all(b.map(P=>Kt.updateApplicationStage(P,V.REJECTED))),v(new Set),Ce()}catch(b){console.error("Failed to bulk reject candidates:",b),Y(b)}finally{U(!1)}},at=async()=>{if(f.size!==0)try{W(!0);const b=Array.from(f).map(P=>te.find(be=>be.id===P)?.application?.id).filter(Boolean);await Promise.all(b.map(P=>Kt.updateApplicationStage(P,V.SHORTLISTED))),v(new Set),Ce()}catch(b){console.error("Failed to bulk shortlist candidates:",b),Y(b)}finally{W(!1)}},ht=()=>{f.size!==0&&(Array.from(f),pt("shortlisted"),v(new Set))},Fe=b=>{$(b),z(!0)},rt=()=>{z(!1),$(null)},qs=async(b,P)=>{try{const ae=[...te,...se,...pe].find(be=>be.id===b);ae&&ae.application&&(await Kt.updateApplicationStage(ae.application.id,P),await Ce())}catch(ae){console.error("Failed to update status from sidebar:",ae)}},aa=async(b,P)=>{try{await Kt.attachDocument(b,P),await Ce()}catch(ae){console.error("Failed to attach document from sidebar:",ae)}},ra=()=>{ve(!0)},y=async()=>{try{ue(!0),ve(!1);const P=(await Kt.getApplicationsByJobId(n)).filter(ae=>ae.stage===V.APPLIED);await Promise.all(P.map(ae=>Kt.updateApplicationStage(ae.id,V.REJECTED))),Ce(),console.log(`Successfully rejected ${P.length} non-shortlisted candidates`)}catch(b){console.error("Failed to complete shortlisting:",b),Y(b)}finally{ue(!1)}},M=[{id:"applied",label:"Applied",count:te.length},{id:"shortlisted",label:"Shortlisted",count:se.length},{id:"scheduled",label:"Scheduled",count:pe.length}];if(H)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),[1,2,3,4,5].map(b=>e.jsxs("div",{className:"flex justify-between py-4 border-b",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]},b))]})}),e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(b=>e.jsx("div",{className:"h-4 bg-gray-200 rounded"},b))})]})]})]})});if(re||!R)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(jt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:re?.message==="Job not found"?"Job not found":"Failed to load job"}),e.jsx("p",{className:"text-gray-600 mb-4",children:re?.message==="Job not found"?"The job you're looking for doesn't exist or has been removed.":re?.message||"An error occurred while loading the job details."}),e.jsxs("div",{className:"space-x-3",children:[e.jsx("button",{onClick:Ce,className:"btn-secondary",children:"Retry"}),e.jsx(Ut,{to:"/jobs",className:"btn-primary",children:"Back to Jobs"})]})]})});const S=({candidate:b,onShortlist:P,showShortlistButton:ae=!1,showSelectCheckbox:be=!1})=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>Fe(b),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[be&&e.jsx("input",{type:"checkbox",checked:f.has(b.id),onChange:De=>{De.stopPropagation(),Re(b.id)},className:"mt-1 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-medium text-gray-600",children:b.name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.name}),b.priority_score&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(zl,{className:"w-4 h-4 text-yellow-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:b.priority_score})]})]}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ls,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:b.address})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(gs,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:b.phone})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[b.experience," experience"]})]})]}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[b.skills.slice(0,4).map((De,Pt)=>e.jsx("span",{className:"chip chip-blue text-xs",children:De},Pt)),b.skills.length>4&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",b.skills.length-4," more"]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Applied ",Ne(new Date(b.applied_at),"MMM dd")]}),ae&&e.jsxs("button",{onClick:De=>{De.stopPropagation(),P(b.id)},className:"btn-primary text-xs px-3 py-1",disabled:k,children:[e.jsx(fa,{className:"w-3 h-3 mr-1"}),k?"Shortlisting...":"Shortlist"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("button",{onClick:De=>De.stopPropagation(),className:"text-xs text-primary-600 hover:text-primary-800",children:[e.jsx(Xt,{className:"w-3 h-3 mr-1 inline"}),"View Profile"]}),e.jsxs("button",{onClick:De=>De.stopPropagation(),className:"text-xs text-gray-600 hover:text-gray-800",children:[e.jsx(_d,{className:"w-3 h-3 mr-1 inline"}),"CV"]})]})]})]})}),Pe=({isOpen:b,onClose:P,onConfirm:ae,nonShortlistedCount:be,shortlistedCount:De})=>b?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:P}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[e.jsxs("div",{className:"sm:flex sm:items-start",children:[e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10",children:e.jsx(va,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Mark Shortlisting Complete"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"This action will finalize the shortlisting process for this job. Here's what will happen:"}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:" Important Implications:"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsxs("strong",{children:[be," remaining applicants"]})," will be automatically rejected"]}),e.jsxs("li",{children:[" ",e.jsxs("strong",{children:[De," shortlisted candidates"]})," will proceed to the next stage"]}),e.jsx("li",{children:" This action cannot be undone"}),e.jsx("li",{children:" Rejected candidates will be notified automatically"})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:" After completion:"}),e.jsxs("ul",{className:"text-sm text-green-700 space-y-1",children:[e.jsx("li",{children:" You can proceed to schedule interviews with shortlisted candidates"}),e.jsx("li",{children:" The job will move to the interview scheduling phase"}),e.jsx("li",{children:" All application data will be preserved for reporting"})]})]})]})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:ae,disabled:oe,children:oe?"Processing...":"Yes, Complete Shortlisting"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:P,disabled:oe,children:"Cancel"})]})]})]})}):null,Je=()=>{switch(i){case"applied":const b=p?se:te;return e.jsxs("div",{className:"space-y-6",children:[!p&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Why I'm here"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Verify applicants for this job and shortlist candidates."}),e.jsx("div",{className:"mt-2 text-xs text-blue-600",children:" Candidates are automatically ranked by skill/education match. Use filters to refine results."})]}),!p&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Skill-Based Filtering (priority ranking)"}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 md:mt-0",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show top:"}),e.jsxs("select",{value:d,onChange:P=>he(Number(P.target.value)),className:"px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:10,children:"Top 10"}),e.jsx("option",{value:20,children:"Top 20"}),e.jsx("option",{value:50,children:"Top 50"}),e.jsxs("option",{value:0,children:["View All (",te.length,")"]})]})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Candidates ranked to the top by skill/education match. Select prioritized tags (AND semantics) to refine results:"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-700",children:["Showing ",te.length," of ",te.length," candidates",h.length>0&&e.jsxs("span",{className:"text-blue-600 ml-1",children:["(filtered by ",h.length," tag",h.length!==1?"s":"",")"]}),a.toString()&&a.toString()!=="tab=applied"&&e.jsx("span",{className:"text-green-600 ml-2 text-xs",children:" Filters preserved in URL"})]}),h.length>0&&e.jsx("button",{onClick:()=>{_([]),Ze({tags:null})},className:"text-xs text-blue-600 hover:text-blue-800",children:"Clear all filters"})]})}),se.length>0&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-green-800",children:"Shortlisting Progress"}),e.jsxs("p",{className:"text-sm text-green-700",children:[se.length," candidate",se.length!==1?"s":""," shortlisted,"," ",te.length," remaining to review"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-green-800",children:[Math.round(se.length/(se.length+te.length)*100),"%"]}),e.jsx("div",{className:"text-xs text-green-600",children:"Complete"})]})]})}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:h.map((P,ae)=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["AND: ",P,e.jsx("button",{type:"button",className:"flex-shrink-0 ml-1.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none focus:bg-blue-500 focus:text-white",onClick:()=>Le(P),children:e.jsx(st,{className:"h-3 w-3"})})]},ae))}),e.jsx("div",{className:"flex flex-wrap gap-2",children:F.map((P,ae)=>e.jsx("button",{onClick:()=>Rt(P),className:`text-xs px-2 py-1 rounded ${h.includes(P)?"bg-blue-600 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:P},ae))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Tag sources: original job tags + prioritized tags selected here (removable)."})]}),!p&&e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("div",{children:se.length>0&&e.jsxs("button",{onClick:ra,className:"bg-green-600 hover:bg-green-700 text-white text-sm px-4 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:oe,children:[e.jsx(os,{className:"w-4 h-4 mr-2"}),oe?"Processing...":"Mark Shortlisting Complete"]})}),e.jsx("div",{className:"flex space-x-2",children:f.size>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:at,className:"bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:k,children:[e.jsx(fa,{className:"w-4 h-4 mr-1"}),k?"Shortlisting...":`Shortlist (${f.size})`]}),e.jsxs("button",{onClick:ht,className:"bg-purple-600 hover:bg-purple-700 text-white text-sm px-4 py-2 rounded-md transition-colors flex items-center",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),"Schedule (",f.size,")"]}),e.jsxs("button",{onClick:Be,className:"bg-red-600 hover:bg-red-700 text-white text-sm px-4 py-2 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:C,children:[e.jsx(st,{className:"w-4 h-4 mr-1"}),C?"Rejecting...":`Reject (${f.size})`]})]})})]}),p&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-green-900 flex items-center",children:[e.jsx(fa,{className:"w-5 h-5 mr-2"}),"Shortlisted Candidates (",se.length,")"]}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"These candidates have been shortlisted for this position. Click any candidate to view their full profile."})]}),e.jsx("div",{className:"space-y-4",children:b.length>0?b.map(P=>e.jsx(S,{candidate:P,onShortlist:Oe,showShortlistButton:!p,showSelectCheckbox:!p},P.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p?"No shortlisted candidates":"No candidates found"}),e.jsx("p",{className:"text-gray-600",children:p?"Start by shortlisting candidates from the applied candidates list.":"Try adjusting your filters or check back later for new applications."})]})}),se.length>0&&e.jsx("div",{className:"border-t pt-6",children:e.jsxs("button",{onClick:()=>Se(!p),className:"flex items-center justify-between w-full p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-4",children:e.jsx(fa,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-green-900 text-lg",children:"Shortlist Pool"}),e.jsxs("p",{className:"text-sm text-green-700",children:[se.length," candidate",se.length!==1?"s":""," shortlisted"]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:p?"Click to show applied candidates":"Click to view shortlisted candidates"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"bg-green-600 text-white text-sm font-bold px-3 py-1 rounded-full",children:se.length}),p?e.jsx(dd,{className:"w-5 h-5 text-green-600"}):e.jsx(an,{className:"w-5 h-5 text-green-600"})]})]})})]});case"shortlisted":return e.jsx("div",{className:"space-y-4",children:se.length>0?e.jsx(o0,{candidates:se,jobId:n,onScheduled:()=>{Ce()}}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No shortlisted candidates"}),e.jsx("p",{className:"text-gray-600",children:"Start by shortlisting candidates from the Applied tab."})]})});case"scheduled":return e.jsx("div",{className:"space-y-4",children:pe.length>0?e.jsx(c0,{candidates:pe,jobId:n}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scheduled interviews"}),e.jsx("p",{className:"text-gray-600",children:"Schedule interviews from the Shortlisted tab to see them here."})]})});default:return null}};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(Pe,{isOpen:ge,onClose:()=>ve(!1),onConfirm:y,nonShortlistedCount:te.length,shortlistedCount:se.length}),e.jsx(so,{candidate:E,isOpen:O,onClose:rt,onUpdateStatus:qs,onAttachDocument:aa,workflowStages:Ie}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6",children:[e.jsx(Ut,{to:"/jobs",className:"hover:text-primary-600 transition-colors",children:"Jobs"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900",children:R.title})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:R.title}),e.jsx("p",{className:"text-lg text-gray-600",children:R.company}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ls,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[R.city,", ",R.country]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Posted ",Ne(new Date(R.created_at),"MMM dd, yyyy")]})]})]})]}),e.jsxs(Ut,{to:"/jobs",className:"btn-secondary flex items-center",children:[e.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Back to Jobs"]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xt,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"View Count"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:Z?.view_count||R.view_count||0}),e.jsx("p",{className:"text-xs text-purple-700",children:"Individual job views"})]})]})}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_t,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Applicant Count"}),e.jsxs("div",{className:"text-lg font-semibold text-blue-900",children:[e.jsxs("div",{children:["Total: ",Z?.total_applicants||R.applications_count||0]}),e.jsxs("div",{children:["Shortlisted: ",Z?.shortlisted_count||R.shortlisted_count||0]}),e.jsxs("div",{children:["Passed: ",Z?.passed_count||0]})]})]})]})})]})]})]})})}),e.jsxs("div",{className:"card mt-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Candidates by phase"})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:M.map(b=>e.jsxs("button",{onClick:()=>pt(b.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i===b.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[b.label,b.count>0&&e.jsx("span",{className:`ml-2 py-0.5 px-2 rounded-full text-xs ${i===b.id?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600"}`,children:b.count})]},b.id))})}),e.jsx("div",{className:"p-6",children:Je()})]})]})},jj=({jobId:n,candidates:a=[],job:r=null,onUpdateCandidateStatus:i,onScheduleInterview:o,workflowStages:d=[]})=>{const[m,p]=j.useState(""),[x,f]=j.useState("priority_score"),[v,h]=j.useState("desc"),[_,F]=j.useState("all"),[I,E]=j.useState(null),[$,O]=j.useState(!1),[z,R]=j.useState(new Set),K=j.useMemo(()=>{let L=a.filter(V=>{const D=!m||V.name.toLowerCase().includes(m.toLowerCase())||V.skills?.some(w=>w.toLowerCase().includes(m.toLowerCase()))||V.email.toLowerCase().includes(m.toLowerCase()),H=_==="all"||V.stage===_;return D&&H});return r?.tags&&r.tags.length>0&&(L=L.map(V=>{const D=V.skills||[],H=r.tags||[],w=D.filter(Y=>H.some(k=>Y.toLowerCase().includes(k.toLowerCase())||k.toLowerCase().includes(Y.toLowerCase()))),re=H.length>0?w.length/H.length*100:0;return{...V,skillMatchScore:re,matchingSkills:w}})),L.sort((V,D)=>{let H,w;switch(x){case"priority_score":H=V.priority_score||0,w=D.priority_score||0;break;case"skill_match":H=V.skillMatchScore||0,w=D.skillMatchScore||0;break;case"applied_at":H=new Date(V.applied_at||0).getTime(),w=new Date(D.applied_at||0).getTime();break;case"name":H=V.name.toLowerCase(),w=D.name.toLowerCase();break;default:H=V.priority_score||0,w=D.priority_score||0}return v==="asc"?H>w?1:-1:H<w?1:-1}),L},[a,m,x,v,_,r]),Z=L=>{const V=new Set(z);V.has(L)?V.delete(L):V.add(L),R(V)},ee=L=>d.find(D=>D.id===L)||{label:L,color:"gray"},te=L=>L>=90?"text-green-600 bg-green-100":L>=80?"text-blue-600 bg-blue-100":L>=70?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100",Q=L=>L>=80?"text-green-600 bg-green-100":L>=60?"text-blue-600 bg-blue-100":L>=40?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",se=L=>{E(L),O(!0)},_e=async(L,V)=>{i&&await i(L,V)},pe=async(L,V)=>{console.log("Attaching document:",V,"to candidate:",L)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Candidate Shortlist"}),r&&e.jsxs("p",{className:"text-gray-600 mt-1",children:[r.title,"  ",r.company,"  ",K.length," candidates"]})]}),r?.tags&&r.tags.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ad,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Job Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.tags.map((L,V)=>e.jsx("span",{className:"chip chip-primary text-xs",children:L},V))})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search candidates by name, skills, or email...",value:m,onChange:L=>p(L.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Sd,{className:"w-4 h-4 text-gray-500"}),e.jsxs("select",{value:_,onChange:L=>F(L.target.value),className:"border border-gray-300 rounded px-3 py-2 text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Stages"}),d.map(L=>e.jsx("option",{value:L.id,children:L.label},L.id))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),e.jsxs("select",{value:x,onChange:L=>f(L.target.value),className:"border border-gray-300 rounded px-3 py-2 text-sm bg-white",children:[e.jsx("option",{value:"priority_score",children:"Priority Score"}),r?.tags&&r.tags.length>0&&e.jsx("option",{value:"skill_match",children:"Skill Match"}),e.jsx("option",{value:"applied_at",children:"Application Date"}),e.jsx("option",{value:"name",children:"Name"})]}),e.jsx("button",{onClick:()=>h(v==="asc"?"desc":"asc"),className:"p-2 border border-gray-300 rounded hover:bg-gray-50",children:v==="asc"?e.jsx(dd,{className:"w-4 h-4"}):e.jsx(an,{className:"w-4 h-4"})})]})]})]})}),e.jsx("div",{className:"space-y-4",children:K.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[e.jsx(Yt,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No candidates found"}),e.jsx("p",{className:"text-gray-500",children:m||_!=="all"?"Try adjusting your search or filters":"No candidates have applied for this position yet"})]}):K.map(L=>{const V=z.has(L.id),D=ee(L.stage),H=a0(L.applied_at);return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-lg font-medium text-gray-600",children:L.name?.charAt(0)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:L.name}),H&&e.jsx("span",{className:"chip chip-green text-xs",children:"New Today"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(gs,{className:"w-4 h-4"}),e.jsx("span",{children:L.phone})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Sr,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:L.email})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ls,{className:"w-4 h-4"}),e.jsx("span",{children:L.address})]})]}),L.skills&&L.skills.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[L.skills.slice(0,4).map((w,re)=>{const Y=L.matchingSkills?.includes(w);return e.jsxs("span",{className:`chip text-xs ${Y?"chip-green":"chip-gray"}`,children:[w,Y&&e.jsx(zl,{className:"w-3 h-3 ml-1"})]},re)}),L.skills.length>4&&e.jsxs("span",{className:"chip chip-gray text-xs",children:["+",L.skills.length-4," more"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Applied ",r0(L.applied_at)]}),e.jsx("span",{className:"mx-2",children:""}),e.jsx("span",{children:es(L.applied_at,"MMM dd, yyyy")})]})]})]})}),e.jsxs("div",{className:"flex flex-col items-end space-y-3 ml-6",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${te(L.priority_score)}`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Lp,{className:"w-4 h-4"}),e.jsxs("span",{children:[L.priority_score||0,"%"]})]})}),L.skillMatchScore!==void 0&&e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${Q(L.skillMatchScore)}`,children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ep,{className:"w-4 h-4"}),e.jsxs("span",{children:[Math.round(L.skillMatchScore),"% match"]})]})}),e.jsx("span",{className:`chip chip-${D.color||"gray"} text-xs`,children:D.label}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>se(L),className:"btn-secondary text-sm px-3 py-1",children:[e.jsx(Xt,{className:"w-4 h-4 mr-1"}),"View Details"]}),e.jsx("button",{onClick:()=>Z(L.id),className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:V?e.jsx(dd,{className:"w-4 h-4"}):e.jsx(an,{className:"w-4 h-4"})})]})]})]}),V&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(Is,{className:"w-4 h-4 mr-2"}),"Professional Information"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Experience:"}),e.jsx("span",{className:"font-medium",children:L.experience})]}),L.education&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Education:"}),e.jsx("span",{className:"font-medium",children:L.education})]}),L.salary_expectation&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Expected Salary:"}),e.jsx("span",{className:"font-medium",children:L.salary_expectation})]}),L.availability&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Availability:"}),e.jsx("span",{className:"font-medium",children:L.availability})]})]})]}),L.skills&&L.skills.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"All Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:L.skills.map((w,re)=>{const Y=L.matchingSkills?.includes(w);return e.jsxs("span",{className:`chip text-xs ${Y?"chip-green":"chip-gray"}`,children:[w,Y&&e.jsx(zl,{className:"w-3 h-3 ml-1"})]},re)})})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quick Actions:"}),e.jsxs("button",{onClick:()=>o&&o(L.id),className:"btn-primary text-sm px-3 py-1",children:[e.jsx(ri,{className:"w-4 h-4 mr-1"}),"Schedule Interview"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Update Status:"}),e.jsx("select",{value:L.stage,onChange:w=>_e(L.id,w.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 bg-white",children:d.map(w=>e.jsx("option",{value:w.id,children:w.label},w.id))})]})]})})]})]})},L.id)})}),e.jsx(so,{candidate:I,isOpen:$,onClose:()=>{O(!1),E(null)},onUpdateStatus:_e,onAttachDocument:pe,workflowStages:d})]})},wj=(n=[],a=[],r={})=>{const{exactMatchWeight:i=1,partialMatchWeight:o=.6,caseInsensitive:d=!0}=r;if(!a.length||!n.length)return{score:0,percentage:0,exactMatches:[],partialMatches:[],missingSkills:a,totalRequired:a.length};const m=O=>d?O.toLowerCase().trim():O.trim(),p=a.map(m),x=n.map(m),f=[],v=[],h=[];p.forEach((O,z)=>{const R=a[z],K=x.find(ee=>ee===O);if(K){f.push({required:R,candidate:n[x.indexOf(K)],type:"exact"});return}const Z=x.find(ee=>ee.includes(O)||O.includes(ee));if(Z){v.push({required:R,candidate:n[x.indexOf(Z)],type:"partial"});return}h.push(R)});const _=f.length*i,F=v.length*o,I=_+F,E=a.length*i,$=E>0?I/E*100:0;return{score:I,percentage:Math.round($*100)/100,exactMatches:f,partialMatches:v,missingSkills:h,totalRequired:a.length,matchedCount:f.length+v.length}},Nj=(n="",a=[],r="")=>{if(!n)return 0;const i=n.toLowerCase();let o=0;const d=i.match(/(\d+)\s*(?:years?|yrs?)/i),m=d?parseInt(d[1]):0;m>=5?o+=40:m>=3?o+=30:m>=1?o+=20:o+=10,r&&i.includes(r.toLowerCase())&&(o+=30);const p=a.filter(x=>i.includes(x.toLowerCase())).length;return p>0&&(o+=Math.min(30,p*10)),Math.min(100,o)},_j=(n,a,r={})=>{const{skillMatchWeight:i=.4,experienceWeight:o=.3,educationWeight:d=.1,availabilityWeight:m=.1,applicationTimingWeight:p=.1}=r,x={skillMatch:{score:0,details:null},experience:{score:0,details:null},education:{score:0,details:null},availability:{score:0,details:null},applicationTiming:{score:0,details:null},totalScore:0,breakdown:{}};if(a?.tags&&a.tags.length>0){const F=wj(n.skills,a.tags);x.skillMatch.score=F.percentage,x.skillMatch.details=F}x.experience.score=Nj(n.experience,a?.tags||[],a?.category);const f={phd:100,doctorate:100,master:90,masters:90,bachelor:80,bachelors:80,degree:80,"+2":60,intermediate:60,slc:40,school:40,"high school":40},v=(n.education||"").toLowerCase();x.education.score=Object.entries(f).find(([F])=>v.includes(F))?.[1]||30;const h={immediate:100,"within 1 week":90,"within 2 weeks":80,"within 1 month":70,"within 2 months":60,"within 3 months":50},_=(n.availability||"").toLowerCase();if(x.availability.score=Object.entries(h).find(([F])=>_.includes(F))?.[1]||40,n.applied_at){const F=ja(),I=new Date(n.applied_at),E=Math.floor((F-I)/(1e3*60*60*24));E<=1?x.applicationTiming.score=100:E<=3?x.applicationTiming.score=90:E<=7?x.applicationTiming.score=80:E<=14?x.applicationTiming.score=70:E<=30?x.applicationTiming.score=60:x.applicationTiming.score=50}return x.totalScore=Math.round(x.skillMatch.score*i+x.experience.score*o+x.education.score*d+x.availability.score*m+x.applicationTiming.score*p),x.breakdown={"Skill Match":{score:x.skillMatch.score,weight:i,contribution:Math.round(x.skillMatch.score*i)},Experience:{score:x.experience.score,weight:o,contribution:Math.round(x.experience.score*o)},Education:{score:x.education.score,weight:d,contribution:Math.round(x.education.score*d)},Availability:{score:x.availability.score,weight:m,contribution:Math.round(x.availability.score*m)},"Application Timing":{score:x.applicationTiming.score,weight:p,contribution:Math.round(x.applicationTiming.score*p)}},x},Yl=(n=[],a=null,r={})=>{const{weights:i={},includeAnalysis:o=!0,sortBy:d="priority_score"}=r;if(!n.length)return[];const m=n.map(p=>{const x=_j(p,a,i);return{...p,priority_score:x.totalScore,ranking_analysis:o?x:null,skill_match_score:x.skillMatch.score,skill_match_details:x.skillMatch.details}});return m.sort((p,x)=>{switch(d){case"skill_match":return(x.skill_match_score||0)-(p.skill_match_score||0);case"experience":return(x.ranking_analysis?.experience.score||0)-(p.ranking_analysis?.experience.score||0);case"application_date":return new Date(x.applied_at||0)-new Date(p.applied_at||0);case"priority_score":default:return(x.priority_score||0)-(p.priority_score||0)}}),m.forEach((p,x)=>{p.rank=x+1}),m},m0=(n=[],a=null)=>{if(!n.length)return{totalCandidates:0,averageScore:0,topCandidates:[],skillGaps:[],recommendations:[]};const r=Yl(n,a,{includeAnalysis:!0}),i=r.map(x=>x.priority_score||0),o=i.reduce((x,f)=>x+f,0)/i.length,d=r.filter(x=>(x.priority_score||0)>=80),m=[];a?.tags&&a.tags.length>0&&a.tags.forEach(x=>{const f=r.filter(h=>h.skills?.some(_=>_.toLowerCase().includes(x.toLowerCase())||x.toLowerCase().includes(_.toLowerCase()))),v=f.length/r.length*100;v<50&&m.push({skill:x,coverage:Math.round(v),candidatesWithSkill:f.length,totalCandidates:r.length})});const p=[];return d.length===0&&p.push({type:"warning",message:"No candidates scored above 80%. Consider reviewing job requirements or expanding search criteria."}),m.length>0&&p.push({type:"info",message:`${m.length} required skills have low candidate coverage. Consider skills training or alternative requirements.`}),o<60&&p.push({type:"warning",message:"Average candidate score is below 60%. Consider adjusting job requirements or improving job posting visibility."}),{totalCandidates:r.length,averageScore:Math.round(o),topCandidates:d.slice(0,5),skillGaps:m.sort((x,f)=>x.coverage-f.coverage),recommendations:p,scoreDistribution:{excellent:r.filter(x=>(x.priority_score||0)>=90).length,good:r.filter(x=>(x.priority_score||0)>=80&&(x.priority_score||0)<90).length,average:r.filter(x=>(x.priority_score||0)>=60&&(x.priority_score||0)<80).length,below:r.filter(x=>(x.priority_score||0)<60).length}}},Sj=()=>{const{jobId:n}=pp(),a=ba(),[r,i]=j.useState(null),[o,d]=j.useState([]),[m,p]=j.useState([]),[x,f]=j.useState(null),[v,h]=j.useState(!0),[_,F]=j.useState(!1),I=[{id:"applied",label:"Applied",color:"blue"},{id:"shortlisted",label:"Shortlisted",color:"yellow"},{id:"scheduled",label:"Interview Scheduled",color:"purple"},{id:"interviewed",label:"Interviewed",color:"indigo"},{id:"interview-passed",label:"Interview Passed",color:"green"},{id:"ready-to-fly",label:"Ready to Fly",color:"green"},{id:"deployed",label:"Deployed",color:"green"},{id:"rejected",label:"Rejected",color:"red"}];j.useEffect(()=>{n&&(async()=>{try{h(!0);const z=Kp.find(ee=>ee.id===n);if(!z){a("/jobs");return}i(z);const R=Yp.filter(ee=>ee.applied_jobs?.includes(n)),K=Yl(R,z,{includeAnalysis:!0});p(K),d(K);const Z=m0(R,z);f(Z)}catch(z){console.error("Error loading job shortlist data:",z)}finally{h(!1)}})()},[n,a]);const E=async(O,z)=>{try{const R=o.map(Z=>Z.id===O?{...Z,stage:z}:Z);d(R);const K=Yl(R,r,{includeAnalysis:!0});p(K),console.log(`Updated candidate ${O} to stage: ${z}`)}catch(R){console.error("Error updating candidate status:",R)}},$=async O=>{try{console.log(`Scheduling interview for candidate: ${O}`)}catch(z){console.error("Error scheduling interview:",z)}};return v?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading job shortlist..."})]})}):r?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"py-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs("button",{onClick:()=>a("/jobs"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(Bl,{className:"w-5 h-5 mr-2"}),"Back to Jobs"]}),e.jsx("span",{className:"text-gray-300",children:""}),e.jsx("span",{className:"text-gray-600",children:"Shortlist"})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.title}),e.jsx("span",{className:`chip chip-${r.status==="published"?"green":"yellow"}`,children:r.status})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ey,{className:"w-4 h-4"}),e.jsx("span",{children:r.company})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ls,{className:"w-4 h-4"}),e.jsxs("span",{children:[r.city,", ",r.country]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Nd,{className:"w-4 h-4"}),e.jsx("span",{children:r.salary})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(nt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Posted ",es(r.published_at||r.created_at,"MMM dd, yyyy")]})]})]}),r.tags&&r.tags.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(Ad,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Required Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.tags.map((O,z)=>e.jsx("span",{className:"chip chip-primary text-xs",children:O},z))})]})]}),e.jsxs("div",{className:"flex items-center space-x-6 ml-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Candidates"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:x?.topCandidates?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Top Candidates"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[x?.averageScore||0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Score"})]})]})]})]})})}),x&&e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>F(!_),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",children:[e.jsx(wd,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Ranking Insights"}),e.jsx(Sd,{className:`w-4 h-4 transition-transform ${_?"rotate-180":""}`})]}),x.recommendations.length>0&&e.jsx("div",{className:"flex items-center space-x-2",children:x.recommendations.map((O,z)=>e.jsxs("div",{className:`flex items-center space-x-1 text-sm px-2 py-1 rounded ${O.type==="warning"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[O.type==="warning"?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(Ka,{className:"w-4 h-4"}),e.jsx("span",{children:O.message})]},z))})]}),_&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(Lp,{className:"w-4 h-4 mr-2"}),"Score Distribution"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Excellent (90%+)"}),e.jsx("span",{className:"font-medium text-green-600",children:x.scoreDistribution.excellent})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Good (80-89%)"}),e.jsx("span",{className:"font-medium text-blue-600",children:x.scoreDistribution.good})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Average (60-79%)"}),e.jsx("span",{className:"font-medium text-yellow-600",children:x.scoreDistribution.average})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Below Average (<60%)"}),e.jsx("span",{className:"font-medium text-red-600",children:x.scoreDistribution.below})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(Ep,{className:"w-4 h-4 mr-2"}),"Top Candidates"]}),e.jsxs("div",{className:"space-y-2",children:[x.topCandidates.slice(0,3).map((O,z)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-900 truncate",children:O.name}),e.jsxs("span",{className:"font-medium text-green-600",children:[O.priority_score,"%"]})]},O.id)),x.topCandidates.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"No candidates scored above 80%"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Skill Coverage"]}),e.jsxs("div",{className:"space-y-2",children:[x.skillGaps.slice(0,3).map((O,z)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-900 truncate",children:O.skill}),e.jsxs("span",{className:"font-medium text-red-600",children:[O.coverage,"%"]})]},z)),x.skillGaps.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Good skill coverage across all requirements"})]})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx(jj,{jobId:n,candidates:m,job:r,onUpdateCandidateStatus:E,onScheduleInterview:$,workflowStages:I})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(jt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Job Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The requested job could not be found."}),e.jsx("button",{onClick:()=>a("/jobs"),className:"btn-primary",children:"Back to Jobs"})]})})};class kj{constructor(){this.focusableElements=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", "),this.keyboardHandlers=new Map}setupRightPaneNavigation(a,r={}){const{onEscape:i=()=>{},onEnter:o=()=>{},onArrowKeys:d=()=>{},trapFocus:m=!0}=r,p=a.querySelectorAll(this.focusableElements);let x=0;const f=v=>{switch(v.key){case"Escape":v.preventDefault(),i();break;case"Enter":v.target.tagName!=="TEXTAREA"&&(v.preventDefault(),o(v.target,x));break;case"ArrowDown":v.preventDefault(),x=Math.min(x+1,p.length-1),p[x]?.focus(),d("down",x);break;case"ArrowUp":v.preventDefault(),x=Math.max(x-1,0),p[x]?.focus(),d("up",x);break;case"Tab":m&&(v.preventDefault(),v.shiftKey?x=x===0?p.length-1:x-1:x=x===p.length-1?0:x+1,p[x]?.focus());break}};return a.addEventListener("keydown",f),this.keyboardHandlers.set(a,f),p.length>0&&p[0].focus(),()=>{a.removeEventListener("keydown",f),this.keyboardHandlers.delete(a)}}createAccessibleSummary(a,r={}){const{title:i="Summary",level:o=2,expandable:d=!0}=r,m=document.createElement("div");m.className="accessible-summary-panel",m.setAttribute("role","region"),m.setAttribute("aria-labelledby",`summary-title-${Date.now()}`);const p=document.createElement(`h${o}`);if(p.id=`summary-title-${Date.now()}`,p.textContent=i,p.className="summary-title",d){const f=document.createElement("button");f.setAttribute("aria-expanded","true"),f.setAttribute("aria-controls",`summary-content-${Date.now()}`),f.className="summary-toggle",f.innerHTML=`
        <span class="sr-only">Toggle ${i}</span>
        <svg aria-hidden="true" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      `,p.appendChild(f)}const x=document.createElement("div");return x.id=`summary-content-${Date.now()}`,x.className="summary-content",x.setAttribute("role","group"),Object.entries(a).forEach(([f,v])=>{const h=document.createElement("div");h.className="summary-item",h.setAttribute("role","listitem");const _=document.createElement("dt");_.textContent=f,_.className="summary-label";const F=document.createElement("dd");F.textContent=v,F.className="summary-value",F.setAttribute("aria-describedby",`${f}-label`),h.appendChild(_),h.appendChild(F),x.appendChild(h)}),m.appendChild(p),m.appendChild(x),m}announceToScreenReader(a,r="polite"){const i=document.createElement("div");i.setAttribute("aria-live",r),i.setAttribute("aria-atomic","true"),i.className="sr-only",i.textContent=a,document.body.appendChild(i),setTimeout(()=>{document.body.removeChild(i)},1e3)}setupSkipLinks(a){console.log("Skip links setup called but handled by Layout component:",a)}enhanceFormAccessibility(a){a.querySelectorAll("input, select, textarea").forEach(i=>{const o=a.querySelector(`label[for="${i.id}"]`);if(!o&&!i.getAttribute("aria-label")&&console.warn("Input missing label:",i),i.required&&(i.setAttribute("aria-required","true"),o)){const d=document.createElement("span");d.textContent=" *",d.setAttribute("aria-label","required"),d.className="required-indicator",o.appendChild(d)}i.addEventListener("invalid",d=>{const m=`${i.id}-error`;let p=document.getElementById(m);p||(p=document.createElement("div"),p.id=m,p.className="error-message",p.setAttribute("role","alert"),i.parentNode.insertBefore(p,i.nextSibling)),p.textContent=i.validationMessage,i.setAttribute("aria-describedby",m),i.setAttribute("aria-invalid","true")}),i.addEventListener("input",()=>{if(i.validity.valid){i.removeAttribute("aria-invalid");const d=document.getElementById(`${i.id}-error`);d&&d.remove()}})})}cleanup(){this.keyboardHandlers.forEach((a,r)=>{r.removeEventListener("keydown",a)}),this.keyboardHandlers.clear()}}const Xn=new kj,Cj=(n={})=>{const a=j.useRef(null),r=j.useRef(null),i=j.useCallback((f={})=>{if(!a.current)return;const v={...n,...f};r.current&&r.current(),r.current=Xn.setupRightPaneNavigation(a.current,v)},[n]),o=j.useCallback((f,v="polite")=>{Xn.announceToScreenReader(f,v)},[]),d=j.useCallback((f,v={})=>Xn.createAccessibleSummary(f,v),[]),m=j.useCallback(f=>{f&&Xn.enhanceFormAccessibility(f)},[]),p=j.useCallback(f=>{const v=a.current?.querySelector(f)||document.querySelector(f);v&&v.focus()},[]),x=j.useCallback((f=!0)=>{a.current&&(f?i({trapFocus:!0}):r.current&&(r.current(),r.current=null))},[i]);return j.useEffect(()=>()=>{r.current&&r.current()},[]),{containerRef:a,setupRightPaneNavigation:i,announce:o,createAccessibleSummary:d,enhanceFormAccessibility:m,focusElement:p,trapFocus:x}};class Ej{constructor(){this.currentLocale="en",this.translations=new Map,this.dateFormatters=new Map,this.numberFormatters=new Map,this.fallbackLocale="en",this.loadTranslations("en",{common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",view:"View",search:"Search",filter:"Filter",sort:"Sort",next:"Next",previous:"Previous",page:"Page",of:"of",items:"items",selected:"selected"},dashboard:{title:"Dashboard",metrics:"Metrics",overview:"Overview"},applications:{title:"Applications",candidate:"Candidate",position:"Position",status:"Status",dateApplied:"Date Applied",summary:"Application Summary",loaded:"Loaded {{count}} applications in {{time}}ms",showing:"Showing {{start}}-{{end}} of {{total}} applications",loadTime:"Loaded in {{time}}ms",slowLoad:"Loading slower than expected",pagination:{info:"Showing {{start}} to {{end}} of {{total}} results",page:"Go to page {{page}}"}},interviews:{title:"Interviews",scheduled:"Scheduled",completed:"Completed",cancelled:"Cancelled",dateTime:"Date & Time",interviewer:"Interviewer"}}),this.loadTranslations("ne",{common:{loading:" ...",error:"",success:"",cancel:" ",save:" ",delete:"",edit:" ",view:"",search:"",filter:"",sort:" ",next:"",previous:"",page:"",of:"",items:"",selected:" "},dashboard:{title:"",metrics:"",overview:""},applications:{title:"",candidate:"",position:"",status:"",dateApplied:" ",summary:" ",loaded:"{{count}}  {{time}}ms   ",showing:"{{total}}  {{start}}-{{end}}  ",loadTime:"{{time}}ms   ",slowLoad:"    ",pagination:{info:"{{total}}   {{start}}  {{end}}  ",page:" {{page}}  "}},interviews:{title:"",scheduled:"",completed:" ",cancelled:" ",dateTime:"  ",interviewer:"  "}})}loadTranslations(a,r){this.translations.set(a,r)}setLocale(a){this.currentLocale=a,document.documentElement.lang=a,this.isRTL(a)?document.documentElement.dir="rtl":document.documentElement.dir="ltr",window.dispatchEvent(new CustomEvent("localeChanged",{detail:{locale:a,previousLocale:this.currentLocale}}))}getLocale(){return this.currentLocale}t(a,r={}){const i=this.translations.get(this.currentLocale)||this.translations.get(this.fallbackLocale)||{},o=this.getNestedValue(i,a);return o?this.interpolate(o,r):(console.warn(`Translation missing for key: ${a} in locale: ${this.currentLocale}`),a)}getNestedValue(a,r){return r.split(".").reduce((i,o)=>i?.[o],a)}interpolate(a,r){return a.replace(/\{\{(\w+)\}\}/g,(i,o)=>r[o]!==void 0?r[o]:i)}formatDate(a,r={}){const i=typeof a=="string"?new Date(a):a;this.dateFormatters.has(this.currentLocale)||this.dateFormatters.set(this.currentLocale,new Intl.DateTimeFormat(this.currentLocale,{year:"numeric",month:"long",day:"numeric",...r}));const o=this.dateFormatters.get(this.currentLocale);return this.currentLocale==="ne"?this.formatNepaliDate(i,r):o.format(i)}formatNepaliDate(a,r={}){const i=["","","","","","","","","","","",""],o=a.getFullYear()+57,d=i[a.getMonth()],m=a.getDate();return r.short?`${o}/${a.getMonth()+1}/${m}`:`${m} ${d} ${o}`}formatNumber(a,r={}){return this.numberFormatters.has(this.currentLocale)||this.numberFormatters.set(this.currentLocale,new Intl.NumberFormat(this.currentLocale,r)),this.numberFormatters.get(this.currentLocale).format(a)}formatCurrency(a,r="USD"){return this.currentLocale==="ne"&&(r="NPR"),this.formatNumber(a,{style:"currency",currency:r})}isRTL(a){return["ar","he","fa","ur"].includes(a.split("-")[0])}getAvailableLocales(){return Array.from(this.translations.keys())}getLocaleDisplayName(a){return{en:"English",ne:""}[a]||a}detectLocale(){const a=localStorage.getItem("preferred-locale");if(a&&this.translations.has(a))return a;const r=navigator.language.split("-")[0];return this.translations.has(r)?r:this.fallbackLocale}saveLocalePreference(a){localStorage.setItem("preferred-locale",a)}init(){const a=this.detectLocale();this.setLocale(a)}}const Ms=new Ej,Aj=()=>{const[n,a]=j.useState(Ms.getLocale()),[r,i]=j.useState(!1);j.useEffect(()=>{const f=v=>{a(v.detail.locale)};return window.addEventListener("localeChanged",f),()=>window.removeEventListener("localeChanged",f)},[]);const o=j.useCallback((f,v={})=>Ms.t(f,v),[n]),d=j.useCallback(async f=>{i(!0);try{Ms.setLocale(f),Ms.saveLocalePreference(f)}finally{i(!1)}},[]),m=j.useCallback((f,v={})=>Ms.formatDate(f,v),[n]),p=j.useCallback((f,v={})=>Ms.formatNumber(f,v),[n]),x=j.useCallback((f,v)=>Ms.formatCurrency(f,v),[n]);return{locale:n,setLocale:d,t:o,formatDate:m,formatNumber:p,formatCurrency:x,isLoading:r,availableLocales:Ms.getAvailableLocales(),getLocaleDisplayName:Ms.getLocaleDisplayName.bind(Ms),isRTL:Ms.isRTL(n)}},Dj=()=>{const[n,a]=j.useState({search:"",stage:"",country:"",jobId:""}),[r,i]=j.useState({page:1,limit:50,total:0,totalPages:0}),[o,d]=j.useState(new Set),[m,p]=j.useState(!1),[x,f]=j.useState(null),[v,h]=j.useState(null),[_,F]=j.useState(!1),[I,E]=j.useState(!1),[$,O]=j.useState(""),[z,R]=j.useState(""),[K,Z]=j.useState([]),[ee,te]=j.useState([]),[Q,se]=j.useState({}),[_e,pe]=j.useState(!0),[L,V]=j.useState(null),[D,H]=j.useState(typeof navigator<"u"?navigator.onLine:!0),[w,re]=j.useState(!1),[Y,k]=j.useState(null),[W,C]=j.useState("list"),U=j.useRef(null);j.useEffect(()=>{if(U.current){const J=K.filter(me=>me.stage!==Q.REJECTED);U.current.indeterminate=o.size>0&&o.size<J.length}},[o,K,Q]);const[oe,ue]=j.useState(!1),[ge,ve]=j.useState(""),[Ie,Ce]=j.useState("success"),[Re,Ze]=j.useState(!1),[Rt,Le]=j.useState(""),[pt,he]=j.useState(new Set),[Se,Oe]=j.useState(new Set),[Be,at]=j.useState(new Set),{containerRef:ht,announce:Fe}=Cj(),{t:rt}=Aj(),{success:qs,error:aa,info:ra}=l0(),y=(J,me="success")=>{ve(J),Ce(me),ue(!0),setTimeout(()=>{ue(!1)},me==="error"?5e3:4e3)},M=j.useMemo(()=>qt.debounce(J=>{a(me=>({...me,search:J})),i(me=>({...me,page:1}))},300),[]),S=j.useCallback(async()=>{try{pe(!0),V(null);const J=performance.now(),me={page:r.page,limit:r.limit,search:n.search,stage:n.stage,country:n.country,jobId:n.jobId,sortBy:"applied_at",sortOrder:"desc"};console.log("Fetching applications with filters:",me);const ze=await Kt.getApplicationsPaginated(me);console.log("Applications result:",ze);const[ut,zt]=await Promise.all([qe.getJobs({status:"published"}),Ke.getApplicationStages()]),cn=ze.data||ze,wa=ze.total||cn.length;Z(cn),i(kr=>({...kr,total:wa,totalPages:Math.ceil(wa/kr.limit)})),console.log("Pagination updated:",{total:wa,totalPages:Math.ceil(wa/r.limit),limit:r.limit}),te(ut),se(zt);const Na=performance.now()-J;k(Na),Fe(rt("applications.loaded",{count:ze.data?.length||ze.length,time:Math.round(Na)}))}catch(J){console.error("Failed to fetch applications data:",J),V(J),Fe(rt("common.error"),"assertive")}finally{pe(!1)}},[r.page,r.limit,n.search,n.stage,n.country,n.jobId,rt,Fe]);j.useEffect(()=>{S()},[S]),j.useEffect(()=>{const J=()=>{H(!0),L&&S()},me=()=>H(!1);return window.addEventListener("online",J),window.addEventListener("offline",me),()=>{window.removeEventListener("online",J),window.removeEventListener("offline",me)}},[L,S]);const Pe=j.useCallback((J,me)=>{J==="search"?M(me):(a(ze=>({...ze,[J]:me})),i(ze=>({...ze,page:1})))},[M]),Je=j.useCallback(J=>{i(me=>({...me,page:J})),window.scrollTo({top:0,behavior:"smooth"})},[]),b=J=>{const me=K.find(ut=>ut.id===J);if(me&&me.stage===Q.REJECTED)return;const ze=new Set(o);ze.has(J)?ze.delete(J):ze.add(J),d(ze)},P=async(J,me,ze=null)=>{try{if(me===Q.REJECTED?Oe(ut=>new Set([...ut,J])):at(ut=>new Set([...ut,J])),me===Q.REJECTED&&ze)await Kt.rejectApplication(J,ze),y(" Application rejected successfully!","success");else{await Kt.updateApplicationStage(J,me);const ut=Gt(me);y(` Application moved to ${ut} successfully!`,"success")}Z(ut=>ut.map(zt=>zt.id===J?{...zt,stage:me,updated_at:new Date().toISOString()}:zt)),F(!1),E(!1),h(null),O(""),R("")}catch(ut){console.error("Failed to update application stage:",ut),y(" Failed to update application stage. Please try again.","error")}finally{me===Q.REJECTED?Oe(ut=>{const zt=new Set(ut);return zt.delete(J),zt}):at(ut=>{const zt=new Set(ut);return zt.delete(J),zt})}},ae=(J,me)=>{h(J),R(me),me===Q.REJECTED?E(!0):F(!0)},be=async J=>{try{he(ut=>new Set([...ut,J.id]));const me=J.stage===Q.SHORTLISTED,ze=me?Q.APPLIED:Q.SHORTLISTED;await Kt.updateApplicationStage(J.id,ze),Z(ut=>ut.map(zt=>zt.id===J.id?{...zt,stage:ze,updated_at:new Date().toISOString()}:zt)),y(me?" Candidate removed from shortlist!":" Candidate shortlisted successfully!","success")}catch(me){console.error("Failed to toggle shortlist:",me),y(" Failed to update shortlist status. Please try again.","error")}finally{he(me=>{const ze=new Set(me);return ze.delete(J.id),ze})}},De=async J=>{if(o.size!==0){if(J==="reject"){Ze(!0);return}try{re(!0);const me=Array.from(o);if(J==="shortlist"){for(const ze of me)await Kt.updateApplicationStage(ze,Q.SHORTLISTED);Z(ze=>ze.map(ut=>me.includes(ut.id)?{...ut,stage:Q.SHORTLISTED,updated_at:new Date().toISOString()}:ut)),y(` ${me.length} applications shortlisted successfully!`,"success")}d(new Set)}catch(me){console.error("Failed to perform bulk action:",me),y(" Failed to perform bulk action. Please try again.","error")}finally{re(!1)}}},Pt=async()=>{if(!(o.size===0||!Rt.trim()))try{re(!0);const J=Array.from(o);for(const me of J)await Kt.rejectApplication(me,Rt);Z(me=>me.map(ze=>J.includes(ze.id)?{...ze,stage:Q.REJECTED,updated_at:new Date().toISOString()}:ze)),y(` ${J.length} applications rejected successfully!`,"success"),d(new Set),Ze(!1),Le("")}catch(J){console.error("Failed to perform bulk rejection:",J),y(" Failed to perform bulk rejection. Please try again.","error")}finally{re(!1)}},dt=J=>({[Q.APPLIED]:"chip-blue",[Q.SHORTLISTED]:"chip-yellow",[Q.SCHEDULED]:"chip-purple",[Q.INTERVIEWED]:"chip-green",[Q.SELECTED]:"chip-green",[Q.REJECTED]:"chip-red"})[J]||"chip-blue",Gt=J=>Ke.getApplicationStageLabel(J),Mt=[...new Set(ee.map(J=>J.country))];if(_e&&K.length===0)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[1,2,3,4,5,6].map(J=>e.jsx("div",{className:"card p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-1"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]})},J))})]})});if(L)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(jt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load applications"}),e.jsx("p",{className:"text-gray-600 mb-4",children:D?L.message||"An unexpected error occurred.":"You appear to be offline. Please check your internet connection."}),e.jsx("button",{onClick:S,className:"btn-primary",children:"Retry"})]})});const ft=()=>{const J=K.filter(me=>me.stage!==Q.REJECTED);o.size===J.length?d(new Set):d(new Set(J.map(me=>me.id)))},ws=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.length>0?K.map(J=>e.jsxs(yr,{hoverable:!0,clickable:!0,className:"p-6 border-l-4 border-primary-500",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("span",{className:`chip ${dt(J.stage)} text-xs`,children:Gt(J.stage)})}),e.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-medium text-primary-600",children:J.candidate?.name?.charAt(0)||"U"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:J.candidate?.name||"Unknown Candidate"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Applied for ",e.jsx(Ut,{to:`/jobs/${J.job?.id}`,className:"text-primary-600 hover:text-primary-800",children:J.job?.title||"Unknown Job"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(gs,{className:"w-4 h-4 mr-2 text-primary-400"}),e.jsx("span",{children:J.candidate?.phone||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Sr,{className:"w-4 h-4 mr-2 text-primary-400"}),e.jsx("span",{children:J.candidate?.email||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ls,{className:"w-4 h-4 mr-2 text-primary-400"}),e.jsx("span",{children:J.job?.country||"N/A"})]})]})]})]}),e.jsxs("div",{className:"text-xs font-medium mb-4 flex items-center",children:[e.jsx(nt,{className:"w-3 h-3 mr-1 text-gray-500"}),e.jsxs("span",{className:"text-gray-600",children:["Applied ",J.applied_at?Ne(new Date(J.applied_at),"MMM dd, yyyy"):"Unknown date"]})]}),J.candidate?.skills&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[J.candidate.skills.slice(0,3).map(me=>e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded-full border border-gray-200",children:me},me)),J.candidate.skills.length>3&&e.jsxs("span",{className:"text-xs text-primary-500 font-medium",children:["+",J.candidate.skills.length-3," more"]})]})}),e.jsx("div",{className:"pt-4",children:J.stage===Q.REJECTED?e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 bg-gray-100 rounded-lg border border-gray-200 text-center font-medium",children:"Application Rejected"}),e.jsx(Ve,{onClick:me=>{me.preventDefault(),me.stopPropagation(),f(J.candidate),h(J),p(!0)},variant:"ghost",size:"sm",icon:Xt,className:"w-full shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200",children:"View Summary"})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(Ve,{onClick:me=>{me.preventDefault(),me.stopPropagation(),be(J)},variant:J.stage===Q.SHORTLISTED?"warning":"secondary",size:"sm",disabled:pt.has(J.id),loading:pt.has(J.id),icon:fa,className:"w-full shadow-sm hover:shadow-md transition-shadow duration-200",children:J.stage===Q.SHORTLISTED?"Shortlisted":"Shortlist"}),e.jsx(Ve,{onClick:me=>{me.preventDefault(),me.stopPropagation(),ae(J,null)},variant:"secondary",size:"sm",disabled:Be.has(J.id),loading:Be.has(J.id),icon:sn,className:"w-full shadow-sm hover:shadow-md transition-shadow duration-200",children:"Move Stage"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(Ve,{onClick:me=>{me.preventDefault(),me.stopPropagation(),f(J.candidate),h(J),p(!0)},variant:"ghost",size:"sm",icon:Xt,className:"w-full shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200",children:"Summary"}),e.jsx(Ve,{onClick:me=>{me.preventDefault(),me.stopPropagation(),ae(J,Q.REJECTED)},variant:"ghost",size:"sm",disabled:Se.has(J.id),loading:Se.has(J.id),icon:st,className:"w-full text-red-600 hover:text-red-800 shadow-sm hover:shadow-md transition-shadow duration-200 border border-red-200 hover:border-red-300",children:"Reject"})]})]})})]},J.id)):e.jsxs("div",{className:"col-span-3 text-center py-12",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No applications found"}),e.jsx("p",{className:"text-gray-600",children:Object.values(n).some(J=>J)?"No applications match your current filters.":"Applications will appear here when candidates apply for jobs."})]})}),Ks=()=>e.jsx("div",{className:"card overflow-visible",children:e.jsx("div",{className:"overflow-visible",children:e.jsxs("table",{className:"w-full table-fixed divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"w-12 px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{ref:U,type:"checkbox",onChange:ft,checked:K.filter(J=>J.stage!==Q.REJECTED).length>0&&o.size===K.filter(J=>J.stage!==Q.REJECTED).length,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.jsx("th",{scope:"col",className:"w-[24%] px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),e.jsx("th",{scope:"col",className:"w-[16%] px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job"}),e.jsx("th",{scope:"col",className:"w-[16%] px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{scope:"col",className:"w-[8%] px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"w-[8%] px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stage"}),e.jsx("th",{scope:"col",className:"w-[28%] px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.length>0?K.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-2 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:o.has(J.id),onChange:()=>b(J.id),disabled:J.stage===Q.REJECTED,className:`rounded border-gray-300 text-primary-600 focus:ring-primary-500 ${J.stage===Q.REJECTED?"opacity-30 cursor-not-allowed":""}`,title:J.stage===Q.REJECTED?"Rejected applications cannot be selected":""})}),e.jsx("td",{className:"px-2 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-primary-600",children:J.candidate?.name?.charAt(0)||"U"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:J.candidate?.name||"Unknown"}),J.candidate?.skills&&e.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[J.candidate.skills.slice(0,1).join(", "),J.candidate.skills.length>1&&` +${J.candidate.skills.length-1}`]})]})]})}),e.jsxs("td",{className:"px-2 py-3",children:[e.jsx("div",{className:"text-sm text-gray-900 truncate",children:e.jsx(Ut,{to:`/jobs/${J.job?.id}`,className:"text-primary-600 hover:text-primary-800",children:J.job?.title||"Unknown Job"})}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:J.job?.company||"Unknown Company"})]}),e.jsxs("td",{className:"px-2 py-3",children:[e.jsx("div",{className:"text-xs text-gray-900 truncate",children:J.candidate?.phone||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:J.candidate?.email||"N/A"})]}),e.jsx("td",{className:"px-2 py-3 text-xs text-gray-500",children:J.applied_at?Ne(new Date(J.applied_at),"MMM dd"):"N/A"}),e.jsx("td",{className:"px-2 py-3",children:e.jsx("span",{className:`chip ${dt(J.stage)} text-xs px-2 py-1`,children:Gt(J.stage)})}),e.jsx("td",{className:"px-2 py-3 text-sm font-medium",children:J.stage===Q.REJECTED?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded border",children:"Rejected"}),e.jsxs("button",{onClick:()=>{f(J.candidate),h(J),p(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs text-primary-700 bg-primary-50 hover:bg-primary-100 rounded border border-primary-200",title:"View Summary",children:[e.jsx(Xt,{className:"w-3 h-3"})," Summary"]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>be(J),className:`inline-flex items-center gap-1 px-2 py-1 text-xs rounded border ${J.stage===Q.SHORTLISTED?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-gray-700 bg-white hover:bg-gray-50 border-gray-200"}`,disabled:pt.has(J.id),title:pt.has(J.id)?"Updating...":"Toggle Shortlist",children:[pt.has(J.id)?e.jsx("div",{className:"animate-spin w-3 h-3 border border-current border-t-transparent rounded-full"}):e.jsx(fa,{className:"w-3 h-3"}),J.stage===Q.SHORTLISTED?"Shortlisted":"Shortlist"]}),e.jsxs("button",{onClick:()=>ae(J,null),className:"inline-flex items-center gap-1 px-2 py-1 text-xs text-blue-700 bg-blue-50 hover:bg-blue-100 rounded border border-blue-200",disabled:Be.has(J.id),title:Be.has(J.id)?"Moving...":"Move Stage",children:[Be.has(J.id)?e.jsx("div",{className:"animate-spin w-3 h-3 border border-blue-600 border-t-transparent rounded-full"}):e.jsx(sn,{className:"w-3 h-3"}),"Move"]}),e.jsxs("button",{onClick:()=>{f(J.candidate),h(J),p(!0)},className:"inline-flex items-center gap-1 px-2 py-1 text-xs text-gray-700 bg-white hover:bg-gray-50 rounded border border-gray-200",title:"View Summary",children:[e.jsx(Xt,{className:"w-3 h-3"})," Summary"]}),e.jsxs("button",{onClick:()=>ae(J,Q.REJECTED),className:"inline-flex items-center gap-1 px-2 py-1 text-xs text-red-700 bg-red-50 hover:bg-red-100 rounded border border-red-200",disabled:Se.has(J.id),title:Se.has(J.id)?"Rejecting...":"Reject",children:[Se.has(J.id)?e.jsx("div",{className:"animate-spin w-3 h-3 border border-red-600 border-t-transparent rounded-full"}):e.jsx(st,{className:"w-3 h-3"}),"Reject"]})]})})]},J.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No applications found"}),e.jsx("p",{className:"text-gray-600",children:Object.values(n).some(J=>J)?"No applications match your current filters.":"Applications will appear here when candidates apply for jobs."})]})})})]})})});return e.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Applications"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Centralized view of all candidate applications across jobs"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[o.size>0&&e.jsxs(e.Fragment,{children:[e.jsxs(Ve,{onClick:J=>{J.preventDefault(),De("shortlist")},variant:"primary",size:"sm",disabled:w,loading:w,icon:fa,children:["Shortlist (",o.size,")"]}),e.jsxs(Ve,{onClick:J=>{J.preventDefault(),De("reject")},variant:"danger",size:"sm",disabled:w,loading:w,icon:st,children:["Reject (",o.size,")"]})]}),e.jsxs("div",{className:"flex rounded-md shadow-sm",children:[e.jsx(Ve,{onClick:J=>{J.preventDefault(),C("grid")},variant:W==="grid"?"primary":"outline",size:"sm",icon:Pp,className:"rounded-r-none border-r-0"}),e.jsx(Ve,{onClick:J=>{J.preventDefault(),C("list")},variant:W==="list"?"primary":"outline",size:"sm",icon:Cd,className:"rounded-l-none"})]})]})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search by name, phone, email, or skills...",value:n.search,onChange:J=>Pe("search",J.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{value:n.stage,onChange:J=>Pe("stage",J.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Stages"}),e.jsx("option",{value:"applied",children:"Applied"}),e.jsx("option",{value:"shortlisted",children:"Shortlisted"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"interviewed",children:"Interviewed"}),e.jsx("option",{value:"selected",children:"Selected"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("select",{value:n.country,onChange:J=>Pe("country",J.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Countries"}),Mt.map(J=>e.jsx("option",{value:J,children:J},J))]}),e.jsxs("select",{value:n.jobId,onChange:J=>Pe("jobId",J.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Jobs"}),ee.map(J=>e.jsxs("option",{value:J.id,children:[J.title," - ",J.company]},J.id))]})]})]})}),e.jsxs("div",{className:"mb-4 text-sm text-gray-500 flex items-center justify-between",children:[e.jsxs("span",{children:["Showing ",K.length>0?(r.page-1)*r.limit+1:0," to ",Math.min(r.page*r.limit,r.total)," of ",r.total," results"]}),Y&&e.jsxs("span",{children:["Loaded in ",Math.round(Y),"ms",Y>1500&&e.jsx("span",{className:"ml-2 text-yellow-600",children:" Slow load"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",ref:ht,children:W==="grid"?ws():Ks()}),K.length>0&&e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx(to,{currentPage:r.page,totalPages:Math.max(1,r.totalPages),totalItems:r.total,itemsPerPage:r.limit}),r.totalPages>1&&e.jsx(ni,{currentPage:r.page,totalPages:r.totalPages,onPageChange:Je,size:"md"})]}),oe&&e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsxs("div",{className:`
            ${Ie==="success"?"bg-green-500":Ie==="error"?"bg-red-500":"bg-blue-500"} 
            text-white px-6 py-3 rounded-lg shadow-lg flex items-center space-x-2 min-w-[300px]
            animate-fade-in
          `,children:[e.jsx("span",{className:"flex-1",children:ge}),e.jsx("button",{onClick:()=>ue(!1),className:"text-white hover:text-gray-200 ml-2",children:e.jsx(st,{className:"w-4 h-4"})})]})}),m&&x&&e.jsx(so,{candidate:x,application:v,isOpen:m,onClose:()=>{p(!1),f(null),h(null)},onUpdateStatus:async(J,me)=>{try{v&&(await P(v.id,me),p(!1),f(null),h(null))}catch(ze){console.error("Failed to update status from summary:",ze)}},onAttachDocument:(J,me)=>{console.log("Document attached:",me)},workflowStages:[{id:Q.APPLIED,label:"Applied"},{id:Q.SHORTLISTED,label:"Shortlisted"},{id:Q.SCHEDULED,label:"Scheduled"},{id:Q.INTERVIEWED,label:"Interviewed"},{id:Q.SELECTED,label:"Selected"},{id:Q.REJECTED,label:"Rejected"}]}),_&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Update Application Stage"}),e.jsx("button",{onClick:()=>{F(!1),h(null),R("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(st,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select New Stage"}),e.jsxs("select",{value:z,onChange:J=>R(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Choose a stage..."}),e.jsx("option",{value:Q.APPLIED,children:"Applied"}),e.jsx("option",{value:Q.SHORTLISTED,children:"Shortlisted"}),e.jsx("option",{value:Q.SCHEDULED,children:"Scheduled"}),e.jsx("option",{value:Q.INTERVIEWED,children:"Interviewed"}),e.jsx("option",{value:Q.SELECTED,children:"Selected"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{F(!1),h(null),R("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{z&&v&&P(v.id,z)},disabled:!z||Be.has(v.id),className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Be.has(v.id)?"Updating...":"Update Stage"})]})]})]})}),I&&v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Reject Application"}),e.jsx("button",{onClick:()=>{E(!1),h(null),O("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(st,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason"}),e.jsx("textarea",{value:$,onChange:J=>O(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:3,placeholder:"Please provide a reason for rejection..."})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{E(!1),h(null),O("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{v&&P(v.id,Q.REJECTED,$)},disabled:Se.has(v.id),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:Se.has(v.id)?"Rejecting...":"Reject Application"})]})]})]})}),Re&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Reject ",o.size," Applications"]}),e.jsx("button",{onClick:()=>{Ze(!1),Le("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(st,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (Required)"}),e.jsx("textarea",{value:Rt,onChange:J=>Le(J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:3,placeholder:"Please provide a reason for rejecting these applications..."})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[" This action will reject ",o.size," selected applications. This cannot be undone."]})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{Ze(!1),Le("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:Pt,disabled:!Rt.trim()||w,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Rejecting...":`Reject ${o.size} Applications`})]})]})]})})]})},Pj=({interviews:n,selectedDate:a,timeRange:r,onDateChange:i})=>{const[o,d]=j.useState(null),[m,p]=j.useState(!1),x=E=>{i(r==="day"?E==="next"?br(a,1):Jp(a,1):E==="next"?Bp(a,1):$v(a))},f=()=>r==="day"?[a]:Ny({start:sa(a),end:Vl(a)}),v=E=>n.filter($=>Hl(ct($.scheduled_at),E)).sort(($,O)=>new Date($.scheduled_at)-new Date(O.scheduled_at)),h=E=>{const $=ea(ct(E.scheduled_at),E.duration+30);if(Ll($)&&E.status==="scheduled")return"bg-red-100 border-red-300 text-red-800";switch(E.status){case"scheduled":return"bg-blue-100 border-blue-300 text-blue-800";case"completed":return E.result==="pass"?"bg-green-100 border-green-300 text-green-800":E.result==="fail"?"bg-red-100 border-red-300 text-red-800":"bg-yellow-100 border-yellow-300 text-yellow-800";case"cancelled":return"bg-gray-100 border-gray-300 text-gray-800";default:return"bg-blue-100 border-blue-300 text-blue-800"}},_=E=>E?.toLowerCase().includes("video")||E?.toLowerCase().includes("zoom")||E?.toLowerCase().includes("teams")?e.jsx(Op,{className:"w-4 h-4"}):E?.toLowerCase().includes("phone")||E?.toLowerCase().includes("call")?e.jsx(gs,{className:"w-4 h-4"}):e.jsx(Ls,{className:"w-4 h-4"}),F=E=>{const $=ea(ct(E.scheduled_at),E.duration+30);if(Ll($)&&E.status==="scheduled")return e.jsx(jt,{className:"w-4 h-4"});switch(E.status){case"completed":return E.result==="pass"?e.jsx(os,{className:"w-4 h-4"}):E.result==="fail"?e.jsx(wr,{className:"w-4 h-4"}):e.jsx(os,{className:"w-4 h-4"});case"cancelled":return e.jsx(wr,{className:"w-4 h-4"});default:return e.jsx(Dt,{className:"w-4 h-4"})}},I=f();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>x("prev"),className:"p-2 hover:bg-gray-100 rounded-md transition-colors",children:e.jsx(Xl,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r==="day"?Ne(a,"EEEE, MMMM dd, yyyy"):`${Ne(sa(a),"MMM dd")} - ${Ne(Vl(a),"MMM dd, yyyy")}`}),e.jsx("button",{onClick:()=>x("next"),className:"p-2 hover:bg-gray-100 rounded-md transition-colors",children:e.jsx(oi,{className:"w-5 h-5"})})]}),e.jsx("button",{onClick:()=>i(new Date),className:"btn-secondary text-sm",children:"Today"})]}),e.jsx("div",{className:`grid gap-4 ${r==="day"?"grid-cols-1":"grid-cols-7"}`,children:I.map(E=>{const $=v(E),O=Hl(E,new Date);return e.jsxs("div",{className:`border rounded-lg p-4 min-h-[200px] ${O?"border-blue-500 bg-blue-50":"border-gray-200 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-medium ${O?"text-blue-700":"text-gray-900"}`,children:Ne(E,r==="day"?"EEEE":"EEE")}),e.jsx("div",{className:`text-lg font-bold ${O?"text-blue-700":"text-gray-900"}`,children:Ne(E,"dd")})]}),$.length>0&&e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:$.length})]}),e.jsx("div",{className:"space-y-2",children:$.length>0?$.map(z=>e.jsxs("div",{className:`border rounded-lg p-3 cursor-pointer hover:shadow-sm transition-shadow ${h(z)}`,onClick:()=>{d(z),p(!0)},children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[F(z),e.jsx("span",{className:"text-sm font-medium",children:Ne(ct(z.scheduled_at),"HH:mm")})]}),e.jsxs("span",{className:"text-xs",children:[z.duration||60,"min"]})]}),e.jsx("div",{className:"text-sm font-medium mb-1",children:z.candidate_name||"Unknown Candidate"}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-1",children:[e.jsx(Yt,{className:"w-3 h-3 mr-1"}),z.interviewer||"TBD"]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[_(z.location),e.jsx("span",{className:"ml-1 truncate",children:z.location||"TBD"})]})]},z.id)):e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(nt,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:"No interviews"})]})})]},E.toISOString())})}),m&&o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-screen overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Interview Details"}),e.jsx("button",{onClick:()=>{p(!1),d(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(st,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:`rounded-lg p-4 ${h(o)}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[F(o),e.jsx("span",{className:"font-medium",children:o.status==="scheduled"&&Ll(ea(ct(o.scheduled_at),o.duration+30))?"Unattended":o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),o.result&&e.jsxs("span",{className:"text-sm",children:["Result: ",o.result.charAt(0).toUpperCase()+o.result.slice(1)]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Candidate"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:o.candidate_name||"Unknown"})]}),o.candidate_phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gs,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:o.candidate_phone})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Schedule"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(nt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:Ne(ct(o.scheduled_at),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Dt,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{children:[Ne(ct(o.scheduled_at),"HH:mm"),"(",o.duration||60," minutes)"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[_(o.location),e.jsx("span",{children:o.location||"TBD"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Interviewer"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{children:o.interviewer||"To be assigned"})]})})]}),o.notes&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-3 flex items-center",children:[e.jsx(ri,{className:"w-5 h-5 mr-2"}),"Notes"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:o.notes})})]}),o.rejection_reason&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Rejection Reason"}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:o.rejection_reason})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Timeline"}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Scheduled: ",Ne(ct(o.created_at||o.scheduled_at),"MMM dd, yyyy HH:mm")]}),o.updated_at&&e.jsxs("div",{children:["Last updated: ",Ne(ct(o.updated_at),"MMM dd, yyyy HH:mm")]}),o.completed_at&&e.jsxs("div",{children:["Completed: ",Ne(ct(o.completed_at),"MMM dd, yyyy HH:mm")]})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 p-6",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>{p(!1),d(null)},className:"btn-secondary",children:"Close"})})})]})}),e.jsxs("div",{className:"card p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Status Legend"}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-300 rounded"}),e.jsx("span",{children:"Scheduled"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-100 border border-green-300 rounded"}),e.jsx("span",{children:"Completed/Passed"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-100 border border-red-300 rounded"}),e.jsx("span",{children:"Failed/Unattended"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-100 border border-yellow-300 rounded"}),e.jsx("span",{children:"Completed (No Result)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-100 border border-gray-300 rounded"}),e.jsx("span",{children:"Cancelled"})]})]})]})]})};class Mj{constructor(){this.preferences={workingHours:{start:"09:00",end:"17:00"},timeZone:"Asia/Kathmandu",bufferTime:15,maxMeetingsPerDay:8,preferredDuration:60,breakTime:{start:"12:00",end:"13:00"}}}async generateSchedulingSuggestions(a=[],r=[],i={}){const{duration:o=60,dateRange:d={start:new Date,end:new Date(Date.now()+10080*60*1e3)},priority:m="medium",meetingType:p="interview",requiredAttendees:x=[],optionalAttendees:f=[]}=i,v=this.analyzeSchedulingPatterns(a),h=this.generateAvailableSlots(a,d,o,r),_=this.rankTimeSlots(h,v,r,i),F=this.generateRecommendations(_,v,i);return{suggestions:_.slice(0,10),patterns:v,recommendations:F,analytics:{totalSlotsAnalyzed:h.length,averageScore:_.reduce((I,E)=>I+E.score,0)/_.length,bestTimeOfDay:this.findBestTimeOfDay(_),bestDayOfWeek:this.findBestDayOfWeek(_)}}}analyzeSchedulingPatterns(a){const r={timeOfDay:{},dayOfWeek:{},duration:{},successRate:{},participantPreferences:{}};return a.forEach(i=>{const o=new Date(i.scheduledAt),d=o.getHours(),m=o.getDay(),p=i.duration||60,x=this.getTimeSlot(d);r.timeOfDay[x]=(r.timeOfDay[x]||0)+1,r.dayOfWeek[m]=(r.dayOfWeek[m]||0)+1,r.duration[p]=(r.duration[p]||0)+1,i.status&&(r.successRate[x]||(r.successRate[x]={total:0,successful:0}),r.successRate[x].total++,i.status==="completed"&&r.successRate[x].successful++)}),Object.keys(r.successRate).forEach(i=>{const o=r.successRate[i];o.rate=o.total>0?o.successful/o.total*100:0}),r}generateAvailableSlots(a,r,i,o){const d=[],m=new Date(r.start),p=new Date(r.end);for(let x=new Date(m);x<=p;x.setDate(x.getDate()+1)){if(x.getDay()===0||x.getDay()===6)continue;const f=this.generateDaySlots(x,i,a,o);d.push(...f)}return d}generateDaySlots(a,r,i,o){const d=[],m=this.parseTime(this.preferences.workingHours.start),p=this.parseTime(this.preferences.workingHours.end),x=this.parseTime(this.preferences.breakTime.start),f=this.parseTime(this.preferences.breakTime.end);for(let v=m.hour;v<p.hour;v++)for(let h=0;h<60;h+=30){const _=new Date(a);_.setHours(v,h,0,0);const F=new Date(_);F.setMinutes(F.getMinutes()+r),!(F.getHours()>p.hour||F.getHours()===p.hour&&F.getMinutes()>p.minute)&&(this.isInBreakTime(_,F,x,f)||this.hasConflict(_,F,i)||d.push({start:_,end:F,duration:r,date:es(_,"yyyy-MM-dd"),time:es(_,"HH:mm"),dayOfWeek:_.getDay(),timeSlot:this.getTimeSlot(_.getHours()),availability:this.checkParticipantAvailability(_,F,o)}))}return d}rankTimeSlots(a,r,i,o){return a.map(d=>{let m=0;const p={},x=r.successRate[d.timeSlot]?.rate||50;p.historicalSuccess=x*.3,m+=p.historicalSuccess;const f=this.getTimePreferenceScore(d.timeSlot);p.timePreference=f*.25,m+=p.timePreference;const v=this.calculateAvailabilityScore(d.availability);p.availability=v*.2,m+=p.availability;const h=this.getDayPreferenceScore(d.dayOfWeek,r);p.dayPreference=h*.15,m+=p.dayPreference;const _=this.calculateBufferScore(d,a);return p.bufferOptimization=_*.1,m+=p.bufferOptimization,{...d,score:Math.round(m*100)/100,factors:p,recommendation:this.getSlotRecommendation(m,p)}}).sort((d,m)=>m.score-d.score)}generateRecommendations(a,r,i){const o=[];if(a.length>0){const x=a[0];o.push({type:"optimal",title:"Optimal Time Slot",description:`${es(x.start,"EEEE, MMMM dd")} at ${x.time}`,reason:`Score: ${x.score}/100 - High success rate and good availability`,slot:x,priority:1})}const d=a.slice(1,4);d.length>0&&o.push({type:"alternatives",title:"Alternative Time Slots",description:`${d.length} other good options available`,slots:d,priority:2});const m=this.findBestTimeOfDay(a);return m&&o.push({type:"insight",title:"Best Time of Day",description:`${m} typically has the highest success rate`,priority:3}),a.filter(x=>this.calculateAvailabilityScore(x.availability)<70).length>a.length*.5&&o.push({type:"warning",title:"Limited Availability",description:"Many participants have scheduling conflicts. Consider extending the date range.",priority:4}),o}async autoScheduleMeetings(a,r={}){const i={scheduled:[],conflicts:[],suggestions:[]},o=r.existingMeetings||[];for(const d of a)try{const m=await this.generateSchedulingSuggestions(o,d.participants||[],{...r,...d.constraints});if(m.suggestions.length>0){const p=m.suggestions[0];p.score>=80?(i.scheduled.push({...d,scheduledAt:p.start,endTime:p.end,score:p.score,autoScheduled:!0}),o.push({scheduledAt:p.start,endTime:p.end,duration:p.duration})):i.suggestions.push({meeting:d,suggestions:m.suggestions.slice(0,3)})}else i.conflicts.push({meeting:d,reason:"No available time slots found"})}catch(m){i.conflicts.push({meeting:d,reason:m.message})}return i}getTimeSlot(a){return a<10?"early-morning":a<12?"morning":a<14?"early-afternoon":a<16?"afternoon":"late-afternoon"}parseTime(a){const[r,i]=a.split(":").map(Number);return{hour:r,minute:i}}isInBreakTime(a,r,i,o){const d=a.getHours()*60+a.getMinutes(),m=r.getHours()*60+r.getMinutes(),p=i.hour*60+i.minute,x=o.hour*60+o.minute;return d<x&&m>p}hasConflict(a,r,i){return i.some(o=>{const d=new Date(o.scheduledAt),m=new Date(o.endTime||o.scheduledAt);return!o.duration&&!o.endTime?m.setMinutes(m.getMinutes()+60):o.duration&&!o.endTime&&m.setMinutes(m.getMinutes()+o.duration),a<m&&r>d})}checkParticipantAvailability(a,r,i){return i.map(o=>({id:o.id,name:o.name,available:Math.random()>.3,conflicts:[]}))}getTimePreferenceScore(a){return{"early-morning":60,morning:90,"early-afternoon":85,afternoon:75,"late-afternoon":65}[a]||50}calculateAvailabilityScore(a){return!a||a.length===0?100:a.filter(i=>i.available).length/a.length*100}getDayPreferenceScore(a,r){const i=r.dayOfWeek[a]||0,o=Object.values(r.dayOfWeek).reduce((d,m)=>d+m,0);return o===0?70:i/o*100}calculateBufferScore(a,r){const i=r.some(d=>Math.abs(new Date(d.end)-new Date(a.start))<this.preferences.bufferTime*60*1e3),o=r.some(d=>Math.abs(new Date(a.end)-new Date(d.start))<this.preferences.bufferTime*60*1e3);return!i&&!o?100:!i||!o?75:50}getSlotRecommendation(a,r){return a>=90?"Excellent - Highly recommended":a>=80?"Very Good - Strong candidate":a>=70?"Good - Suitable option":a>=60?"Fair - Consider alternatives":"Poor - Not recommended"}findBestTimeOfDay(a){const r={};a.forEach(m=>{r[m.timeSlot]||(r[m.timeSlot]={total:0,count:0}),r[m.timeSlot].total+=m.score,r[m.timeSlot].count++});let i=null,o=0;return Object.entries(r).forEach(([m,p])=>{const x=p.total/p.count;x>o&&(o=x,i=m)}),{"early-morning":"Early Morning (8-10 AM)",morning:"Morning (10 AM-12 PM)","early-afternoon":"Early Afternoon (12-2 PM)",afternoon:"Afternoon (2-4 PM)","late-afternoon":"Late Afternoon (4-6 PM)"}[i]||i}findBestDayOfWeek(a){const r={},i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];a.forEach(m=>{r[m.dayOfWeek]||(r[m.dayOfWeek]={total:0,count:0}),r[m.dayOfWeek].total+=m.score,r[m.dayOfWeek].count++});let o=null,d=0;return Object.entries(r).forEach(([m,p])=>{const x=p.total/p.count;x>d&&(d=x,o=parseInt(m))}),o!==null?i[o]:null}}const Gh=new Mj,Tj=({existingMeetings:n=[],participants:a=[],onScheduleSelect:r,constraints:i={},className:o=""})=>{const[d,m]=j.useState([]),[p,x]=j.useState([]),[f,v]=j.useState(null),[h,_]=j.useState(!1),[F,I]=j.useState(null),[E,$]=j.useState(null),[O,z]=j.useState(!1),[R,K]=j.useState({duration:60,priority:"medium",meetingType:"interview",dateRange:{start:new Date,end:new Date(Date.now()+10080*60*1e3)},...i}),Z=j.useCallback(async()=>{if(a.length!==0){_(!0),I(null);try{const V=await Gh.generateSchedulingSuggestions(n,a,R);m(V.suggestions),x(V.recommendations),v(V.analytics)}catch(V){I(V.message)}finally{_(!1)}}},[n,a,R]);j.useCallback(async V=>{_(!0),I(null);try{const D=await Gh.autoScheduleMeetings(V,{existingMeetings:n,...R});return D.scheduled.length>0&&D.scheduled.forEach(H=>{r?.(H)}),D}catch(D){return I(D.message),null}finally{_(!1)}},[n,R,r]);const ee=V=>{$(V),r?.(V)},te=V=>{K(D=>({...D,...V}))};j.useEffect(()=>{Z()},[Z]);const Q=({score:V,factors:D})=>e.jsxs("div",{className:"score-indicator",children:[e.jsx("div",{className:"score-circle","data-score":Math.round(V/10),children:e.jsx("span",{className:"score-value",children:V})}),e.jsx("div",{className:"score-factors",children:Object.entries(D).map(([H,w])=>e.jsxs("div",{className:"factor",children:[e.jsx("span",{className:"factor-name",children:H.replace(/([A-Z])/g," $1").toLowerCase()}),e.jsx("div",{className:"factor-bar",children:e.jsx("div",{className:"factor-fill",style:{width:`${Math.min(w,100)}%`}})})]},H))})]}),se=({slot:V,isSelected:D,onSelect:H})=>e.jsxs("div",{className:`time-slot-card ${D?"selected":""} ${V.score>=80?"excellent":V.score>=60?"good":"fair"}`,onClick:()=>H(V),children:[e.jsxs("div",{className:"slot-header",children:[e.jsxs("div",{className:"slot-time",children:[e.jsx("div",{className:"date",children:es(V.start,"EEEE, MMM dd")}),e.jsxs("div",{className:"time",children:[V.time," - ",es(V.end,"HH:mm")]})]}),e.jsxs("div",{className:"slot-score",children:[e.jsx("span",{className:"score",children:V.score}),e.jsx("span",{className:"score-label",children:"Score"})]})]}),e.jsxs("div",{className:"slot-details",children:[e.jsx("div",{className:"recommendation",children:V.recommendation}),V.availability&&e.jsxs("div",{className:"availability",children:[e.jsxs("span",{className:"available-count",children:[V.availability.filter(w=>w.available).length,"/",V.availability.length," available"]}),e.jsx("div",{className:"participant-list",children:V.availability.map(w=>e.jsx("span",{className:`participant ${w.available?"available":"unavailable"}`,children:w.name},w.id))})]})]}),e.jsx(Q,{score:V.score,factors:V.factors})]}),_e=({recommendation:V})=>e.jsxs("div",{className:`recommendation-card ${V.type}`,children:[e.jsxs("div",{className:"recommendation-header",children:[e.jsx("h4",{children:V.title}),V.type==="warning"&&e.jsx("span",{className:"warning-icon",children:""}),V.type==="optimal"&&e.jsx("span",{className:"optimal-icon",children:""})]}),e.jsx("p",{children:V.description}),V.reason&&e.jsx("div",{className:"recommendation-reason",children:V.reason}),V.slots&&e.jsx("div",{className:"alternative-slots",children:V.slots.map((D,H)=>e.jsxs("button",{className:"alternative-slot",onClick:()=>ee(D),children:[es(D.start,"MMM dd, HH:mm")," (Score: ",D.score,")"]},H))})]}),pe=()=>e.jsxs("div",{className:"constraints-panel",children:[e.jsx("h3",{children:"Scheduling Preferences"}),e.jsxs("div",{className:"constraint-group",children:[e.jsx("label",{children:"Meeting Duration"}),e.jsxs("select",{value:R.duration,onChange:V=>te({duration:parseInt(V.target.value)}),children:[e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:45,children:"45 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:90,children:"1.5 hours"}),e.jsx("option",{value:120,children:"2 hours"})]})]}),e.jsxs("div",{className:"constraint-group",children:[e.jsx("label",{children:"Priority"}),e.jsxs("select",{value:R.priority,onChange:V=>te({priority:V.target.value}),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{className:"constraint-group",children:[e.jsx("label",{children:"Meeting Type"}),e.jsxs("select",{value:R.meetingType,onChange:V=>te({meetingType:V.target.value}),children:[e.jsx("option",{value:"interview",children:"Interview"}),e.jsx("option",{value:"meeting",children:"Meeting"}),e.jsx("option",{value:"presentation",children:"Presentation"}),e.jsx("option",{value:"review",children:"Review"})]})]}),e.jsxs("div",{className:"constraint-group",children:[e.jsx("label",{children:"Date Range"}),e.jsxs("div",{className:"date-range",children:[e.jsx("input",{type:"date",value:R.dateRange.start.toISOString().split("T")[0],onChange:V=>te({dateRange:{...R.dateRange,start:new Date(V.target.value)}})}),e.jsx("span",{children:"to"}),e.jsx("input",{type:"date",value:R.dateRange.end.toISOString().split("T")[0],onChange:V=>te({dateRange:{...R.dateRange,end:new Date(V.target.value)}})})]})]}),e.jsx("button",{className:"refresh-suggestions",onClick:Z,disabled:h,children:h?"Analyzing...":"Refresh Suggestions"})]}),L=()=>f&&e.jsxs("div",{className:"analytics-panel",children:[e.jsx("h3",{children:"Scheduling Analytics"}),e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-value",children:f.totalSlotsAnalyzed}),e.jsx("span",{className:"metric-label",children:"Slots Analyzed"})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-value",children:Math.round(f.averageScore)}),e.jsx("span",{className:"metric-label",children:"Avg Score"})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-value",children:f.bestTimeOfDay}),e.jsx("span",{className:"metric-label",children:"Best Time"})]}),e.jsxs("div",{className:"metric",children:[e.jsx("span",{className:"metric-value",children:f.bestDayOfWeek}),e.jsx("span",{className:"metric-label",children:"Best Day"})]})]})]});return e.jsxs("div",{className:`ai-scheduling-assistant ${o}`,children:[e.jsxs("div",{className:"assistant-header",children:[e.jsx("h2",{children:"AI Scheduling Assistant"}),e.jsx("div",{className:"assistant-controls",children:e.jsxs("label",{className:"auto-schedule-toggle",children:[e.jsx("input",{type:"checkbox",checked:O,onChange:V=>z(V.target.checked)}),"Auto-schedule mode"]})})]}),F&&e.jsxs("div",{className:"error-message",children:[e.jsx("span",{className:"error-icon",children:""}),F]}),e.jsxs("div",{className:"assistant-content",children:[e.jsxs("div",{className:"left-panel",children:[e.jsx(pe,{}),e.jsx(L,{})]}),e.jsxs("div",{className:"main-panel",children:[h&&e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Analyzing optimal scheduling options..."})]}),p.length>0&&e.jsxs("div",{className:"recommendations-section",children:[e.jsx("h3",{children:"AI Recommendations"}),e.jsx("div",{className:"recommendations-list",children:p.sort((V,D)=>V.priority-D.priority).map((V,D)=>e.jsx(_e,{recommendation:V},D))})]}),d.length>0&&e.jsxs("div",{className:"suggestions-section",children:[e.jsx("h3",{children:"Suggested Time Slots"}),e.jsx("div",{className:"suggestions-list",children:d.map((V,D)=>e.jsx(se,{slot:V,isSelected:E===V,onSelect:ee},D))})]}),!h&&d.length===0&&a.length>0&&e.jsxs("div",{className:"no-suggestions",children:[e.jsx("p",{children:"No suitable time slots found with current constraints."}),e.jsx("p",{children:"Try adjusting the date range or meeting duration."})]}),a.length===0&&e.jsx("div",{className:"no-participants",children:e.jsx("p",{children:"Add participants to get AI scheduling suggestions."})})]})]}),e.jsx("style",{jsx:!0,children:`
        .ai-scheduling-assistant {
          background: white;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          overflow: hidden;
        }

        .assistant-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 1.5rem;
          border-bottom: 1px solid #e5e7eb;
          background: #f9fafb;
        }

        .assistant-header h2 {
          margin: 0;
          color: #1f2937;
        }

        .auto-schedule-toggle {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          cursor: pointer;
        }

        .assistant-content {
          display: flex;
          min-height: 600px;
        }

        .left-panel {
          width: 300px;
          border-right: 1px solid #e5e7eb;
          background: #f9fafb;
        }

        .main-panel {
          flex: 1;
          padding: 1.5rem;
        }

        .constraints-panel {
          padding: 1.5rem;
        }

        .constraints-panel h3 {
          margin: 0 0 1rem 0;
          color: #374151;
        }

        .constraint-group {
          margin-bottom: 1rem;
        }

        .constraint-group label {
          display: block;
          margin-bottom: 0.5rem;
          font-weight: 500;
          color: #374151;
        }

        .constraint-group select,
        .constraint-group input {
          width: 100%;
          padding: 0.5rem;
          border: 1px solid #d1d5db;
          border-radius: 4px;
          font-size: 0.875rem;
        }

        .date-range {
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .date-range input {
          flex: 1;
        }

        .refresh-suggestions {
          width: 100%;
          padding: 0.75rem;
          background: #3b82f6;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-weight: 500;
        }

        .refresh-suggestions:hover {
          background: #2563eb;
        }

        .refresh-suggestions:disabled {
          background: #9ca3af;
          cursor: not-allowed;
        }

        .analytics-panel {
          padding: 1.5rem;
          border-top: 1px solid #e5e7eb;
        }

        .analytics-panel h3 {
          margin: 0 0 1rem 0;
          color: #374151;
        }

        .analytics-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 1rem;
        }

        .metric {
          text-align: center;
        }

        .metric-value {
          display: block;
          font-size: 1.5rem;
          font-weight: bold;
          color: #3b82f6;
        }

        .metric-label {
          display: block;
          font-size: 0.75rem;
          color: #6b7280;
          margin-top: 0.25rem;
        }

        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 3rem;
          color: #6b7280;
        }

        .loading-spinner {
          width: 40px;
          height: 40px;
          border: 3px solid #e5e7eb;
          border-top: 3px solid #3b82f6;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 1rem;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .recommendations-section,
        .suggestions-section {
          margin-bottom: 2rem;
        }

        .recommendations-section h3,
        .suggestions-section h3 {
          margin: 0 0 1rem 0;
          color: #1f2937;
        }

        .recommendations-list {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .recommendation-card {
          padding: 1rem;
          border-radius: 6px;
          border-left: 4px solid #3b82f6;
        }

        .recommendation-card.optimal {
          background: #f0f9ff;
          border-left-color: #10b981;
        }

        .recommendation-card.warning {
          background: #fef3c7;
          border-left-color: #f59e0b;
        }

        .recommendation-card.insight {
          background: #ede9fe;
          border-left-color: #8b5cf6;
        }

        .recommendation-header {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          margin-bottom: 0.5rem;
        }

        .recommendation-header h4 {
          margin: 0;
          color: #1f2937;
        }

        .recommendation-reason {
          font-size: 0.875rem;
          color: #6b7280;
          margin-top: 0.5rem;
        }

        .alternative-slots {
          display: flex;
          flex-wrap: wrap;
          gap: 0.5rem;
          margin-top: 1rem;
        }

        .alternative-slot {
          padding: 0.5rem 1rem;
          background: white;
          border: 1px solid #d1d5db;
          border-radius: 4px;
          cursor: pointer;
          font-size: 0.875rem;
        }

        .alternative-slot:hover {
          background: #f3f4f6;
        }

        .suggestions-list {
          display: flex;
          flex-direction: column;
          gap: 1rem;
        }

        .time-slot-card {
          padding: 1.5rem;
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .time-slot-card:hover {
          border-color: #3b82f6;
          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }

        .time-slot-card.selected {
          border-color: #3b82f6;
          background: #f0f9ff;
        }

        .time-slot-card.excellent {
          border-left: 4px solid #10b981;
        }

        .time-slot-card.good {
          border-left: 4px solid #3b82f6;
        }

        .time-slot-card.fair {
          border-left: 4px solid #f59e0b;
        }

        .slot-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 1rem;
        }

        .slot-time .date {
          font-weight: 600;
          color: #1f2937;
          margin-bottom: 0.25rem;
        }

        .slot-time .time {
          color: #6b7280;
          font-size: 0.875rem;
        }

        .slot-score {
          text-align: center;
        }

        .slot-score .score {
          display: block;
          font-size: 1.5rem;
          font-weight: bold;
          color: #3b82f6;
        }

        .slot-score .score-label {
          font-size: 0.75rem;
          color: #6b7280;
        }

        .slot-details {
          margin-bottom: 1rem;
        }

        .recommendation {
          font-size: 0.875rem;
          color: #374151;
          margin-bottom: 0.5rem;
        }

        .availability {
          font-size: 0.875rem;
        }

        .available-count {
          color: #6b7280;
          margin-bottom: 0.5rem;
          display: block;
        }

        .participant-list {
          display: flex;
          flex-wrap: wrap;
          gap: 0.25rem;
        }

        .participant {
          padding: 0.25rem 0.5rem;
          border-radius: 12px;
          font-size: 0.75rem;
        }

        .participant.available {
          background: #d1fae5;
          color: #065f46;
        }

        .participant.unavailable {
          background: #fee2e2;
          color: #991b1b;
        }

        .score-indicator {
          border-top: 1px solid #e5e7eb;
          padding-top: 1rem;
        }

        .score-factors {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
          margin-top: 1rem;
        }

        .factor {
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .factor-name {
          font-size: 0.75rem;
          color: #6b7280;
          width: 120px;
          text-transform: capitalize;
        }

        .factor-bar {
          flex: 1;
          height: 4px;
          background: #e5e7eb;
          border-radius: 2px;
          overflow: hidden;
        }

        .factor-fill {
          height: 100%;
          background: #3b82f6;
          transition: width 0.3s;
        }

        .error-message {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          padding: 1rem;
          background: #fee2e2;
          color: #991b1b;
          border-left: 4px solid #dc2626;
          margin: 1rem;
        }

        .no-suggestions,
        .no-participants {
          text-align: center;
          padding: 3rem;
          color: #6b7280;
        }

        .auto-schedule-panel {
          padding: 1.5rem;
          margin: 1rem 0;
          background: #f0f9ff;
          border: 1px solid #0ea5e9;
          border-radius: 6px;
        }

        .auto-schedule-panel h3 {
          margin: 0 0 0.5rem 0;
          color: #0c4a6e;
        }

        .auto-schedule-panel p {
          margin: 0 0 1rem 0;
          color: #075985;
          font-size: 0.875rem;
        }

        .auto-schedule-btn {
          padding: 0.75rem 1.5rem;
          background: #0ea5e9;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-weight: 500;
        }

        .auto-schedule-btn:hover {
          background: #0284c7;
        }

        .auto-schedule-btn:disabled {
          background: #9ca3af;
          cursor: not-allowed;
        }
      `})]})},Ij=()=>{const[n,a]=j.useState("scheduled"),[r,i]=j.useState("calendar"),[o,d]=j.useState("week"),[m,p]=j.useState(new Date),[x,f]=j.useState(""),[v,h]=j.useState(""),[_,F]=j.useState([]),[I,E]=j.useState([]),[$,O]=j.useState([]),[z,R]=j.useState(!0),[K,Z]=j.useState(!1),[ee,te]=j.useState(new Set),[Q,se]=j.useState([]),[_e]=j.useState(30);j.useEffect(()=>{pe()},[]);const pe=async()=>{try{R(!0);const[k,W]=await Promise.all([qe.getJobs({status:"published"}),jr.getAllInterviews()]);if(E(k),O(W),x){const C=await Ts.getCandidatesByJobId(x);F(C)}}catch(k){console.error("Failed to load interviews data:",k)}finally{R(!1)}},L=async k=>{if(f(k),k)try{const W=await Ts.getCandidatesByJobId(k);F(W)}catch(W){console.error("Failed to load candidates:",W)}else F([])},V=()=>{pe(),a("scheduled")},D=()=>{let k=$;x&&(k=k.filter(U=>U.job_id===x)),v&&(k=k.filter(U=>U.candidate_name?.toLowerCase().includes(v.toLowerCase())||U.interviewer?.toLowerCase().includes(v.toLowerCase())));const W=o==="day"?Ya(m):sa(m),C=o==="day"?Td(m):Vl(m);return k=k.filter(U=>{const oe=new Date(U.scheduled_at);return oe>=W&&oe<=C}),k},H=()=>{const k=new Date,W=$.filter(U=>{const oe=new Date(U.scheduled_at);return Ne(oe,"yyyy-MM-dd")===Ne(k,"yyyy-MM-dd")}),C=$.filter(U=>{if(U.status!=="scheduled")return!1;const oe=ea(new Date(U.scheduled_at),(U.duration||60)+_e);return Ll(oe)});return{scheduled:$.filter(U=>U.status==="scheduled").length,today:W.length,unattended:C.length,completed:$.filter(U=>U.status==="completed").length}},w=async k=>{try{R(!0);const W=[];for(const C of k){const U=Array.from(ee).slice(0,C.candidateCount);for(let oe=0;oe<U.length;oe++){const ue=U[oe],ge=new Date(`${C.date}T${C.startTime}:00`);ge.setMinutes(ge.getMinutes()+oe*(C.duration||60));const ve=await jr.scheduleInterview({candidate_id:ue,job_id:x,scheduled_at:ge.toISOString(),duration:C.duration||60,interviewer:C.interviewer||"",location:C.location||"Office",notes:`Batch scheduled - ${C.notes||""}`,status:"scheduled"});W.push(ve)}}return Z(!1),te(new Set),se([]),await pe(),W}catch(W){throw console.error("Failed to batch schedule interviews:",W),W}finally{R(!1)}},re=(k,W,C)=>{const U=new Date(W),oe=ea(U,C);return $.some(ue=>{if(ue.candidate_id!==k||ue.status==="cancelled")return!1;const ge=new Date(ue.scheduled_at),ve=ea(ge,ue.duration||60);return U<ve&&oe>ge})};if(z)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})});const Y=H();return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Interviews"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage interview schedules, track attendance, and capture outcomes"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[n==="scheduled"&&e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>i("list"),className:`flex items-center px-3 py-1 rounded-md text-sm font-medium transition-colors ${r==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Cd,{className:"w-4 h-4 mr-1"}),"List"]}),e.jsxs("button",{onClick:()=>i("calendar"),className:`flex items-center px-3 py-1 rounded-md text-sm font-medium transition-colors ${r==="calendar"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),"Calendar"]})]}),n==="scheduled"&&r==="calendar"&&e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>d("day"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${o==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Day"}),e.jsx("button",{onClick:()=>d("week"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${o==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Week"})]})]})]}),e.jsx("div",{className:"card p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("select",{value:x,onChange:k=>L(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Jobs"}),I.map(k=>e.jsxs("option",{value:k.id,children:[k.title," - ",k.company]},k.id))]})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search candidates or interviewers...",value:v,onChange:k=>h(k.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),n==="scheduled"&&r==="calendar"&&e.jsx("div",{children:e.jsx("input",{type:"date",value:Ne(m,"yyyy-MM-dd"),onChange:k=>p(new Date(k.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>a("scheduled"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${n==="scheduled"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(nt,{className:"w-4 h-4 mr-2 inline"}),"Scheduled Interviews",Y.scheduled>0&&e.jsx("span",{className:"ml-2 bg-blue-100 text-blue-600 py-0.5 px-2 rounded-full text-xs",children:Y.scheduled})]}),e.jsxs("button",{onClick:()=>a("schedule"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${n==="schedule"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(xs,{className:"w-4 h-4 mr-2 inline"}),"Schedule New"]}),e.jsxs("button",{onClick:()=>a("ai-assistant"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${n==="ai-assistant"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Kc,{className:"w-4 h-4 mr-2 inline"}),"AI Assistant",e.jsx("span",{className:"ml-2 bg-purple-100 text-purple-600 py-0.5 px-2 rounded-full text-xs",children:"Phase 2"})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[n==="scheduled"&&e.jsx(e.Fragment,{children:r==="list"?e.jsx(c0,{candidates:_,jobId:x,interviews:D()}):e.jsx(Pj,{interviews:D(),selectedDate:m,timeRange:o,onDateChange:p})}),n==="schedule"&&e.jsx("div",{className:"space-y-6",children:x?_.length===0?e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Shortlisted Candidates"}),e.jsx("p",{className:"text-gray-600",children:"No candidates have been shortlisted for this job yet. Visit the Applications page to shortlist candidates first."})]}):e.jsx(o0,{candidates:_,jobId:x,onScheduled:V,onBatchSchedule:w,checkForDoubleBooking:re}):e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Job to Schedule Interviews"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Choose a job from the filter above to view shortlisted candidates and schedule interviews."})]})}),n==="ai-assistant"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Kc,{className:"w-5 h-5 mr-2 text-purple-600"}),"AI Scheduling Assistant"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Intelligent scheduling suggestions for optimal interview coverage"})]}),e.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:"Phase 2 Feature"})]}),x&&_.length>0?e.jsx(Tj,{existingMeetings:$,participants:_.map(k=>({id:k.id,name:k.name,email:k.email,availability:[]})),onScheduleSelect:k=>{console.log("AI suggested slot:",k)},constraints:{duration:60,priority:"high",meetingType:"interview",dateRange:{start:new Date,end:new Date(Date.now()+336*60*60*1e3)}}}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Kc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"AI Assistant Ready"}),e.jsx("p",{className:"text-gray-600",children:"Select a job with shortlisted candidates to get AI-powered scheduling suggestions."})]})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(nt,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Today's Interviews"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Y.today})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Dt,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Scheduled"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Y.scheduled})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(va,{className:"w-8 h-8 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Unattended"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Y.unattended}),e.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Auto-flagged after ",_e,"min grace"]})]})]})}),e.jsx("div",{className:"card p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(os,{className:"w-8 h-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completed"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Y.completed})]})]})})]})]})},Lj=()=>{const[n,a]=vp(),{confirm:r}=u0(),[i,o]=j.useState(n.get("tab")||"by-job"),[d,m]=j.useState(n.get("stage")||"applied"),[p,x]=j.useState(""),[f,v]=j.useState(null),[h,_]=j.useState(!1),[F,I]=j.useState("all"),[E,$]=j.useState(1),[O,z]=j.useState(10),[R,K]=j.useState([]),[Z,ee]=j.useState([]),[te,Q]=j.useState({}),[se,_e]=j.useState(!0),[pe,L]=j.useState(null),V=[{id:"applied",label:"Applied",icon:Ot,description:"Initial application submitted"},{id:"shortlisted",label:"Shortlisted",icon:os,description:"Selected for interview"},{id:"interview-scheduled",label:"Interview Scheduled",icon:nt,description:"Interview appointment set"},{id:"interview-passed",label:"Interview Passed",icon:_t,description:"Successfully completed interview"}];j.useEffect(()=>{D()},[d,i]);const D=async()=>{try{_e(!0),L(null),await Ke.getApplicationStages();const he=await Kt.getAllCandidatesInWorkflow(),Se=await Promise.all(he.map(async Fe=>({...await Ts.getCandidateById(Fe.candidate_id),application:Fe,job_title:Fe.job_title,interviewed_at:Fe.interviewed_at,interview_remarks:Fe.interview_remarks,documents:Fe.documents||[]}))),Oe=Se.filter(Fe=>Fe.application.stage===d);K(Oe);const Be=(E-1)*O,at=Oe.slice(Be,Be+O);ee(at);const ht=H(Se);Q(ht)}catch(he){L(he)}finally{_e(!1)}},H=he=>{const Se=V.reduce((ht,Fe)=>(ht[Fe.id]=he.filter(rt=>rt.application.stage===Fe.id).length,ht),{}),Oe=he.length,Be=Se["interview-passed"]||0,at=Be;return{stageCounts:Se,totalCandidates:Oe,interviewPassed:Be,totalProcessed:at,summary:`${at} interview passed of ${Oe}`,conversionRate:Oe>0?(at/Oe*100).toFixed(1):0}},w=he=>{const Se=new URLSearchParams(n);Object.entries(he).forEach(([Oe,Be])=>{Be==null||Be===""?Se.delete(Oe):Se.set(Oe,Be)}),a(Se)},re=he=>{o(he),I("all"),w({tab:he})},Y=he=>{m(he),I("all"),w({stage:he})},k=he=>{v(he),_(!0)},W=()=>{_(!1),v(null)},C=he=>({applied:"shortlisted",shortlisted:"interview-scheduled","interview-scheduled":"interview-passed","interview-passed":null})[he],U=(he,Se)=>{const Oe=C(he);return Se===Oe},oe=async(he,Se)=>{try{const Oe=Z.find(rt=>rt.id===he);if(!Oe)return;const Be=Oe.application.stage;if(!U(Be,Se)){await r({title:"Invalid Stage Transition",message:`You cannot move directly from "${V.find(rt=>rt.id===Be)?.label}" to "${V.find(rt=>rt.id===Se)?.label}". Please follow the proper workflow sequence.`,confirmText:"Okay",type:"warning"});return}const at=V.find(rt=>rt.id===Be)?.label,ht=V.find(rt=>rt.id===Se)?.label;await r({title:"Confirm Stage Update",message:`Are you sure you want to move this candidate from "${at}" to "${ht}"? This action cannot be undone.`,confirmText:"Yes, Update Stage",cancelText:"Cancel",type:"warning"})&&(await Kt.updateApplicationStage(Oe.application.id,Se),D())}catch(Oe){console.error("Failed to update status:",Oe),await r({title:"Error",message:"Failed to update candidate status. Please try again.",confirmText:"Okay",type:"danger"})}},ue=async(he,Se)=>{try{await r({title:"Confirm Document Attachment",message:`Are you sure you want to attach the document "${Se.name}" to this candidate?`,confirmText:"Yes, Attach",cancelText:"Cancel",type:"info"})&&(await Kt.attachDocument(he,Se),D())}catch(Oe){console.error("Failed to attach document:",Oe),await r({title:"Error",message:"Failed to attach document. Please try again.",confirmText:"Okay",type:"danger"})}},ge=Z.filter(he=>{if(!p)return!0;const Se=p.toLowerCase();return he.phone?.toLowerCase().includes(Se)||he.passport_number?.toLowerCase().includes(Se)||he.name?.toLowerCase().includes(Se)||he.email?.toLowerCase().includes(Se)||he.job_title?.toLowerCase().includes(Se)}),ve=i==="by-job"?ge.reduce((he,Se)=>{const Oe=Se.job_title||"Unknown Job";return he[Oe]||(he[Oe]=[]),he[Oe].push(Se),he},{}):{},Ie=i==="by-job"?F==="all"?Object.keys(ve).length:1:ge.length,Ce=Math.ceil(Ie/O),Re=(E-1)*O,Ze=Re+O,Rt=ge.slice(Re,Ze);j.useEffect(()=>{$(1)},[d,i,p,F]);const Le=he=>{$(he)},pt=he=>{z(he),$(1)};return se?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded mb-6"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(he=>e.jsx("div",{className:"h-20 bg-gray-200 rounded"},he))}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(he=>e.jsx("div",{className:"h-24 bg-gray-200 rounded"},he))})]})}):pe?e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(jt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to load workflow data"}),e.jsx("p",{className:"text-gray-600 mb-4",children:pe.message}),e.jsx("button",{onClick:D,className:"btn-primary",children:"Retry"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Workflow Pipeline"}),e.jsx("p",{className:"text-gray-600",children:"Manage candidates through the post-interview process"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"card p-6 bg-gradient-to-r from-blue-500 to-blue-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Candidates"}),e.jsx("p",{className:"text-3xl font-bold",children:te.totalCandidates||0})]}),e.jsx(_t,{className:"w-10 h-10 text-blue-200"})]})}),e.jsx("div",{className:"card p-6 bg-gradient-to-r from-green-500 to-green-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Interview Passed"}),e.jsx("p",{className:"text-3xl font-bold",children:te.interviewPassed||0})]}),e.jsx(os,{className:"w-10 h-10 text-green-200"})]})}),e.jsx("div",{className:"card p-6 bg-gradient-to-r from-purple-500 to-purple-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Processed"}),e.jsx("p",{className:"text-3xl font-bold",children:te.totalProcessed||0})]}),e.jsx(_t,{className:"w-10 h-10 text-purple-200"})]})}),e.jsx("div",{className:"card p-6 bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Success Rate"}),e.jsxs("p",{className:"text-3xl font-bold",children:[te.conversionRate||0,"%"]})]}),e.jsx(jt,{className:"w-10 h-10 text-orange-200"})]})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:V.map(he=>{const Se=te.stageCounts?.[he.id]||0,Oe=he.id===d;return e.jsxs("div",{className:"flex flex-col items-center cursor-pointer transition-all hover:scale-105",onClick:()=>Y(he.id),children:[e.jsx("div",{className:`
                  w-16 h-16 rounded-full flex items-center justify-center bg-white border-2 border-gray-300
                  text-gray-900 font-semibold text-lg transition-all duration-300 hover:shadow-lg hover:border-gray-400
                  ${Oe?"ring-4 ring-primary-300 scale-110 border-primary-500 bg-primary-50 text-primary-700":""}
                `,children:Se}),e.jsx("p",{className:`text-xs text-center mt-2 font-medium leading-tight ${Oe?"text-primary-600":"text-gray-700"}`,children:he.label}),Se>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Se," candidate",Se!==1?"s":""]})]},he.id)})})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>re("by-job"),className:`py-2 px-1 border-b-2 font-medium text-sm ${i==="by-job"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"By Job Post"}),e.jsx("button",{onClick:()=>re("by-applicant"),className:`py-2 px-1 border-b-2 font-medium text-sm ${i==="by-applicant"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"By Applicant"})]})})}),i==="by-job"&&Object.keys(ve).length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Applicant Distribution by Job"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>I("all"),className:`px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${F==="all"?"bg-primary-100 text-primary-700 border-primary-300":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:["All (",Object.values(ve).reduce((he,Se)=>he+Se.length,0),")"]}),Object.entries(ve).map(([he,Se])=>e.jsxs("button",{onClick:()=>I(he),className:`px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${F===he?"bg-primary-100 text-primary-700 border-primary-300":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[he," (",Se.length,")"]},he))]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:i==="by-job"?"Search jobs or candidates...":"Search by phone, passport, or name...",value:p,onChange:he=>x(he.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),(i==="by-job"?Object.keys(ve).length>0:ge.length>0)&&e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsx(to,{currentPage:E,totalPages:Ce,totalItems:Ie,itemsPerPage:O}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n0,{value:O,onChange:pt,options:[5,10,25,50]}),e.jsx(ni,{currentPage:E,totalPages:Ce,onPageChange:Le,size:"sm"})]})]})}),e.jsx("div",{className:"space-y-6",children:(i==="by-job"?Object.keys(ve).length===0:ge.length===0)?e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx(_t,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No candidates found"}),e.jsx("p",{className:"text-gray-600",children:i==="by-applicant"&&p?"No candidates match your search criteria.":`No candidates in ${V.find(he=>he.id===d)?.label} stage.`})]}):i==="by-job"?(()=>{const he=Object.entries(ve);return(F==="all"?he:he.filter(([Be])=>Be===F)).slice(Re,Ze).map(([Be,at])=>e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Is,{className:"w-5 h-5 mr-2 text-primary-600"}),Be," (",at.length,")"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[at.length," candidate",at.length!==1?"s":""," in ",V.find(ht=>ht.id===d)?.label," stage"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:"chip chip-blue",children:at.length})})]}),e.jsx("div",{className:"space-y-3",children:at.map(ht=>e.jsx(Qh,{candidate:ht,onCandidateClick:k,onUpdateStatus:oe,onAttachDocument:ue,workflowStages:V,showJobTitle:!1,compact:!0},ht.id))})]},Be))})():e.jsx("div",{className:"space-y-4",children:Rt.map(he=>e.jsx(Qh,{candidate:he,onCandidateClick:k,onUpdateStatus:oe,onAttachDocument:ue,workflowStages:V,showJobTitle:!0},he.id))})}),Ie>O&&e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx(ni,{currentPage:E,totalPages:Ce,onPageChange:Le,size:"md"})}),e.jsx(so,{candidate:f,isOpen:h,onClose:W,onUpdateStatus:oe,onAttachDocument:ue,workflowStages:V})]})},Qh=({candidate:n,onCandidateClick:a,onUpdateStatus:r,onAttachDocument:i,workflowStages:o,showJobTitle:d=!1,compact:m=!1})=>{const[p,x]=j.useState(!1),f=async E=>{x(!0);try{await r(n.id,E)}finally{x(!1)}},v=o.find(E=>E.id===n.application.stage),h=E=>({applied:"shortlisted",shortlisted:"interview-scheduled","interview-scheduled":"interview-passed","interview-passed":null})[E],F=(E=>{const $=h(E);return $?[E,$]:[E]})(n.application?.stage),I=o.filter(E=>F.includes(E.id));return e.jsx("div",{className:"border border-gray-200 rounded-lg hover:shadow-md transition-shadow bg-white",children:e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1 cursor-pointer",onClick:()=>a(n),children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:n.name?.charAt(0)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900 truncate",children:n.name}),v&&e.jsx("span",{className:"chip chip-blue text-xs flex-shrink-0",children:v.label})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:n.phone})]}),n.passport_number&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dp,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:["Passport: ",n.passport_number]})]}),d&&n.job_title&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Is,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"font-medium",children:n.job_title})]}),n.interviewed_at&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dt,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:["Interviewed: ",Ne(new Date(n.interviewed_at),"MMM dd")]})]}),n.documents&&n.documents.length>0&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Tp,{className:"w-3 h-3 mr-1 text-gray-400"}),e.jsxs("span",{children:[n.documents.length," docs"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4 flex-shrink-0",children:[e.jsx("button",{onClick:()=>a(n),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded",title:"View candidate details",children:e.jsx(Xt,{className:"w-4 h-4"})}),e.jsx("select",{value:n.application?.stage||"",onChange:E=>f(E.target.value),disabled:p,className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white min-w-[120px]",onClick:E=>E.stopPropagation(),title:"Update candidate status",children:I.map(E=>e.jsx("option",{value:E.id,children:E.label},E.id))})]})]})})})},Oj=({isOpen:n,onClose:a,onSave:r,editingDraft:i,initialStep:o=0})=>{const[d,m]=j.useState("selection"),[p,x]=j.useState(0),[f,v]=j.useState({}),[h,_]=j.useState({posting_title:"",country:"",employer:"",city:"",lt_number:"",chalani_number:"",approval_date_ad:"",approval_date_bs:"",posting_date_ad:"",posting_date_bs:"",date_format:"AD",announcement_type:"",notes:"",period_years:2,renewable:"yes",hours_per_day:8,days_per_week:6,overtime_policy:"as_per_company_policy",weekly_off_days:1,food:"not_provided",accommodation:"not_provided",transport:"not_provided",annual_leave_days:21,positions:[{id:1,position_title:"",vacancies_male:0,vacancies_female:0,monthly_salary:0,currency:"AED",hours_per_day_override:"",days_per_week_override:"",overtime_policy_override:"",weekly_off_days_override:"",food_override:"",accommodation_override:"",transport_override:"",position_notes:""}],skills:[],education_requirements:[],experience_requirements:{min_years:0,preferred_years:"",domains:[]},canonical_title_ids:[],canonical_title_names:[],expenses:[{id:1,type:"",who_pays:"",is_free:!0,amount:"",currency:"AED",notes:""}],cutout:{file:null,preview_url:null,uploaded_url:null,is_uploaded:!1},interview:{date_ad:"",date_bs:"",date_format:"AD",time:"",location:"",contact_person:"",required_documents:[],notes:"",expenses:[]},bulk_countries:[{country:"",count:1}],bulk_entries:[{id:1,country:"",job_count:"",position:""}],bulk_position_title:"",bulk_monthly_salary:0,bulk_currency:"AED",bulk_vacancies_male:0,bulk_vacancies_female:0});j.useEffect(()=>{if(i&&n)if(i.is_expanding_bulk&&i.bulk_entries){m("single"),x(0);const y=i.bulk_entries[0]||{};_(M=>({...M,posting_title:y.position||i.title||"",country:y.country||"",employer:i.company||"",city:"",lt_number:"",chalani_number:"",approval_date_ad:"",approval_date_bs:"",posting_date_ad:"",posting_date_bs:"",announcement_type:"",notes:i.description||"",period_years:i.period_years||2,renewable:i.renewable?"yes":"no",hours_per_day:i.hours_per_day||8,days_per_week:i.days_per_week||6,overtime_policy:i.overtime_policy||"as_per_company_policy",weekly_off_days:i.weekly_off_days||1,food:i.food||"not_provided",accommodation:i.accommodation||"not_provided",transport:i.transport||"not_provided",annual_leave_days:i.annual_leave_days||21,positions:[{id:1,position_title:y.position||"General Worker",vacancies_male:parseInt(y.job_count)||1,vacancies_female:0,monthly_salary:0,currency:"AED",hours_per_day_override:"",days_per_week_override:"",overtime_policy_override:"",weekly_off_days_override:"",food_override:"",accommodation_override:"",transport_override:"",position_notes:`Expanded from bulk draft: ${i.title||"Bulk Draft"}`}],skills:[],education_requirements:[],experience_requirements:{min_years:0,preferred_years:"",domains:[]},canonical_title_ids:[],canonical_title_names:[],expenses:[{id:1,type:"",who_pays:"",is_free:!0,amount:"",currency:"AED",notes:""}],cutout:{file:null,preview_url:null,uploaded_url:null,is_uploaded:!1},interview:{date_ad:"",date_bs:"",date_format:"AD",time:"",location:"",contact_person:"",required_documents:[],notes:"",expenses:[]},original_bulk_id:i.original_bulk_id}))}else i.is_bulk_draft&&i.bulk_entries?(m("bulk"),x(0),_(y=>({...y,bulk_entries:i.bulk_entries.map((M,S)=>({id:S+1,country:M.country||"",job_count:M.job_count||"",position:M.position||""})),editing_bulk_draft_id:i.id,bulk_draft_title:i.title||"",bulk_draft_company:i.company||"",bulk_draft_description:i.description||""}))):(m("single"),x(o),_(y=>({...y,posting_title:i.title||"",country:i.country||"",employer:i.company||"",city:i.city||"",lt_number:i.lt_number||"",chalani_number:i.chalani_number||"",approval_date_ad:i.approval_date_ad||"",approval_date_bs:i.approval_date_bs||"",posting_date_ad:i.posting_date_ad||"",posting_date_bs:i.posting_date_bs||"",announcement_type:i.announcement_type||"",notes:i.notes||"",period_years:i.period_years||2,renewable:i.renewable?"yes":"no",hours_per_day:i.hours_per_day||8,days_per_week:i.days_per_week||6,overtime_policy:i.overtime_policy||"as_per_company_policy",weekly_off_days:i.weekly_off_days||1,food:i.food||"not_provided",accommodation:i.accommodation||"not_provided",transport:i.transport||"not_provided",annual_leave_days:i.annual_leave_days||21,positions:i.positions&&i.positions.length>0?i.positions.map((M,S)=>({id:S+1,position_title:M.title||"",vacancies_male:M.vacancies_male||0,vacancies_female:M.vacancies_female||0,monthly_salary:M.monthly_salary||M.salary?.monthly_amount||0,currency:M.currency||M.salary?.currency||"AED",hours_per_day_override:M.hours_per_day_override||"",days_per_week_override:M.days_per_week_override||"",overtime_policy_override:M.overtime_policy_override||"",weekly_off_days_override:M.weekly_off_days_override||"",food_override:M.food_override||"",accommodation_override:M.accommodation_override||"",transport_override:M.transport_override||"",position_notes:M.position_notes||""})):[{id:1,position_title:i.title||"",vacancies_male:1,vacancies_female:0,monthly_salary:i.salary_amount||0,currency:i.currency||"AED",hours_per_day_override:"",days_per_week_override:"",overtime_policy_override:"",weekly_off_days_override:"",food_override:"",accommodation_override:"",transport_override:"",position_notes:""}],skills:i.skills||i.tags||[],education_requirements:i.education_requirements||[],experience_requirements:i.experience_requirements||{min_years:0,preferred_years:"",domains:[]},canonical_title_ids:i.canonical_title_ids||[],canonical_title_names:i.canonical_title_names||[],expenses:i.expenses&&i.expenses.length>0?i.expenses.map((M,S)=>({id:S+1,type:M.type||"",who_pays:M.who_pays||"",is_free:M.is_free!==void 0?M.is_free:!0,amount:M.amount||"",currency:M.currency||"AED",notes:M.notes||""})):[{id:1,type:"",who_pays:"",is_free:!0,amount:"",currency:"AED",notes:""}],cutout:i.cutout||{file:null,preview_url:null,uploaded_url:null,is_uploaded:!1},interview:i.interview||{date_ad:"",date_bs:"",date_format:"AD",time:"",location:"",contact_person:"",required_documents:[],notes:"",expenses:[]}})));else!i&&n&&(m("selection"),x(0))},[i,n,o]),j.useEffect(()=>{v({})},[p]);const F=[{id:"details",title:"Posting Details",icon:_t,description:"Administrative fields"},{id:"contract",title:"Contract",icon:Is,description:"Employment terms"},{id:"positions",title:"Positions",icon:_t,description:"Job positions with salary"},{id:"tags",title:"Tags & Canonical Titles",icon:Ad,description:"Skills, education, experience"},{id:"expenses",title:"Expenses",icon:Nd,description:"Cost breakdown"},{id:"cutout",title:"Cutout",icon:li,description:"Job advertisement image"},{id:"interview",title:"Interview",icon:_t,description:"Interview process details"},{id:"review",title:"Review and Publish",icon:os,description:"Final review"}],I=["UAE","Saudi Arabia","Qatar","Kuwait","Oman","Bahrain","Malaysia"],E={UAE:["Dubai","Abu Dhabi","Sharjah","Ajman","Fujairah","Ras Al Khaimah","Umm Al Quwain"],"Saudi Arabia":["Riyadh","Jeddah","Mecca","Medina","Dammam","Khobar","Taif"],Qatar:["Doha","Al Rayyan","Al Wakrah","Al Khor","Umm Salal"],Kuwait:["Kuwait City","Hawalli","Farwaniya","Ahmadi","Jahra","Mubarak Al-Kabeer"],Oman:["Muscat","Sohar","Nizwa","Sur","Salalah","Ibri"],Bahrain:["Manama","Muharraq","Riffa","Hamad Town","Isa Town"],Malaysia:["Kuala Lumpur","Petaling Jaya","Shah Alam","Subang Jaya","Johor Bahru"]},$=[{value:"newspaper",label:"Newspaper"},{value:"online",label:"Online"},{value:"agency_board",label:"Agency Board"},{value:"radio",label:"Radio"},{value:"television",label:"Television"},{value:"social_media",label:"Social Media"}],O=[{value:"AED",label:"AED"},{value:"SAR",label:"SAR"},{value:"QAR",label:"QAR"},{value:"KWD",label:"KWD"},{value:"OMR",label:"OMR"},{value:"BHD",label:"BHD"},{value:"MYR",label:"MYR"},{value:"USD",label:"USD"}],z=[{value:"as_per_company_policy",label:"As per company policy"},{value:"paid",label:"Paid"},{value:"unpaid",label:"Unpaid"},{value:"not_applicable",label:"Not applicable"}],R=[{value:"free",label:"Free"},{value:"paid",label:"Paid"},{value:"not_provided",label:"Not provided"}],K=["Cooking","Customer Service","Security","Surveillance","English Communication","Arabic Communication","Driving","Cleaning","Maintenance","Electrical Work","Plumbing","Construction","Welding","Carpentry","Painting","Hospitality","Food Preparation","Housekeeping","Laundry","Gardening","Computer Skills","First Aid","Leadership","Team Work","Problem Solving","Time Management"],Z=["No formal education","Primary School","Class 5","Class 8","Class 10","SLC/SEE","High School","+2/Intermediate","Diploma","Vocational Training","Bachelor's Degree","Master's Degree","Technical Certification","Trade School"],ee=["Hospitality","Culinary","Security","Construction","Maintenance","Transportation","Housekeeping","Food Service","Healthcare","Retail","Manufacturing","Agriculture","Education","Office Work","Sales","Customer Service","Technical Support","Guard Duty","Surveillance"],te=[{id:1,name:"Security Guard",category:"Security"},{id:2,name:"Cook",category:"Food Service"},{id:3,name:"Driver",category:"Transportation"},{id:4,name:"Cleaner",category:"Housekeeping"},{id:5,name:"Security Officer",category:"Security"},{id:6,name:"Waiter",category:"Food Service"},{id:7,name:"Construction Worker",category:"Construction"},{id:8,name:"Watchman",category:"Security"},{id:9,name:"Electrician",category:"Maintenance"},{id:10,name:"Plumber",category:"Maintenance"}],Q=[{value:"medical",label:"Medical"},{value:"insurance",label:"Insurance"},{value:"travel",label:"Travel"},{value:"visa",label:"Visa/Permit"},{value:"training",label:"Training"},{value:"welfare",label:"Welfare/Service"}],se=[{value:"company",label:"Company"},{value:"worker",label:"Worker"},{value:"shared",label:"Shared"},{value:"not_applicable",label:"Not applicable"},{value:"agency",label:"Agency"}],_e=["Passport","Resume/CV","Educational Certificates","Experience Certificates","Medical Certificate","Police Clearance","Driving License","Skills Certificate","Photographs","Birth Certificate","Marriage Certificate","Bank Statement","Reference Letters","Training Certificates","Language Proficiency Certificate","Professional License","Insurance Documents","Visa Documents"],pe=y=>{const M={};switch(y){case 0:h.city?.trim()||(M.city="City selection is required"),h.lt_number?.trim()||(M.lt_number="Please enter a valid LT Number (e.g., LT-2024-001)"),h.chalani_number?.trim()||(M.chalani_number="Please enter a valid Chalani Number (e.g., CH-2024-001)"),h.country?.trim()||(M.country="Country selection is required"),h.date_format==="AD"?(h.approval_date_ad||(M.approval_date_ad="Approval Date is required"),h.posting_date_ad||(M.posting_date_ad="Posting Date is required")):(h.approval_date_bs||(M.approval_date_bs="Approval Date is required"),h.posting_date_bs||(M.posting_date_bs="Posting Date is required")),h.announcement_type?.trim()||(M.announcement_type="Please select an announcement type");break;case 1:(!h.period_years||h.period_years<1)&&(M.period_years="Contract period must be at least 1 year"),h.renewable||(M.renewable="Please specify if contract is renewable"),(!h.hours_per_day||h.hours_per_day<1||h.hours_per_day>16)&&(M.hours_per_day="Working hours must be between 1 and 16 hours per day"),(!h.days_per_week||h.days_per_week<1||h.days_per_week>7)&&(M.days_per_week="Working days must be between 1 and 7 days per week"),h.overtime_policy?.trim()||(M.overtime_policy="Please select an overtime policy"),(h.weekly_off_days<0||h.weekly_off_days>7)&&(M.weekly_off_days="Weekly off days must be between 0 and 7"),h.food?.trim()||(M.food="Please specify food provision"),h.accommodation?.trim()||(M.accommodation="Please specify accommodation provision"),h.transport?.trim()||(M.transport="Please specify transport provision"),(!h.annual_leave_days||h.annual_leave_days<0)&&(M.annual_leave_days="Annual leave days must be 0 or greater");break;case 2:!h.positions||h.positions.length===0?M.positions_general="At least one position is required":h.positions.forEach((S,Pe)=>{S.position_title?.trim()||(M[`positions_${S.id}_position_title`]="Position title is required"),S.vacancies_male<0&&(M[`positions_${S.id}_vacancies_male`]="Male vacancies must be 0 or greater"),S.vacancies_female<0&&(M[`positions_${S.id}_vacancies_female`]="Female vacancies must be 0 or greater"),S.vacancies_male===0&&S.vacancies_female===0&&(M[`positions_${S.id}_vacancies_total`]="Total vacancies must be greater than 0"),(!S.monthly_salary||S.monthly_salary<=0)&&(M[`positions_${S.id}_monthly_salary`]="Monthly salary must be greater than 0"),S.currency?.trim()||(M[`positions_${S.id}_currency`]="Currency selection is required")});break;case 3:(!h.skills||h.skills.length===0)&&(M.skills="Please add at least one skill requirement"),(!h.education_requirements||h.education_requirements.length===0)&&(M.education_requirements="Please specify education requirements"),(!h.experience_requirements.min_years||h.experience_requirements.min_years<0)&&(M.experience_min_years="Minimum experience years is required (use 0 for no experience)"),(!h.experience_requirements.domains||h.experience_requirements.domains.length===0)&&(M.experience_domains="Please specify at least one experience domain"),(!h.canonical_title_ids||h.canonical_title_ids.length===0)&&(M.canonical_titles="Please select at least one canonical job title");break;case 4:h.expenses&&h.expenses.length>0&&h.expenses.forEach(S=>{S.type?.trim()||(M[`expenses_${S.id}_type`]="Expense type is required"),S.who_pays?.trim()||(M[`expenses_${S.id}_who_pays`]="Please specify who pays for this expense"),S.is_free===!1&&((!S.amount||S.amount<=0)&&(M[`expenses_${S.id}_amount`]="Please enter a valid amount greater than 0"),S.currency?.trim()||(M[`expenses_${S.id}_currency`]="Currency is required for paid expenses"))});break;case 5:break;case 6:(h.interview?.date_ad||h.interview?.date_bs||h.interview?.time||h.interview?.location)&&h.interview.time&&!/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]\s?(AM|PM)?$/i.test(h.interview.time)&&(M.interview_time="Please enter a valid time format (e.g., 10:00 AM or 14:30)"),h.interview?.expenses&&h.interview.expenses.length>0&&h.interview.expenses.forEach(S=>{S.type?.trim()||(M[`interview_expense_${S.id}_type`]="Expense type is required"),S.who_pays?.trim()||(M[`interview_expense_${S.id}_who_pays`]="Please specify who pays"),S.is_free===!1&&(!S.amount||S.amount<=0)&&(M[`interview_expense_${S.id}_amount`]="Amount is required for paid expenses")});break}return M},L=(y,M)=>{_(S=>({...S,[y]:M})),f[y]&&v(S=>({...S,[y]:null}))},V=()=>{const y={id:Date.now(),position_title:"",vacancies_male:0,vacancies_female:0,monthly_salary:0,currency:"AED",hours_per_day_override:"",days_per_week_override:"",overtime_policy_override:"",weekly_off_days_override:"",food_override:"",accommodation_override:"",transport_override:"",position_notes:""};_(M=>({...M,positions:[...M.positions,y]}))},D=y=>{_(M=>({...M,positions:M.positions.filter(S=>S.id!==y)}))},H=(y,M,S)=>{_(Je=>({...Je,positions:Je.positions.map(b=>b.id===y?{...b,[M]:S}:b)}));const Pe=`positions_${y}_${M}`;f[Pe]&&v(Je=>({...Je,[Pe]:null}))},w=(y,M)=>{M&&!h[y].includes(M)&&(_(S=>({...S,[y]:[...S[y],M]})),f[y]&&v(S=>({...S,[y]:null})))},re=(y,M)=>{_(S=>({...S,[y]:S[y].filter(Pe=>Pe!==M)})),f[y]&&v(S=>({...S,[y]:null}))},Y=y=>{y&&!h.experience_requirements.domains.includes(y)&&(_(M=>({...M,experience_requirements:{...M.experience_requirements,domains:[...M.experience_requirements.domains,y]}})),f.experience_domains&&v(M=>({...M,experience_domains:null})))},k=y=>{_(M=>({...M,experience_requirements:{...M.experience_requirements,domains:M.experience_requirements.domains.filter(S=>S!==y)}})),f.experience_domains&&v(M=>({...M,experience_domains:null}))},W=y=>{y&&!h.canonical_title_ids.includes(y.id)&&(_(M=>({...M,canonical_title_ids:[...M.canonical_title_ids,y.id],canonical_title_names:[...M.canonical_title_names,y.name]})),f.canonical_titles&&v(M=>({...M,canonical_titles:null})))},C=y=>{const M=h.canonical_title_ids.indexOf(y);M>-1&&(_(S=>({...S,canonical_title_ids:S.canonical_title_ids.filter(Pe=>Pe!==y),canonical_title_names:S.canonical_title_names.filter((Pe,Je)=>Je!==M)})),f.canonical_titles&&v(S=>({...S,canonical_titles:null})))},U=()=>{const y={id:Date.now(),type:"",who_pays:"",is_free:!0,amount:"",currency:"AED",notes:""};_(M=>({...M,expenses:[...M.expenses,y]}))},oe=y=>{_(M=>({...M,expenses:M.expenses.filter(S=>S.id!==y)}))},ue=(y,M,S)=>{_(Je=>({...Je,expenses:Je.expenses.map(b=>{if(b.id===y){const P={...b,[M]:S};return M==="is_free"&&S===!0&&(P.amount="",P.currency="AED"),P}return b})}));const Pe=`expenses_${y}_${M}`;f[Pe]&&v(Je=>({...Je,[Pe]:null}))},ge=y=>{const M=y.target.files[0];if(M){if(!["image/jpeg","image/jpg","image/png"].includes(M.type)){v(b=>({...b,cutout_file:"Please select a valid image file (JPG, PNG)"}));return}const Pe=10*1024*1024;if(M.size>Pe){v(b=>({...b,cutout_file:"File size must be less than 10MB"}));return}const Je=URL.createObjectURL(M);_(b=>({...b,cutout:{...b.cutout,file:M,preview_url:Je,is_uploaded:!1}})),f.cutout_file&&v(b=>({...b,cutout_file:null}))}},ve=(y=!1)=>{h.cutout.preview_url&&URL.revokeObjectURL(h.cutout.preview_url),_(M=>({...M,cutout:{file:null,preview_url:null,uploaded_url:y?null:M.cutout.uploaded_url,is_uploaded:!1}}))},Ie=async()=>{if(h.cutout.file)try{const y="/public/mock-license/mock-job-id/cutout.jpg";return _(M=>({...M,cutout:{...M.cutout,uploaded_url:y,is_uploaded:!0}})),!0}catch{return v(M=>({...M,cutout_upload:"Failed to upload cutout. Please try again."})),!1}},Ce=(y,M)=>{_(S=>({...S,interview:{...S.interview,[y]:M}})),f[`interview_${y}`]&&v(S=>({...S,[`interview_${y}`]:null}))},Re=y=>{y&&!h.interview.required_documents.includes(y)&&_(M=>({...M,interview:{...M.interview,required_documents:[...M.interview.required_documents,y]}}))},Ze=y=>{_(M=>({...M,interview:{...M.interview,required_documents:M.interview.required_documents.filter(S=>S!==y)}}))},Rt=()=>{const y={id:Date.now(),type:"travel",who_pays:"",is_free:!0,amount:"",currency:"AED",notes:"Interview-related expense"};_(M=>({...M,interview:{...M.interview,expenses:[...M.interview.expenses,y]}}))},Le=y=>{_(M=>({...M,interview:{...M.interview,expenses:M.interview.expenses.filter(S=>S.id!==y)}}))},pt=(y,M,S)=>{_(Pe=>({...Pe,interview:{...Pe.interview,expenses:Pe.interview.expenses.map(Je=>{if(Je.id===y){const b={...Je,[M]:S};return M==="is_free"&&S===!0&&(b.amount="",b.currency="AED"),b}return Je})}}))},he=y=>({0:{title:" Make Your Job Stand Out",tips:["Use clear, specific job titles that candidates actually search for (e.g., 'Head Chef' instead of 'Kitchen Leader')","Include the city name in your posting - workers prefer jobs close to their location","Double-check your LT and Chalani numbers - incorrect numbers can delay your approval","Choose the right announcement type based on your target audience - online postings reach more young workers"]},1:{title:" Create Fair & Attractive Terms",tips:["2-year contracts are most popular - they give workers stability while keeping flexibility for employers","8 hours/day and 6 days/week is the standard that most workers expect in the Gulf region","Offering free accommodation and food makes your job much more attractive than competitors","21+ annual leave days shows you care about work-life balance - this attracts better candidates"]},2:{title:" Price Your Jobs Competitively",tips:["Research current market rates - underpaying by 10% can reduce applications by 50%","Be realistic with vacancy numbers - hiring 20+ people at once is very difficult","Consider offering slightly higher salaries for female positions if you need female workers urgently","Position-specific contract overrides help when you need different terms for senior roles"]},3:{title:" Help Workers Find Your Job",tips:["Add both basic and advanced skills - this helps match workers of different experience levels","Don't ask for too much education - many skilled workers have experience but limited formal education","0-2 years experience requirements get 3x more applications than 5+ years requirements","Choose canonical titles that workers actually use - avoid internal company job titles"]},4:{title:" Be Transparent About Costs",tips:["Clearly stating who pays what builds trust and reduces candidate drop-off","Free medical insurance is highly valued - mention it prominently if you provide it","If workers pay for visa/permits, consider offering reimbursement after 6 months of service","Training expenses paid by company show you're investing in worker development"]},5:{title:" Make a Great First Impression",tips:["High-quality images get 40% more clicks than text-only postings","Show actual workplace photos when possible - workers want to see where they'll work","Include company logo for credibility and brand recognition","Keep file sizes under 2MB for faster loading on mobile devices"]},6:{title:" Plan Your Interview Process",tips:["Schedule interviews within 1-2 weeks to keep good candidates interested","Video interviews save time and money for both you and the candidates","Ask for basic documents only - requesting too many papers scares away good workers","If you cover interview travel costs, mention it - this shows you value their time"]},7:{title:" Ready to Go Live!",tips:["Double-check all salary figures and dates before publishing - corrections after publishing are difficult","Published jobs typically get 80% of their applications in the first 2 weeks","Monitor your job posting performance and be ready to adjust salary or requirements if needed","Good job postings get 20-50 quality applications - if you're getting less, consider improving your offer"]}})[y]||{title:" Keep Going!",tips:["You're doing great! Each step brings you closer to finding the perfect workers for your business."]},Se=y=>{m(y),x(0)},Oe=y=>{_(M=>({...M,bulk_entries:M.bulk_entries.filter(S=>S.id!==y)}))},Be=(y,M,S)=>{_(Pe=>({...Pe,bulk_entries:Pe.bulk_entries.map(Je=>Je.id===y?{...Je,[M]:S}:Je)}))},at=()=>{console.log("Saving partial draft:",h);const y={...h,is_partial:!0,last_completed_step:p,saved_at:new Date().toISOString()};r({type:"partial_draft",data:y}),a()},ht=()=>{if(d==="bulk"){const y={entries:h.bulk_entries.filter(M=>M.country&&M.job_count)};h.editing_bulk_draft_id?(console.log("Updating existing bulk draft with data:",y),r({type:"bulk_edit",data:{...y,id:h.editing_bulk_draft_id,title:h.bulk_draft_title,company:h.bulk_draft_company,description:h.bulk_draft_description}})):(console.log("Creating new bulk drafts with data:",y),r({type:"bulk",data:y})),a()}else{const y=pe(p);if(Object.keys(y).length>0){v(y);return}v({}),x(M=>M+1)}},Fe=()=>{p>0?x(y=>y-1):m("selection")},rt=()=>{const y={};for(let S=0;S<=3;S++){const Pe=pe(S);Object.assign(y,Pe)}if(Object.keys(y).length>0){v(y);for(let S=0;S<=7;S++){const Pe=pe(S);if(Object.keys(Pe).length>0){x(S);break}}return}const M={posting_title:h.posting_title||`${h.positions[0]?.position_title} Position`,country:h.country,employer:h.employer,contract:{period_years:h.period_years,renewable:h.renewable==="yes",hours_per_day:h.hours_per_day,days_per_week:h.days_per_week,overtime_policy:h.overtime_policy,weekly_off_days:h.weekly_off_days,food:h.food,accommodation:h.accommodation,transport:h.transport,annual_leave_days:h.annual_leave_days},positions:h.positions.map(S=>({title:S.position_title,vacancies:{male:S.vacancies_male,female:S.vacancies_female},salary:{monthly_amount:S.monthly_salary,currency:S.currency},contract_overrides:{hours_per_day:S.hours_per_day_override||null,days_per_week:S.days_per_week_override||null,overtime_policy:S.overtime_policy_override||null,weekly_off_days:S.weekly_off_days_override||null,food:S.food_override||null,accommodation:S.accommodation_override||null,transport:S.transport_override||null},notes:S.position_notes||null})),administrative_details:{city:h.city,lt_number:h.lt_number,chalani_number:h.chalani_number,approval_date_ad:h.approval_date_ad,approval_date_bs:h.approval_date_bs,posting_date_ad:h.posting_date_ad,posting_date_bs:h.posting_date_bs,date_format:h.date_format,announcement_type:h.announcement_type,notes:h.notes},tags_and_requirements:{skills:h.skills,education_requirements:h.education_requirements,experience_requirements:h.experience_requirements,canonical_title_ids:h.canonical_title_ids,canonical_title_names:h.canonical_title_names},expenses:h.expenses?.filter(S=>S.type&&S.who_pays).map(S=>({type:S.type,who_pays:S.who_pays,is_free:S.is_free,amount:S.is_free?null:S.amount,currency:S.is_free?null:S.currency,notes:S.notes}))||[],interview:h.interview?.date_ad||h.interview?.date_bs?{date_ad:h.interview.date_ad,date_bs:h.interview.date_bs,date_format:h.interview.date_format,time:h.interview.time,location:h.interview.location,contact_person:h.interview.contact_person,required_documents:h.interview.required_documents,notes:h.interview.notes,expenses:h.interview.expenses?.filter(S=>S.type&&S.who_pays)||[]}:null,cutout:h.cutout?.file||h.cutout?.uploaded_url?{has_file:!!(h.cutout.file||h.cutout.uploaded_url),is_uploaded:h.cutout.is_uploaded,file_name:h.cutout.file?.name||null,file_size:h.cutout.file?.size||null,file_type:h.cutout.file?.type||null}:null};console.log("Publishing job with API-compatible data:",M),r({type:"single_publish",data:M,original_form_data:h}),a()},qs=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mb-3",children:e.jsx(Ot,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create Job Draft"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Choose how you'd like to create your job posting"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{onClick:()=>Se("single"),className:`group relative p-6 border-2 rounded-lg cursor-pointer transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg ${d==="single"?"border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 shadow-md":"border-gray-200 bg-white hover:border-blue-300 hover:bg-gradient-to-br hover:from-blue-50 hover:to-blue-100 shadow-sm"}`,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${d==="single"?"bg-blue-500 text-white":"bg-blue-100 text-blue-600 group-hover:bg-blue-500 group-hover:text-white"}`,children:e.jsx(Ot,{className:"w-6 h-6"})}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${d==="single"?"bg-blue-500 text-white":"bg-blue-100 text-blue-700"}`,children:"Recommended"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Draft Creation"}),e.jsx("p",{className:"text-gray-600 mb-3 text-sm leading-relaxed",children:"Create a single job posting with detailed information through our 7-step process"})]}),e.jsx("div",{className:"bg-white/70 rounded-lg p-3 border border-blue-200",children:e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Process:"})," Single detailed job  Complete steps  Publish"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mr-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Best for:"})," Detailed job specifications"]})]})]})})]}),d==="single"&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),e.jsxs("div",{onClick:()=>Se("bulk"),className:`group relative p-6 border-2 rounded-lg cursor-pointer transition-all duration-300 transform hover:scale-[1.02] hover:shadow-lg ${d==="bulk"?"border-green-500 bg-gradient-to-br from-green-50 to-green-100 shadow-md":"border-gray-200 bg-white hover:border-green-300 hover:bg-gradient-to-br hover:from-green-50 hover:to-green-100 shadow-sm"}`,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`p-2 rounded-lg transition-colors ${d==="bulk"?"bg-green-500 text-white":"bg-green-100 text-green-600 group-hover:bg-green-500 group-hover:text-white"}`,children:e.jsx(_t,{className:"w-6 h-6"})}),e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${d==="bulk"?"bg-green-500 text-white":"bg-green-100 text-green-700"}`,children:"Quick Setup"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Bulk Create Drafts"}),e.jsx("p",{className:"text-gray-600 mb-3 text-sm leading-relaxed",children:"Create multiple job drafts quickly by specifying countries and quantities"})]}),e.jsx("div",{className:"bg-white/70 rounded-lg p-3 border border-green-200",children:e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Example:"}),' \\"12 from UAE, 3 from Malaysia\\"']})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Best for:"})," Multiple similar positions"]})]})]})})]}),d==="bulk"&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]})]}),d&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" AI Insights"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d==="single"?"Comprehensive 8-step process for detailed job postings with high conversion rates":"Efficient batch creation strategy for scaling recruitment across multiple locations"})]}),d==="single"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"flex items-center justify-between min-w-max px-4",children:F.map((y,M)=>{const S=y.icon;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-blue-300 flex items-center justify-center",children:e.jsx(S,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"mt-2 text-center",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900",children:y.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y.description})]})]}),M<F.length-1&&e.jsx("div",{className:"w-16 h-0.5 bg-blue-200 mx-4 mt-[-20px]"})]},y.id)})})}),d==="bulk"&&e.jsx("div",{className:"bg-green-50 rounded-lg p-6 border border-green-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"1"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Create Bulk Drafts"})]}),e.jsx(sn,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"2"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Fill Details Individually"})]}),e.jsx(sn,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"3"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Publish from Draft List"})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-4 border border-green-300",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-green-700 mb-1",children:" Speed"}),e.jsx("div",{className:"text-gray-600",children:"Create 10+ drafts in under 2 minutes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-green-700 mb-1",children:" Efficiency"}),e.jsx("div",{className:"text-gray-600",children:"Perfect for multi-location hiring"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-green-700 mb-1",children:" Scale"}),e.jsx("div",{className:"text-gray-600",children:"Ideal for 5+ similar positions"})]})]})})]})})]})]}),aa=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bulk Create Drafts"}),e.jsx("p",{className:"text-gray-600",children:"Create multiple job drafts quickly and efficiently"})]}),e.jsx("button",{onClick:()=>m("selection"),className:"px-4 py-2 border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 rounded-md transition-colors shadow-sm",children:"Back to Selection"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create Bulk Drafts"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Specify the country, number of jobs, and position type to create multiple drafts"}),e.jsx("div",{className:"space-y-4",children:h.bulk_entries.map((y,M)=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Bulk Entry #",M+1]}),h.bulk_entries.length>1&&e.jsx("button",{onClick:()=>Oe(y.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Country ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:y.country,onChange:S=>Be(y.id,"country",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select country"}),I.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["No of Jobs ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",min:"1",max:"50",value:y.job_count,onChange:S=>Be(y.id,"job_count",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 12"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position ",e.jsx("span",{className:"text-gray-500",children:"(Optional)"})]}),e.jsxs("select",{value:y.position,onChange:S=>Be(y.id,"position",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select position"}),e.jsx("option",{value:"Security Guard",children:"Security Guard"}),e.jsx("option",{value:"Cook",children:"Cook"}),e.jsx("option",{value:"Cleaner",children:"Cleaner"}),e.jsx("option",{value:"Driver",children:"Driver"}),e.jsx("option",{value:"Helper",children:"Helper"}),e.jsx("option",{value:"Technician",children:"Technician"}),e.jsx("option",{value:"Supervisor",children:"Supervisor"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Engineer",children:"Engineer"}),e.jsx("option",{value:"Accountant",children:"Accountant"})]})]})]})]},y.id))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsxs("button",{onClick:()=>m("selection"),className:"flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(Bl,{className:"w-4 h-4 mr-2"}),"Go Back to Selection"]}),(()=>{const y=h.bulk_entries.filter(Pe=>Pe.country&&Pe.job_count),M=y.reduce((Pe,Je)=>Pe+(parseInt(Je.job_count)||0),0),S=y.length>0;return e.jsxs("div",{className:"flex items-center space-x-4",children:[S&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Total: ",M," job",M!==1?"s":""," from ",y.length," entr",y.length!==1?"ies":"y"]}),e.jsxs("button",{onClick:ht,disabled:!S,className:"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:["Generate ",M," Job Draft",M!==1?"s":"",e.jsx(sn,{className:"w-4 h-4 ml-2"})]})]})})()]})]}),ra=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Job Draft"}),e.jsxs("p",{className:"text-gray-600",children:["Step ",p+1," of ",F.length,": ",F[p]?.description]})]}),e.jsx("button",{onClick:()=>m("selection"),className:"px-4 py-2 border border-gray-300 text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 rounded-md transition-colors shadow-sm",children:"Back to Selection"})]}),e.jsx("div",{className:"border-b border-gray-200 pb-4",children:e.jsx("div",{className:"flex items-center justify-between",children:F.map((y,M)=>{const S=y.icon,Pe=M===p,Je=M<p;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full border-2 ${Je?"bg-green-100 border-green-500 text-green-700":Pe?"bg-blue-100 border-blue-500 text-blue-700":"bg-gray-100 border-gray-300 text-gray-500"}`,children:e.jsx(S,{className:"w-4 h-4"})}),e.jsx("div",{className:"ml-2 hidden sm:block",children:e.jsx("p",{className:`text-xs font-medium ${Pe?"text-blue-700":Je?"text-green-700":"text-gray-500"}`,children:y.title})}),M<F.length-1&&e.jsx("div",{className:"w-8 h-0.5 bg-gray-300 mx-2"})]},y.id)})})}),e.jsxs("div",{className:"min-h-[400px]",children:[p===0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Administrative Details"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enrich the draft posting with administrative details via a partial update (PATCH) to the posting."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Select the city where the job will be located"})]}),e.jsxs("select",{value:h.city,onChange:y=>L("city",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.city?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select a city"}),h.country&&E[h.country]?.map(y=>e.jsx("option",{value:y,children:y},y))]}),f.city&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.city}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., Dubai"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["LT Number ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Labor Token Number issued by the government"})]}),e.jsx("input",{type:"text",value:h.lt_number,onChange:y=>L("lt_number",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.lt_number?"border-red-500":"border-gray-300"}`,placeholder:"Enter LT Number"}),f.lt_number&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.lt_number}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., LT-2024-001"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chalani Number ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Government chalani/reference number"})]}),e.jsx("input",{type:"text",value:h.chalani_number,onChange:y=>L("chalani_number",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.chalani_number?"border-red-500":"border-gray-300"}`,placeholder:"Enter Chalani Number"}),f.chalani_number&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.chalani_number}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., CH-2024-001"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date Format ",e.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Optional)"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Choose between Gregorian (AD) or Bikram Sambat (BS) calendar"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"date_format",value:"AD",checked:h.date_format==="AD",onChange:y=>L("date_format",y.target.value),className:"mr-2"}),"AD (Gregorian)"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"date_format",value:"BS",checked:h.date_format==="BS",onChange:y=>L("date_format",y.target.value),className:"mr-2"}),"BS (Bikram Sambat)"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Approval Date (",h.date_format,") ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Date when the job posting was approved by authorities"})]}),e.jsx("input",{type:"date",value:h.date_format==="AD"?h.approval_date_ad:h.approval_date_bs,onChange:y=>L(h.date_format==="AD"?"approval_date_ad":"approval_date_bs",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.approval_date_ad||f.approval_date_bs?"border-red-500":"border-gray-300"}`}),(f.approval_date_ad||f.approval_date_bs)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.approval_date_ad||f.approval_date_bs}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["e.g., ",h.date_format==="AD"?"2025-09-12":"2082-05-28"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Posting Date (",h.date_format,") ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Date when the job will be posted/published"})]}),e.jsx("input",{type:"date",value:h.date_format==="AD"?h.posting_date_ad:h.posting_date_bs,onChange:y=>L(h.date_format==="AD"?"posting_date_ad":"posting_date_bs",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.posting_date_ad||f.posting_date_bs?"border-red-500":"border-gray-300"}`}),(f.posting_date_ad||f.posting_date_bs)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.posting_date_ad||f.posting_date_bs}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["e.g., ",h.date_format==="AD"?"2025-09-12":"2082-05-28"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Announcement Type ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Medium through which the job will be announced"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:$.map(y=>e.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"announcement_type",value:y.value,checked:h.announcement_type===y.value,onChange:M=>L("announcement_type",M.target.value),className:"mr-3"}),e.jsx("span",{className:"text-sm",children:y.label})]},y.value))}),f.announcement_type&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.announcement_type}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., Newspaper, Online, Agency Board"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Notes ",e.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Optional)"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Additional administrative remarks or special instructions"})]}),e.jsx("textarea",{rows:4,value:h.notes,onChange:y=>L("notes",y.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional administrative remarks..."}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., Additional administrative remarks"})]})]}),p===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contract Details"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Define the employment terms for the job posting."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Period Years ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:h.period_years,onChange:y=>L("period_years",parseInt(y.target.value)||0),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.period_years?"border-red-500":"border-gray-300"}`,placeholder:"2",min:"1",max:"10"}),f.period_years&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.period_years}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 2"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Renewable ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"renewable",value:"yes",checked:h.renewable==="yes",onChange:y=>L("renewable","yes"),className:"mr-2 text-blue-600"}),"Yes"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"renewable",value:"no",checked:h.renewable==="no",onChange:y=>L("renewable","no"),className:"mr-2 text-blue-600"}),"No"]})]}),f.renewable&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.renewable})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hours Per Day ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:h.hours_per_day,onChange:y=>L("hours_per_day",parseInt(y.target.value)||0),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.hours_per_day?"border-red-500":"border-gray-300"}`,placeholder:"8",min:"1",max:"16"}),f.hours_per_day&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.hours_per_day}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 8"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Days Per Week ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:h.days_per_week,onChange:y=>L("days_per_week",parseInt(y.target.value)||0),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.days_per_week?"border-red-500":"border-gray-300"}`,placeholder:"6",min:"1",max:"7"}),f.days_per_week&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.days_per_week}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 6"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Overtime Policy ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:h.overtime_policy,onChange:y=>L("overtime_policy",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.overtime_policy?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"as_per_company_policy",children:"As per company policy"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"unpaid",children:"Unpaid"}),e.jsx("option",{value:"not_applicable",children:"Not applicable"})]}),f.overtime_policy&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.overtime_policy})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Weekly Off Days ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:h.weekly_off_days,onChange:y=>L("weekly_off_days",parseInt(y.target.value)||0),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.weekly_off_days?"border-red-500":"border-gray-300"}`,placeholder:"1",min:"0",max:"7"}),f.weekly_off_days&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.weekly_off_days}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Food ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:h.food,onChange:y=>L("food",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.food?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"not_provided",children:"Not provided"})]}),f.food&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.food})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Accommodation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:h.accommodation,onChange:y=>L("accommodation",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.accommodation?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"not_provided",children:"Not provided"})]}),f.accommodation&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.accommodation})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Transport ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:h.transport,onChange:y=>L("transport",y.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.transport?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"not_provided",children:"Not provided"})]}),f.transport&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.transport})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Annual Leave Days ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:h.annual_leave_days,onChange:y=>L("annual_leave_days",parseInt(y.target.value)||0),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.annual_leave_days?"border-red-500":"border-gray-300"}`,placeholder:"21",min:"0",max:"365"}),f.annual_leave_days&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.annual_leave_days}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 21"})]})]})]}),p===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Job Positions"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Define one or more job positions, including salary and optional overrides for contract terms."})]}),f.positions_general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("p",{className:"text-red-600 text-sm",children:f.positions_general})}),h.positions.map((y,M)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-md font-medium text-gray-800",children:["Position ",M+1]}),h.positions.length>1&&e.jsx("button",{onClick:()=>D(y.id),className:"text-red-600 hover:text-red-800 text-sm px-3 py-1 border border-red-300 rounded-md hover:bg-red-50",children:"Remove Position"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Position Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:y.position_title,onChange:S=>H(y.id,"position_title",S.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`positions_${y.id}_position_title`]?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Cook"}),f[`positions_${y.id}_position_title`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`positions_${y.id}_position_title`]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vacancies (Male) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:y.vacancies_male,onChange:S=>H(y.id,"vacancies_male",parseInt(S.target.value)||0),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`positions_${y.id}_vacancies_male`]?"border-red-500":"border-gray-300"}`,placeholder:"5",min:"0"}),f[`positions_${y.id}_vacancies_male`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`positions_${y.id}_vacancies_male`]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 5"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vacancies (Female) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:y.vacancies_female,onChange:S=>H(y.id,"vacancies_female",parseInt(S.target.value)||0),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`positions_${y.id}_vacancies_female`]?"border-red-500":"border-gray-300"}`,placeholder:"3",min:"0"}),f[`positions_${y.id}_vacancies_female`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`positions_${y.id}_vacancies_female`]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 3"})]}),f[`positions_${y.id}_vacancies_total`]&&e.jsx("div",{className:"md:col-span-2",children:e.jsx("p",{className:"text-red-500 text-xs",children:f[`positions_${y.id}_vacancies_total`]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Monthly Salary ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:y.monthly_salary,onChange:S=>H(y.id,"monthly_salary",parseInt(S.target.value)||0),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`positions_${y.id}_monthly_salary`]?"border-red-500":"border-gray-300"}`,placeholder:"1800",min:"1"}),f[`positions_${y.id}_monthly_salary`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`positions_${y.id}_monthly_salary`]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 1800"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Currency ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:y.currency,onChange:S=>H(y.id,"currency",S.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`positions_${y.id}_currency`]?"border-red-500":"border-gray-300"}`,children:O.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))}),f[`positions_${y.id}_currency`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`positions_${y.id}_currency`]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-4",children:"Contract Term Overrides (Optional)"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Override default contract terms for this specific position. Leave blank to use defaults from Contract step."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hours Per Day Override"}),e.jsx("input",{type:"number",value:y.hours_per_day_override,onChange:S=>H(y.id,"hours_per_day_override",S.target.value?parseInt(S.target.value):""),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`positions_${y.id}_hours_per_day_override`]?"border-red-500":"border-gray-300"}`,placeholder:`Default: ${h.hours_per_day}`,min:"1",max:"16"}),f[`positions_${y.id}_hours_per_day_override`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`positions_${y.id}_hours_per_day_override`]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 9"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Days Per Week Override"}),e.jsx("input",{type:"number",value:y.days_per_week_override,onChange:S=>H(y.id,"days_per_week_override",S.target.value?parseInt(S.target.value):""),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`positions_${y.id}_days_per_week_override`]?"border-red-500":"border-gray-300"}`,placeholder:`Default: ${h.days_per_week}`,min:"1",max:"7"}),f[`positions_${y.id}_days_per_week_override`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`positions_${y.id}_days_per_week_override`]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overtime Policy Override"}),e.jsxs("select",{value:y.overtime_policy_override,onChange:S=>H(y.id,"overtime_policy_override",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("option",{value:"",children:["Use default (",z.find(S=>S.value===h.overtime_policy)?.label,")"]}),z.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weekly Off Days Override"}),e.jsx("input",{type:"number",value:y.weekly_off_days_override,onChange:S=>H(y.id,"weekly_off_days_override",S.target.value?parseInt(S.target.value):""),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`positions_${y.id}_weekly_off_days_override`]?"border-red-500":"border-gray-300"}`,placeholder:`Default: ${h.weekly_off_days}`,min:"0",max:"7"}),f[`positions_${y.id}_weekly_off_days_override`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`positions_${y.id}_weekly_off_days_override`]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Override"}),e.jsxs("select",{value:y.food_override,onChange:S=>H(y.id,"food_override",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("option",{value:"",children:["Use default (",R.find(S=>S.value===h.food)?.label,")"]}),R.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accommodation Override"}),e.jsxs("select",{value:y.accommodation_override,onChange:S=>H(y.id,"accommodation_override",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("option",{value:"",children:["Use default (",R.find(S=>S.value===h.accommodation)?.label,")"]}),R.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transport Override"}),e.jsxs("select",{value:y.transport_override,onChange:S=>H(y.id,"transport_override",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsxs("option",{value:"",children:["Use default (",R.find(S=>S.value===h.transport)?.label,")"]}),R.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position Notes"}),e.jsx("textarea",{rows:3,value:y.position_notes,onChange:S=>H(y.id,"position_notes",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"e.g., Specific requirements for this position"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional notes specific to this position"})]})]})]})]},y.id)),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:V,className:"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Add Another Position"]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ka,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:" Pro Tip"}),e.jsx("p",{children:"You can override contract terms for individual positions. If left blank, the general contract terms will apply."})]})]})})]}),p===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags & Canonical Titles"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Add skills, education, experience requirements, and canonical job titles."})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Skills ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Required skills and competencies for this job"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:h.skills.map((y,M)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[y,e.jsx("button",{onClick:()=>re("skills",y),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]},M))}),e.jsxs("select",{onChange:y=>{y.target.value&&(w("skills",y.target.value),y.target.value="")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a skill to add..."}),K.filter(y=>!h.skills.includes(y)).map(y=>e.jsx("option",{value:y,children:y},y))]}),f.skills&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.skills}),e.jsx("p",{className:"text-xs text-gray-500",children:"e.g., Cooking, Customer Service"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Education Requirements ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Minimum educational qualifications required"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:h.education_requirements.map((y,M)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[y,e.jsx("button",{onClick:()=>re("education_requirements",y),className:"ml-2 text-green-600 hover:text-green-800",children:""})]},M))}),e.jsxs("select",{onChange:y=>{y.target.value&&(w("education_requirements",y.target.value),y.target.value="")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select an education requirement to add..."}),Z.filter(y=>!h.education_requirements.includes(y)).map(y=>e.jsx("option",{value:y,children:y},y))]}),f.education_requirements&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.education_requirements}),e.jsx("p",{className:"text-xs text-gray-500",children:"e.g., High School, Vocational Training"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-4",children:"Experience Requirements"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Minimum Years ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:h.experience_requirements.min_years,onChange:y=>{_(M=>({...M,experience_requirements:{...M.experience_requirements,min_years:parseInt(y.target.value)||0}})),f.experience_min_years&&v(M=>({...M,experience_min_years:null}))},className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.experience_min_years?"border-red-500":"border-gray-300"}`,placeholder:"2",min:"0"}),f.experience_min_years&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.experience_min_years}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Years (Optional)"}),e.jsx("input",{type:"number",value:h.experience_requirements.preferred_years,onChange:y=>_(M=>({...M,experience_requirements:{...M.experience_requirements,preferred_years:y.target.value?parseInt(y.target.value):""}})),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.experience_preferred_years?"border-red-500":"border-gray-300"}`,placeholder:"5",min:h.experience_requirements.min_years}),f.experience_preferred_years&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.experience_preferred_years}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 5"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Domains ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:h.experience_requirements.domains.map((y,M)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[y,e.jsx("button",{onClick:()=>k(y),className:"ml-2 text-purple-600 hover:text-purple-800",children:""})]},M))}),e.jsxs("select",{onChange:y=>{y.target.value&&(Y(y.target.value),y.target.value="")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a domain to add..."}),ee.filter(y=>!h.experience_requirements.domains.includes(y)).map(y=>e.jsx("option",{value:y,children:y},y))]}),f.experience_domains&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.experience_domains}),e.jsx("p",{className:"text-xs text-gray-500",children:"e.g., Hospitality, Culinary"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Canonical Job Titles ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:h.canonical_title_names.map((y,M)=>{const S=h.canonical_title_ids[M],Pe=te.find(Je=>Je.id===S);return e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:[y," ",Pe&&e.jsxs("span",{className:"ml-1 text-indigo-600",children:["(",Pe.category,")"]}),e.jsx("button",{onClick:()=>C(S),className:"ml-2 text-indigo-600 hover:text-indigo-800",children:""})]},S)})}),e.jsxs("select",{onChange:y=>{if(y.target.value){const M=te.find(S=>S.id===parseInt(y.target.value));M&&(W(M),y.target.value="")}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a canonical job title to add..."}),te.filter(y=>!h.canonical_title_ids.includes(y.id)).map(y=>e.jsxs("option",{value:y.id,children:[y.name," (",y.category,")"]},y.id))]}),f.canonical_titles&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.canonical_titles}),e.jsx("p",{className:"text-xs text-gray-500",children:"e.g., Professional Cook, Security Guard"})]})]})]})]}),p===7&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review and Publish"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Review all entered information and publish your job posting when ready."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Basic Job Information"}),e.jsxs("button",{onClick:()=>x(0),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Posting Title:"})," ",e.jsx("span",{className:"ml-2",children:h.posting_title||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Country:"})," ",e.jsx("span",{className:"ml-2",children:h.country||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Employer:"})," ",e.jsx("span",{className:"ml-2",children:h.employer||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contract Period:"})," ",e.jsxs("span",{className:"ml-2",children:[h.period_years," years"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Positions:"}),e.jsx("span",{className:"ml-2",children:h.positions.filter(y=>y.position_title).map(y=>`${y.position_title} (${y.monthly_salary} ${y.currency})`).join(", ")||"No positions defined"})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Posting Details"}),e.jsxs("button",{onClick:()=>x(0),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"City:"})," ",e.jsx("span",{className:"ml-2",children:h.city||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"LT Number:"})," ",e.jsx("span",{className:"ml-2",children:h.lt_number||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Chalani Number:"})," ",e.jsx("span",{className:"ml-2",children:h.chalani_number||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Approval Date:"})," ",e.jsxs("span",{className:"ml-2",children:[h.date_format==="AD"?h.approval_date_ad:h.approval_date_bs||"Not specified",(h.approval_date_ad||h.approval_date_bs)&&` (${h.date_format})`]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Posting Date:"})," ",e.jsxs("span",{className:"ml-2",children:[h.date_format==="AD"?h.posting_date_ad:h.posting_date_bs||"Not specified",(h.posting_date_ad||h.posting_date_bs)&&` (${h.date_format})`]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Announcement Type:"})," ",e.jsx("span",{className:"ml-2",children:h.announcement_type||"Not specified"})]}),h.notes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," ",e.jsx("span",{className:"ml-2",children:h.notes})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Contract Terms"}),e.jsxs("button",{onClick:()=>x(1),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Period Years:"})," ",e.jsx("span",{className:"ml-2",children:h.period_years})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Renewable:"})," ",e.jsx("span",{className:"ml-2",children:h.renewable==="yes"?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Hours Per Day:"})," ",e.jsx("span",{className:"ml-2",children:h.hours_per_day})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Days Per Week:"})," ",e.jsx("span",{className:"ml-2",children:h.days_per_week})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Overtime Policy:"})," ",e.jsx("span",{className:"ml-2",children:z.find(y=>y.value===h.overtime_policy)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Weekly Off Days:"})," ",e.jsx("span",{className:"ml-2",children:h.weekly_off_days})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Food:"})," ",e.jsx("span",{className:"ml-2",children:R.find(y=>y.value===h.food)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Accommodation:"})," ",e.jsx("span",{className:"ml-2",children:R.find(y=>y.value===h.accommodation)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Transport:"})," ",e.jsx("span",{className:"ml-2",children:R.find(y=>y.value===h.transport)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Annual Leave Days:"})," ",e.jsx("span",{className:"ml-2",children:h.annual_leave_days})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-md font-medium text-gray-800",children:["Job Positions (",h.positions.length,")"]}),e.jsxs("button",{onClick:()=>x(2),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsx("div",{className:"space-y-4",children:h.positions.map((y,M)=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Title:"})," ",e.jsx("span",{className:"ml-2",children:y.position_title||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Salary:"})," ",e.jsxs("span",{className:"ml-2",children:[y.monthly_salary," ",y.currency]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Vacancies (M/F):"})," ",e.jsxs("span",{className:"ml-2",children:[y.vacancies_male,"/",y.vacancies_female]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total Vacancies:"})," ",e.jsx("span",{className:"ml-2",children:y.vacancies_male+y.vacancies_female})]}),(y.hours_per_day_override||y.days_per_week_override||y.overtime_policy_override||y.weekly_off_days_override||y.food_override||y.accommodation_override||y.transport_override)&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Overrides:"}),e.jsx("span",{className:"ml-2",children:[y.hours_per_day_override&&`Hours: ${y.hours_per_day_override}`,y.days_per_week_override&&`Days: ${y.days_per_week_override}`,y.overtime_policy_override&&`Overtime: ${y.overtime_policy_override}`,y.weekly_off_days_override&&`Off Days: ${y.weekly_off_days_override}`,y.food_override&&`Food: ${y.food_override}`,y.accommodation_override&&`Accommodation: ${y.accommodation_override}`,y.transport_override&&`Transport: ${y.transport_override}`].filter(Boolean).join(", ")})]}),y.position_notes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," ",e.jsx("span",{className:"ml-2",children:y.position_notes})]})]})},y.id))})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Tags & Canonical Titles"}),e.jsxs("button",{onClick:()=>x(3),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Skills:"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:h.skills.length>0?h.skills.map(y=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:y},y)):e.jsx("span",{className:"text-gray-500",children:"No skills specified"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Education Requirements:"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:h.education_requirements.length>0?h.education_requirements.map(y=>e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:y},y)):e.jsx("span",{className:"text-gray-500",children:"No education requirements specified"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Experience:"}),e.jsxs("span",{className:"ml-2",children:["Min: ",h.experience_requirements.min_years," years",h.experience_requirements.preferred_years&&`, Preferred: ${h.experience_requirements.preferred_years} years`]}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:h.experience_requirements.domains.length>0?h.experience_requirements.domains.map(y=>e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:y},y)):e.jsx("span",{className:"text-gray-500",children:"No domains specified"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Canonical Titles:"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:h.canonical_title_names.length>0?h.canonical_title_names.map(y=>e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 rounded-full text-xs",children:y},y)):e.jsx("span",{className:"text-gray-500",children:"No canonical titles specified"})})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-md font-medium text-gray-800",children:["Expenses (",h.expenses.length,")"]}),e.jsxs("button",{onClick:()=>x(4),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"space-y-3",children:[h.expenses.map((y,M)=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",e.jsx("span",{className:"ml-2",children:Q.find(S=>S.value===y.type)?.label||y.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Who Pays:"})," ",e.jsx("span",{className:"ml-2",children:se.find(S=>S.value===y.who_pays)?.label||y.who_pays})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Cost:"})," ",e.jsx("span",{className:"ml-2",children:y.is_free?"Free":`${y.amount} ${y.currency}`})]}),y.notes&&e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," ",e.jsx("span",{className:"ml-2",children:y.notes})]})]})},y.id)),h.expenses.length===0&&e.jsx("p",{className:"text-gray-500 text-sm",children:"No expenses specified"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Job Advertisement Image"}),e.jsxs("button",{onClick:()=>x(5),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),h.cutout.preview_url||h.cutout.uploaded_url?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("img",{src:h.cutout.preview_url||h.cutout.uploaded_url,alt:"Job Advertisement",className:"w-24 h-24 object-cover rounded-lg border border-gray-300"}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Status:"})," ",e.jsx("span",{className:"ml-2",children:h.cutout.is_uploaded?"Uploaded":"Ready to Upload"})]}),h.cutout.file&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"File:"})," ",e.jsx("span",{className:"ml-2",children:h.cutout.file.name})]})]})]}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No cutout uploaded"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Interview Process"}),e.jsxs("button",{onClick:()=>x(6),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),h.interview.date_ad||h.interview.date_bs||h.interview.time||h.interview.location||h.interview.contact_person||h.interview.required_documents.length>0||h.interview.notes||h.interview.expenses.length>0?e.jsxs("div",{className:"space-y-3 text-sm",children:[(h.interview.date_ad||h.interview.date_bs)&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date:"})," ",e.jsxs("span",{className:"ml-2",children:[h.interview.date_format==="AD"?h.interview.date_ad:h.interview.date_bs,` (${h.interview.date_format})`]})]}),h.interview.time&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Time:"})," ",e.jsx("span",{className:"ml-2",children:h.interview.time})]}),h.interview.location&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",e.jsx("span",{className:"ml-2",children:h.interview.location})]}),h.interview.contact_person&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact Person:"})," ",e.jsx("span",{className:"ml-2",children:h.interview.contact_person})]}),h.interview.required_documents.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Required Documents:"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:h.interview.required_documents.map(y=>e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded-full text-xs",children:y},y))})]}),h.interview.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," ",e.jsx("span",{className:"ml-2",children:h.interview.notes})]}),h.interview.expenses.length>0&&e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium",children:["Interview Expenses (",h.interview.expenses.length,"):"]}),e.jsx("div",{className:"mt-2 space-y-2",children:h.interview.expenses.map((y,M)=>e.jsx("div",{className:"bg-gray-50 rounded p-2",children:e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{className:"font-medium",children:Q.find(S=>S.value===y.type)?.label}),e.jsxs("span",{className:"ml-2",children:["(",se.find(S=>S.value===y.who_pays)?.label,")"]}),e.jsx("span",{className:"ml-2",children:y.is_free?"Free":`${y.amount} ${y.currency}`})]})},y.id))})]})]}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No interview details specified"})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>{r({type:"draft",data:h})},className:"flex items-center px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsx(ya,{className:"w-4 h-4 mr-2"}),"Save as Draft"]}),e.jsxs("button",{onClick:()=>{r({type:"publish",data:h}),a()},className:"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(ud,{className:"w-4 h-4 mr-2"}),"Publish Job Posting"]})]})]})]}),p===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Expenses"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Attach cost-related details (e.g., medical, insurance, travel) to the posting."})]}),f.expenses_general&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:e.jsx("p",{className:"text-red-600 text-sm",children:f.expenses_general})}),h.expenses.map((y,M)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-md font-medium text-gray-800",children:["Expense ",M+1]}),h.expenses.length>1&&e.jsx("button",{onClick:()=>oe(y.id),className:"text-red-600 hover:text-red-800 text-sm px-3 py-1 border border-red-300 rounded-md hover:bg-red-50",children:"Remove Expense"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Expense Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:y.type,onChange:S=>ue(y.id,"type",S.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`expenses_${y.id}_type`]?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select expense type"}),Q.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]}),f[`expenses_${y.id}_type`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`expenses_${y.id}_type`]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Who Pays ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:y.who_pays,onChange:S=>ue(y.id,"who_pays",S.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`expenses_${y.id}_who_pays`]?"border-red-500":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select who pays"}),se.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]}),f[`expenses_${y.id}_who_pays`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`expenses_${y.id}_who_pays`]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Is Free ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`is_free_${y.id}`,value:"true",checked:y.is_free===!0,onChange:S=>ue(y.id,"is_free",!0),className:"mr-2 text-blue-600"}),"Yes"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:`is_free_${y.id}`,value:"false",checked:y.is_free===!1,onChange:S=>ue(y.id,"is_free",!1),className:"mr-2 text-blue-600"}),"No"]})]})]}),y.is_free===!1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:y.amount,onChange:S=>ue(y.id,"amount",parseFloat(S.target.value)||""),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`expenses_${y.id}_amount`]?"border-red-500":"border-gray-300"}`,placeholder:"500",min:"0",step:"0.01"}),f[`expenses_${y.id}_amount`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`expenses_${y.id}_amount`]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Currency ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{value:y.currency,onChange:S=>ue(y.id,"currency",S.target.value),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f[`expenses_${y.id}_currency`]?"border-red-500":"border-gray-300"}`,children:O.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))}),f[`expenses_${y.id}_currency`]&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f[`expenses_${y.id}_currency`]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{rows:3,value:y.notes,onChange:S=>ue(y.id,"notes",S.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"e.g., Covers annual medical checkup"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional details about this expense"})]})]})]},y.id)),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:U,className:"flex items-center px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Add Another Expense"]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ka,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:" Cost Management"}),e.jsx("p",{children:"This step is optional. Add expenses only if they are specific costs that candidates or the company needs to cover."})]})]})})]}),p===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Job Advertisement Image"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Upload and manage the job advertisement image (e.g., newspaper scan)."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload File ",e.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Optional)"}),e.jsx(Ws,{className:"inline w-4 h-4 ml-1 text-gray-400 cursor-help",title:"Upload a job advertisement image like a newspaper scan or digital poster"})]}),e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 hover:border-gray-400 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Nr,{className:"w-8 h-8 mb-4 text-gray-500"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG (MAX. 10MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:".jpg,.jpeg,.png",onChange:ge})]})})}),f.cutout_file&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.cutout_file}),f.cutout_upload&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.cutout_upload}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: JPG, PNG. Maximum file size: 10MB"})]}),(h.cutout.preview_url||h.cutout.uploaded_url)&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Image Preview"}),e.jsxs("div",{className:"flex space-x-2",children:[h.cutout.file&&!h.cutout.is_uploaded&&e.jsxs("button",{onClick:Ie,className:"flex items-center px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Upload"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to remove this image? (Soft delete - file remains on disk)")&&ve(!1)},className:"flex items-center px-3 py-1 bg-yellow-600 text-white text-sm rounded-md hover:bg-yellow-700 transition-colors",title:"Soft Delete (file remains on disk)",children:[e.jsx(Xt,{className:"w-4 h-4 mr-1"}),"Soft Remove"]}),e.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to permanently delete this image? This action cannot be undone.")&&ve(!0)},className:"flex items-center px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 transition-colors",title:"Hard Delete (permanently delete file)",children:[e.jsx(fr,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsx("img",{src:h.cutout.preview_url||h.cutout.uploaded_url,alt:"Job Advertisement",className:"w-full h-auto rounded-lg shadow-lg border border-gray-300",style:{maxHeight:"400px",objectFit:"contain"}})})}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[h.cutout.file&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"File Name:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:h.cutout.file.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"File Size:"}),e.jsxs("span",{className:"ml-2 text-gray-600",children:[(h.cutout.file.size/1024/1024).toFixed(2)," MB"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"File Type:"}),e.jsx("span",{className:"ml-2 text-gray-600",children:h.cutout.file.type})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${h.cutout.is_uploaded?"bg-green-100 text-green-800":h.cutout.file?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.cutout.is_uploaded?"Uploaded":h.cutout.file?"Ready to Upload":"No File"})]})]})})]})]})]}),p===6&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Interview Process"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Provide details for the interview process.",e.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"All fields in this section are optional."})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-4",children:"Date & Time"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Format"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"interview_date_format",value:"AD",checked:h.interview.date_format==="AD",onChange:y=>Ce("date_format","AD"),className:"mr-2 text-blue-600"}),"AD (Gregorian)"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"interview_date_format",value:"BS",checked:h.interview.date_format==="BS",onChange:y=>Ce("date_format","BS"),className:"mr-2 text-blue-600"}),"BS (Bikram Sambat)"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Interview Date (",h.interview.date_format,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"date",value:h.interview.date_format==="AD"?h.interview.date_ad:h.interview.date_bs,onChange:y=>Ce(h.interview.date_format==="AD"?"date_ad":"date_bs",y.target.value),className:`w-full pl-10 border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.interview_date?"border-red-500":"border-gray-300"}`})]}),f.interview_date&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.interview_date}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["e.g., ",h.interview.date_format==="AD"?"2025-09-20":"2082-06-05"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interview Time"}),e.jsxs("div",{className:"relative",children:[e.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:h.interview.time,onChange:y=>Ce("time",y.target.value),className:`w-full pl-10 border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${f.interview_time?"border-red-500":"border-gray-300"}`,placeholder:"10:00 AM"})]}),f.interview_time&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:f.interview_time}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 10:00 AM or 14:30"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:h.interview.location,onChange:y=>Ce("location",y.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Agency Office, Dubai"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Interview venue or location"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person"}),e.jsx("input",{type:"text",value:h.interview.contact_person,onChange:y=>Ce("contact_person",y.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., John Doe"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Person to contact for interview"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Required Documents"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:h.interview.required_documents.map((y,M)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[y,e.jsx("button",{onClick:()=>Ze(y),className:"ml-2 text-orange-600 hover:text-orange-800",children:""})]},M))}),e.jsxs("select",{onChange:y=>{y.target.value&&(Re(y.target.value),y.target.value="")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select a document to add..."}),_e.filter(y=>!h.interview.required_documents.includes(y)).map(y=>e.jsx("option",{value:y,children:y},y))]}),e.jsx("p",{className:"text-xs text-gray-500",children:"e.g., Passport, Resume, Certificates"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{rows:4,value:h.interview.notes,onChange:y=>Ce("notes",y.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"e.g., Bring original documents for verification"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Additional instructions for candidates"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800",children:"Interview-Related Expenses"}),e.jsxs("button",{onClick:Rt,className:"flex items-center px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(xs,{className:"w-4 h-4 mr-1"}),"Add Expense"]})]}),h.interview.expenses.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No interview expenses added yet"}):e.jsx("div",{className:"space-y-4",children:h.interview.expenses.map((y,M)=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Interview Expense ",M+1]}),e.jsx("button",{onClick:()=>Le(y.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Type"}),e.jsxs("select",{value:y.type,onChange:S=>pt(y.id,"type",S.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select type"}),Q.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Who Pays"}),e.jsxs("select",{value:y.who_pays,onChange:S=>pt(y.id,"who_pays",S.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select payer"}),se.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Is Free"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("label",{className:"flex items-center text-sm",children:[e.jsx("input",{type:"radio",name:`interview_expense_free_${y.id}`,checked:y.is_free===!0,onChange:()=>pt(y.id,"is_free",!0),className:"mr-1 text-blue-600"}),"Yes"]}),e.jsxs("label",{className:"flex items-center text-sm",children:[e.jsx("input",{type:"radio",name:`interview_expense_free_${y.id}`,checked:y.is_free===!1,onChange:()=>pt(y.id,"is_free",!1),className:"mr-1 text-blue-600"}),"No"]})]})]})]}),y.is_free===!1&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Amount"}),e.jsx("input",{type:"number",value:y.amount,onChange:S=>pt(y.id,"amount",parseFloat(S.target.value)||""),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0",min:"0",step:"0.01"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Currency"}),e.jsx("select",{value:y.currency,onChange:S=>pt(y.id,"currency",S.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500",children:O.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Notes"}),e.jsx("textarea",{rows:2,value:y.notes,onChange:S=>pt(y.id,"notes",S.target.value),className:"w-full text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 resize-none",placeholder:"Expense details..."})]})]},y.id))})]})]})]})]}),d==="single"&&e.jsx("div",{className:"mb-6 bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600 font-bold text-sm",children:"AI"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-purple-900 mb-2",children:he(p).title}),e.jsx("ul",{className:"text-xs text-purple-800 space-y-1",children:he(p).tips.map((y,M)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-purple-400 mr-2 mt-0.5",children:""}),e.jsx("span",{children:y})]},M))})]})]})}),e.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:Fe,className:"flex items-center px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:[e.jsx(Bl,{className:"w-4 h-4 mr-2"}),p===0?"Back to Selection":"Previous"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Step ",p+1," of ",F.length]}),(()=>{const y=pe(p),M=Object.keys(y).length;return M>0&&e.jsxs("div",{className:"flex items-center text-sm text-red-600",children:[e.jsx(Ka,{className:"w-4 h-4 mr-1"}),M," error",M>1?"s":""," found"]})})()]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[p<F.length-1&&e.jsxs("button",{onClick:at,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(ya,{className:"w-4 h-4 mr-2"}),"Save & Exit"]}),p===F.length-1?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{console.log("Saving as draft:",h),r({type:"single_draft",data:h}),a()},className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:[e.jsx(ya,{className:"w-4 h-4 mr-2"}),"Save as Draft"]}),e.jsxs("button",{onClick:rt,className:"flex items-center px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[e.jsx(ud,{className:"w-4 h-4 mr-2"}),"Publish Job"]})]}):e.jsxs("button",{onClick:ht,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:["Next",e.jsx(sn,{className:"w-4 h-4 ml-2"})]})]})]})]});return n?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-end z-50",children:e.jsx("div",{className:"bg-white h-full w-full max-w-6xl overflow-y-auto animate-slide-in-right",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ot,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Job Creation"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage job postings"})]})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 p-3 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(st,{className:"w-6 h-6"})})]}),d==="selection"&&qs(),d==="bulk"&&aa(),d==="single"&&ra()]})})}):null},Rj=()=>{const[n,a]=j.useState("list"),[r,i]=j.useState({search:"",country:"",company:"",category:""}),[o,d]=j.useState({page:1,limit:20,total:0,totalPages:0}),[m,p]=j.useState(new Set),[x,f]=j.useState(!1),[v,h]=j.useState([]),[_,F]=j.useState(!0),[I,E]=j.useState(null),[$,O]=j.useState(new Set),[z,R]=j.useState(new Set),[K,Z]=j.useState(null),[ee,te]=j.useState(0),[Q,se]=j.useState(!1),[_e,pe]=j.useState(""),[L,V]=j.useState("success"),[D,H]=j.useState(!1),[w,re]=j.useState(null),[Y,k]=j.useState(!1),[W,C]=j.useState(null),[U,oe]=j.useState(null),[ue,ge]=j.useState(!1),[ve,Ie]=j.useState(null);$.size>0;const Ce=j.useMemo(()=>((P,ae)=>{let be;return(...De)=>{clearTimeout(be),be=setTimeout(()=>P.apply(null,De),ae)}})(P=>{i(ae=>({...ae,search:P})),d(ae=>({...ae,page:1}))},300),[]),Re=j.useCallback((b,P)=>{b==="search"?Ce(P):(i(ae=>({...ae,[b]:P})),d(ae=>({...ae,page:1})))},[Ce]),Ze=j.useCallback(b=>{d(P=>({...P,page:b})),window.scrollTo({top:0,behavior:"smooth"})},[]),Rt=j.useRef(null);j.useEffect(()=>{Rt.current&&(Rt.current.indeterminate=m.size>0&&m.size<v.length)},[m,v]);const Le=(b,P="success")=>{pe(b),V(P),se(!0),setTimeout(()=>{se(!1)},P==="error"?5e3:4e3)},pt=async b=>{try{H(!1),re(null);const P={title:b.title||"",company:b.company||"",employer:b.employer||"",posting_agency:b.posting_agency||"",description:b.description||"",period_years:b.period_years||"",employment_type:b.employment_type||"Full-time",renewable:b.renewable||!1,hours_per_day:b.hours_per_day||"",days_per_week:b.days_per_week||"",overtime_policy:b.overtime_policy||"",weekly_off_days:b.weekly_off_days||"",annual_leave_days:b.annual_leave_days||"",food:b.food||"",accommodation:b.accommodation||"",transport:b.transport||"",bulk_entries:b.bulk_entries||[],is_expanding_bulk:!0,original_bulk_id:b.id};Z(P),f(!0),Le(" Opening draft creation wizard with bulk draft details pre-filled.","info")}catch(P){console.error("Error preparing bulk expansion:",P),Le(" Failed to prepare bulk expansion. Please try again.","error")}},he=async b=>{try{if(!b.bulk_entries||b.bulk_entries.length===0){Le(" No entries found in bulk draft to publish.","error");return}const P=[];for(const De of b.bulk_entries){const Pt=parseInt(De.job_count||1);for(let dt=0;dt<Pt;dt++){const Gt={title:De.position||"General Worker",company:b.company||"N/A",country:De.country||"N/A",city:"N/A",published_at:new Date().toISOString(),salary:"N/A",currency:"AED",salary_amount:0,requirements:["Requirements not specified"],description:`Position: ${De.position||"General Worker"} in ${De.country||"Location TBD"}. Additional details not provided (Force Published from Bulk Draft).`,tags:["Bulk Published","Details TBD"],category:De.position||"General Worker",employment_type:"Full-time",working_hours:"N/A",accommodation:"N/A",food:"N/A",visa_status:"N/A",contract_duration:"N/A",contact_person:"N/A",contact_phone:"N/A",contact_email:"N/A",expenses:[],notes:`Force published from bulk draft: ${b.title}. Job ${dt+1}/${Pt} for ${De.country}.`,created_at:new Date().toISOString(),is_force_published:!0,original_bulk_id:b.id,bulk_entry_index:b.bulk_entries.indexOf(De),job_sequence:dt+1,status:"published"};P.push(qe.publishJob(Gt))}}await Promise.all(P),await qe.deleteJob(b.id);const ae=await qe.getDraftJobs();h(ae),H(!1),re(null),ge(!1),Ie(null);const be=P.length;Le(` Successfully force published ${be} jobs from bulk draft! Missing details marked as N/A.`,"success"),d(De=>({...De,total:ae.length}))}catch(P){console.error("Failed to force publish bulk draft:",P),Le(" Failed to force publish bulk draft. Please try again.","error")}},Se=b=>{Ie(b),ge(!0)},Oe=async b=>{try{if(b.type==="bulk"){const ae=b.data.entries.reduce((dt,Gt)=>dt+parseInt(Gt.job_count||0),0),be=b.data.entries.map(dt=>dt.country).filter(Boolean),De=b.data.entries.map(dt=>dt.position).filter(Boolean),Pt={title:De.length>0?De.join(", "):"Multiple Positions",company:"Multiple Companies",country:be.length===1?be[0]:"Multiple Countries",city:"",published_at:null,salary:"",currency:"AED",salary_amount:0,requirements:[],description:`Bulk job creation for ${ae} positions across ${be.length} countries`,tags:[],category:"Bulk Creation",employment_type:"Full-time",working_hours:"8 hours/day",accommodation:"Provided",food:"Provided",visa_status:"Company will provide",contract_duration:"2 years",contact_person:"",contact_phone:"",contact_email:"",expenses:[],notes:`Bulk draft containing ${ae} jobs`,created_at:new Date().toISOString(),is_bulk_draft:!0,bulk_entries:b.data.entries,total_jobs:ae};await qe.createDraftJob(Pt),Le(` Successfully created bulk draft with ${ae} jobs!`,"success")}else if(b.type==="bulk_edit"){const ae=b.data.entries.reduce((dt,Gt)=>dt+parseInt(Gt.job_count||0),0),be=b.data.entries.map(dt=>dt.country).filter(Boolean),De=b.data.entries.map(dt=>dt.position).filter(Boolean),Pt={title:b.data.title||(De.length>0?De.join(", "):"Multiple Positions"),company:b.data.company||"Multiple Companies",country:be.length===1?be[0]:"Multiple Countries",description:b.data.description||`Bulk job creation for ${ae} positions across ${be.length} ${be.length===1?"country":"countries"}`,bulk_entries:b.data.entries,total_jobs:ae,updated_at:new Date().toISOString()};await qe.updateJob(b.data.id,Pt),Le(` Successfully updated bulk draft with ${ae} jobs!`,"success")}else if(b.type==="partial_draft")if(K){const ae={...b.data,id:K.id,is_partial:!0,last_completed_step:b.data.last_completed_step,updated_at:new Date().toISOString()};await qe.updateJob(K.id,ae),Le(" Progress saved! You can continue editing later.","success")}else{const ae={...b.data,is_partial:!0,last_completed_step:b.data.last_completed_step,created_at:new Date().toISOString()};await qe.createDraftJob(ae),Le(" Progress saved! You can continue editing later.","success")}else K?(await qe.updateJob(K.id,b),Le(" Draft updated successfully!","success")):(await qe.createDraftJob(b),Le(" Draft created successfully!","success"));const P=await qe.getDraftJobs();h(P),f(!1),Z(null),te(0),d(ae=>({...ae,total:P.length}))}catch(P){console.error("Failed to save draft:",P),Le(` Failed to ${K?"update":"create"} draft. Please try again.`,"error")}};j.useEffect(()=>{(async()=>{try{F(!0),E(null);let ae=(await qe.getDraftJobs()).filter(ft=>{const ws=!r.search||ft.title?.toLowerCase().includes(r.search.toLowerCase())||ft.company?.toLowerCase().includes(r.search.toLowerCase())||ft.description?.toLowerCase().includes(r.search.toLowerCase()),Ks=!r.country||ft.country===r.country,J=!r.company||ft.company===r.company,me=!r.category||ft.category===r.category;return ws&&Ks&&J&&me});const be=r.sortBy||"created_date";ae.sort((ft,ws)=>{switch(be){case"title":return(ft.title||"").localeCompare(ws.title||"");case"company":return(ft.company||"").localeCompare(ws.company||"");case"country":return(ft.country||"").localeCompare(ws.country||"");case"created_date":default:return new Date(ws.created_at||0)-new Date(ft.created_at||0)}});const De=ae.length,Pt=Math.ceil(De/o.limit),dt=(o.page-1)*o.limit,Gt=dt+o.limit,Mt=ae.slice(dt,Gt);h(Mt),d(ft=>({...ft,total:De,totalPages:Pt}))}catch(P){console.error("Failed to fetch drafts:",P),E(P)}finally{F(!1)}})()},[r,o.page,o.limit]);const Be=b=>{const P=new Set(m);P.has(b)?P.delete(b):P.add(b),p(P)},at=async b=>{C("publish"),oe({id:b,title:v.find(P=>P.id===b)?.title}),k(!0)},ht=async b=>{C("delete"),oe({id:b,title:v.find(P=>P.id===b)?.title}),k(!0)},Fe=(b,P=0)=>{if(b.status==="published"){Le(" Cannot edit published jobs. Please create a new draft instead.","error");return}if(b.is_bulk_draft){Z(b),te(0),f(!0),Le(" Editing bulk draft. You can modify the bulk entries and settings.","info");return}const ae=b.is_partial&&b.last_completed_step!==void 0?Math.min(b.last_completed_step+1,7):P;Z(b),te(ae),f(!0),b.is_partial&&Le(` Continuing from step ${ae+1}. Your previous progress has been saved.`,"info")},rt=async()=>{try{W==="publish"?await qs(U.id):W==="delete"?await aa(U.id):W==="edit"&&(Z(U.draft),te(U.targetStep||0),f(!0))}catch(b){console.error("Action failed:",b)}finally{k(!1),C(null),oe(null)}},qs=async b=>{try{const P=v.find(be=>be.id===b);if(P&&P.is_partial){Le(" Cannot publish incomplete draft. Please complete all required fields first.","error");return}if(P&&(!P.title||!P.country||!P.company)){Le(" Cannot publish incomplete draft. Please fill in all required information.","error");return}O(be=>new Set([...be,b])),await qe.publishJob(b),Le(" Draft published successfully! Job is now live.","success");const ae=await qe.getDraftJobs();h(ae),d(be=>({...be,total:ae.length}))}catch(P){console.error("Failed to publish draft:",P),Le(" Failed to publish draft. Please try again.","error")}finally{O(P=>{const ae=new Set(P);return ae.delete(b),ae})}},aa=async b=>{try{R(ae=>new Set([...ae,b])),await qe.deleteJob(b),Le(" Draft deleted successfully!","success");const P=await qe.getDraftJobs();h(P),d(ae=>({...ae,total:P.length})),p(ae=>{const be=new Set(ae);return be.delete(b),be})}catch(P){console.error("Failed to delete draft:",P),Le(" Failed to delete draft. Please try again.","error")}finally{R(P=>{const ae=new Set(P);return ae.delete(b),ae})}},ra=[...new Set(v.map(b=>b.country).filter(Boolean))],y=[...new Set(v.map(b=>b.company).filter(Boolean))],M=[...new Set(v.map(b=>b.category||b.title).filter(Boolean))];if(_)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-64"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded w-28"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-32"})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded w-80"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded"}),e.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(b=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"h-1 bg-gray-200"}),e.jsxs("div",{className:"p-6 pt-12",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg mr-3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]})]}),e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded mr-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded mr-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded mr-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})]})]}),e.jsxs("div",{className:"flex space-x-2 mb-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-16"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-20"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded-md w-12"})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-7 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-7 bg-gray-200 rounded w-12"})]}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]})]})]},b))})]})});if(I)return e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(jt,{className:"w-10 h-10 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"Failed to load drafts"}),e.jsx("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"We encountered an issue while loading your drafts. Please try again or contact support if the problem persists."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:"Try Again"}),e.jsxs("button",{onClick:()=>{Z(null),f(!0)},className:"inline-flex items-center px-6 py-3 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 rounded-lg transition-colors duration-200",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Create New Draft"]})]}),I.message&&e.jsx("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700 font-mono",children:I.message})})]})})});const S=()=>{m.size===v.length?p(new Set):p(new Set(v.map(b=>b.id)))},Pe=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:v.length>0?v.map(b=>e.jsxs(yr,{hoverable:!0,clickable:!0,className:"p-4 border-l-4 border-orange-500 shadow-md",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${b.is_bulk_draft?"bg-purple-100 text-purple-800":b.is_partial?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-1.5 ${b.is_bulk_draft?"bg-purple-400":b.is_partial?"bg-yellow-400":"bg-orange-400"}`}),b.is_bulk_draft?"Bulk Draft":b.is_partial?"Partial":"Draft"]}),b.is_bulk_draft&&e.jsxs("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded font-medium",children:[b.total_jobs," Jobs"]}),b.is_partial&&e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Step ",(b.last_completed_step||0)+1,"/8"]})]})}),e.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center shadow-sm ${b.is_bulk_draft?"bg-gradient-to-br from-purple-500 to-purple-600":"bg-gradient-to-br from-primary-500 to-primary-600"}`,children:e.jsx("span",{className:"text-white text-lg font-medium",children:b.is_bulk_draft?"B":b.company?.charAt(0)||b.title?.charAt(0)||"D"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:b.title||"Untitled Draft"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.is_bulk_draft?(()=>{const P=[...new Set(b.bulk_entries?.map(De=>De.country).filter(Boolean))],ae=[...new Set(b.bulk_entries?.map(De=>De.position).filter(Boolean))];let be=`${b.bulk_entries?.length||0} entries across `;if(P.length>0){const De=P.length===1?"country":"countries";be+=`${P.length} ${De} (${P.slice(0,2).join(", ")}${P.length>2?` +${P.length-2} more`:""})`}else be+=`${new Set(b.bulk_entries?.map(De=>De.country)).size||0} countries`;return ae.length>0&&(be+=` for ${ae.slice(0,2).join(", ")}${ae.length>2?` +${ae.length-2} more`:""} roles`),be})():b.company||"No Company"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ls,{className:"w-4 h-4 mr-1.5 text-primary-400"}),e.jsx("span",{children:b.is_bulk_draft?(()=>{const P=[...new Set(b.bulk_entries?.map(be=>be.country).filter(Boolean))],ae=P.length===1?"Country":"Countries";return P.length>0?`${P.length} ${ae} (${P.slice(0,2).join(", ")}${P.length>2?` +${P.length-2} more`:""})`:`${new Set(b.bulk_entries?.map(be=>be.country)).size||0} Countries`})():b.city||b.country||"Location TBD"})]}),b.is_bulk_draft?e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1.5 text-primary-400"}),e.jsxs("span",{children:[b.total_jobs," Total Jobs"]})]}):b.salary&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Nd,{className:"w-4 h-4 mr-1.5 text-primary-400"}),e.jsxs("span",{children:[b.salary," ",b.currency||"AED"]})]}),e.jsxs("div",{className:"flex items-center text-base text-gray-600",children:[e.jsx(nt,{className:"w-5 h-5 mr-2 text-primary-400"}),e.jsxs("span",{children:["Created ",b.created_at?Ne(new Date(b.created_at),"MMM dd, yyyy"):"Recently"]})]})]})]})]}),b.tags&&b.tags.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.tags.slice(0,3).map(P=>e.jsx("span",{className:"text-sm bg-gray-100 text-gray-700 px-3 py-1.5 rounded-full border border-gray-200",children:P},P)),b.tags.length>3&&e.jsxs("span",{className:"text-sm text-primary-500 font-medium",children:["+",b.tags.length-3," more"]})]})}),b.description&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-base text-gray-600 line-clamp-2",children:b.description})}),e.jsxs("div",{className:"flex justify-between items-center space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs(Ve,{onClick:()=>Fe(b),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 border border-gray-300 rounded-lg transition-colors duration-200",children:[e.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(Ve,{onClick:()=>at(b.id),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Publish"]})]}),e.jsxs(Ve,{onClick:()=>ht(b.id),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(fr,{className:"w-4 h-4 mr-2"}),"Delete"]})]}),e.jsxs("div",{className:"flex justify-between items-center space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs(Ve,{onClick:P=>{P.preventDefault(),P.stopPropagation(),re(b),H(!0)},children:[e.jsx(Xt,{className:"w-4 h-4 mr-1.5"}),"Preview"]}),e.jsxs(Ve,{onClick:P=>{P.preventDefault(),P.stopPropagation(),Fe(b)},children:[e.jsx(Nt,{className:"w-4 h-4 mr-1.5"}),"Edit"]})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs(Ve,{onClick:P=>{P.preventDefault(),P.stopPropagation(),at(b.id)},disabled:$.has(b.id),children:[e.jsx(gt,{className:"w-4 h-4 mr-1.5"}),"Publish"]}),e.jsx(Ve,{onClick:P=>{P.preventDefault(),P.stopPropagation(),ht(b.id)},variant:"secondary",size:"sm",icon:Xt,className:"shadow-sm hover:shadow-md transition-shadow duration-200",children:"Preview"}),e.jsx(Ve,{onClick:P=>{P.preventDefault(),P.stopPropagation(),Fe(b)},variant:"secondary",size:"sm",icon:Nt,className:"shadow-sm hover:shadow-md transition-shadow duration-200",children:"Edit"})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx(Ve,{onClick:P=>{if(P.preventDefault(),P.stopPropagation(),b.is_bulk_draft){Se(b);return}if(b.is_partial){Le(" Cannot publish incomplete draft. Please complete all steps first.","error");return}at(b.id)},variant:b.is_partial?"outline":(b.is_bulk_draft,"primary"),size:"sm",disabled:$.has(b.id)||b.is_partial,loading:$.has(b.id),icon:(b.is_bulk_draft,gt),className:`shadow-sm hover:shadow-md transition-shadow duration-200 ${b.is_bulk_draft?"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700":b.is_partial?"opacity-50 cursor-not-allowed":""}`,title:b.is_bulk_draft?"Publish bulk draft (options available)":b.is_partial?"Complete the draft before publishing":"Publish this draft",children:$.has(b.id)?"Processing...":b.is_bulk_draft?"Publish Options":b.is_partial?"Incomplete":"Publish"}),e.jsx(Ve,{onClick:P=>{P.preventDefault(),P.stopPropagation(),ht(b.id)},variant:"ghost",size:"sm",disabled:z.has(b.id),loading:z.has(b.id),icon:fr,className:"text-red-600 hover:text-red-800 shadow-sm hover:shadow-md transition-shadow duration-200 border border-red-200 hover:border-red-300",children:z.has(b.id)?"Deleting...":"Delete"})]})]})]},b.id)):e.jsxs("div",{className:"col-span-3 text-center py-12",children:[e.jsx(Ot,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No drafts found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:Object.values(r).some(b=>b)?"No drafts match your current filters.":"Create your first draft to get started."}),e.jsx(Ve,{onClick:()=>{Z(null),f(!0)},variant:"primary",icon:xs,children:"Create Draft"})]})}),Je=()=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-visible",children:e.jsxs("table",{className:"w-full table-fixed divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"w-12 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{ref:Rt,type:"checkbox",onChange:S,checked:v.length>0&&m.size===v.length,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.jsx("th",{scope:"col",className:"w-[26%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Job Title"}),e.jsx("th",{scope:"col",className:"w-[14%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),e.jsx("th",{scope:"col",className:"w-[10%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{scope:"col",className:"w-[8%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salary"}),e.jsx("th",{scope:"col",className:"w-[8%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{scope:"col",className:"w-[8%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"w-[24%] px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.length>0?v.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:m.has(b.id),onChange:()=>Be(b.id),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${b.is_bulk_draft?"bg-gradient-to-br from-purple-500 to-purple-600":"bg-gradient-to-br from-primary-500 to-primary-600"}`,children:e.jsx("span",{className:"text-white text-sm font-semibold",children:b.is_bulk_draft?"B":b.title?.charAt(0)||"D"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[b.title||"Untitled Draft",b.is_bulk_draft&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:[b.total_jobs," Jobs"]})]}),b.is_bulk_draft?e.jsxs("div",{className:"text-sm text-gray-500",children:[b.bulk_entries?.length||0," entries  ",(()=>{const P=[...new Set(b.bulk_entries?.map(be=>be.country).filter(Boolean))],ae=P.length===1?"country":"countries";return P.length>0?`${P.length} ${ae} (${P.slice(0,2).join(", ")}${P.length>2?` +${P.length-2} more`:""})`:"0 countries"})()]}):b.tags&&b.tags.length>0&&e.jsxs("div",{className:"text-sm text-gray-500",children:[b.tags.slice(0,2).join(", "),b.tags.length>2&&` +${b.tags.length-2} more`]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:b.is_bulk_draft?`${b.bulk_entries?.length||0} Companies`:b.company||"No Company"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:b.is_bulk_draft?(()=>{const P=[...new Set(b.bulk_entries?.map(be=>be.country).filter(Boolean))],ae=P.length===1?"Country":"Countries";return P.length>0?`${P.length} ${ae} (${P.slice(0,2).join(", ")}${P.length>2?` +${P.length-2} more`:""})`:`${new Set(b.bulk_entries?.map(be=>be.country)).size||0} Countries`})():b.city||b.country||"Location TBD"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:b.is_bulk_draft?"Varies by entry":b.salary?`${b.salary} ${b.currency||"AED"}`:"Not specified"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.created_at?Ne(new Date(b.created_at),"MMM dd, yyyy"):"Recently"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.is_bulk_draft?"bg-purple-100 text-purple-800":b.is_partial?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full mr-1.5 ${b.is_bulk_draft?"bg-purple-400":b.is_partial?"bg-yellow-400":"bg-orange-400"}`}),b.is_bulk_draft?"Bulk Draft":b.is_partial?"Partial":"Draft"]}),b.is_partial&&e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Step ",(b.last_completed_step||0)+1,"/8"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Ve,{onClick:P=>{P.stopPropagation(),re(b),H(!0)},variant:"secondary",size:"sm",icon:Xt,className:"shadow-sm hover:shadow-md transition-shadow duration-200",title:"Preview",children:"Preview"}),e.jsx(Ve,{onClick:P=>{P.stopPropagation(),Fe(b)},variant:"secondary",size:"sm",icon:Nt,className:"shadow-sm hover:shadow-md transition-shadow duration-200",title:"Edit",children:"Edit"}),e.jsx(Ve,{onClick:P=>{if(P.stopPropagation(),b.is_bulk_draft){Se(b);return}if(b.is_partial){Le(" Cannot publish incomplete draft. Please complete all steps first.","error");return}at(b.id)},variant:b.is_partial?"outline":"primary",size:"sm",disabled:$.has(b.id)||b.is_partial,loading:$.has(b.id),icon:gt,className:`shadow-sm hover:shadow-md transition-shadow duration-200 ${b.is_partial?"opacity-50 cursor-not-allowed":""}`,title:b.is_bulk_draft?"Bulk publish with options for completing details or force publishing":b.is_partial?"Complete the draft before publishing":"Publish this draft",children:$.has(b.id)?"Publishing...":b.is_bulk_draft?"Bulk Publish":b.is_partial?"Incomplete":"Publish"}),e.jsx(Ve,{onClick:P=>{P.stopPropagation(),ht(b.id)},variant:"ghost",size:"sm",disabled:z.has(b.id),loading:z.has(b.id),icon:fr,className:"text-red-600 hover:text-red-800 shadow-sm hover:shadow-md transition-shadow duration-200 border border-red-200 hover:border-red-300",title:z.has(b.id)?"Deleting...":"Delete",children:z.has(b.id)?"Deleting...":"Delete"})]})})]},b.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"8",className:"px-6 py-12 text-center text-sm text-gray-500",children:[e.jsx(Ot,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No drafts found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:Object.values(r).some(b=>b)?"No drafts match your current filters.":"Create your first draft to get started."}),e.jsx(Ve,{onClick:()=>setShowCreateModal(!0),variant:"primary",icon:xs,children:"Create Draft"})]})})})]})});return e.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Drafts"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create and manage job draft postings before publishing"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2",children:[m.size>0&&e.jsxs(e.Fragment,{children:[e.jsxs(Ve,{onClick:b=>{b.preventDefault(),m.forEach(P=>at(P)),p(new Set)},variant:"primary",size:"sm",disabled:$.size>0,loading:$.size>0,icon:gt,children:["Publish (",m.size,")"]}),e.jsxs(Ve,{onClick:async b=>{b.preventDefault();try{const P=Array.from(m).map(be=>qe.deleteJob(be));await Promise.all(P);const ae=await qe.getDraftJobs();h(ae),p(new Set)}catch(P){console.error("Failed to delete drafts:",P)}},variant:"danger",size:"sm",icon:fr,children:["Delete (",m.size,")"]})]}),e.jsx(Ve,{onClick:b=>{b.preventDefault(),Z(null),f(!0)},variant:"primary",icon:xs,children:"Create Draft"}),e.jsxs("div",{className:"flex rounded-md shadow-sm",children:[e.jsx(Ve,{onClick:b=>{b.preventDefault(),a("grid")},variant:n==="grid"?"primary":"outline",size:"sm",icon:Pp,className:"rounded-r-none border-r-0"}),e.jsx(Ve,{onClick:b=>{b.preventDefault(),a("list")},variant:n==="list"?"primary":"outline",size:"sm",icon:Cd,className:"rounded-l-none"})]})]})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search drafts by title, company...",value:r.search,onChange:b=>Re("search",b.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{value:r.country,onChange:b=>Re("country",b.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Countries"}),ra.map(b=>e.jsx("option",{value:b,children:b},b))]}),e.jsxs("select",{value:r.company,onChange:b=>Re("company",b.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Companies"}),y.map(b=>e.jsx("option",{value:b,children:b},b))]}),e.jsxs("select",{value:r.category,onChange:b=>Re("category",b.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Categories"}),M.map(b=>e.jsx("option",{value:b,children:b},b))]}),e.jsxs("select",{value:r.sortBy||"created_date",onChange:b=>Re("sortBy",b.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"created_date",children:"Sort by Created Date"}),e.jsx("option",{value:"title",children:"Sort by Title"}),e.jsx("option",{value:"company",children:"Sort by Company"}),e.jsx("option",{value:"country",children:"Sort by Country"})]})]})]})}),e.jsx("div",{className:"mb-4 text-sm text-gray-500 flex items-center justify-between",children:e.jsxs("span",{children:["Showing ",v.length>0?(o.page-1)*o.limit+1:0," to ",Math.min(o.page*o.limit,o.total)," of ",o.total," results"]})}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:n==="grid"?Pe():Je()}),v.length>0&&o.totalPages>1&&e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 bg-white p-4 rounded-lg border border-gray-200",children:[e.jsx(to,{currentPage:o.page,totalPages:Math.max(1,o.totalPages),totalItems:o.total,itemsPerPage:o.limit}),e.jsx(ni,{currentPage:o.page,totalPages:o.totalPages,onPageChange:Ze,size:"md"})]}),e.jsx(Oj,{isOpen:x,onClose:()=>{f(!1),Z(null),te(0)},onSave:Oe,editingDraft:K,initialStep:ee}),D&&w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-screen overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-primary-50 to-blue-50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Draft Preview"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Review your draft completion status and details"}),w.is_partial&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:" Partial Draft"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Last saved at step ",(w.last_completed_step||0)+1," of 8"]})]})]}),e.jsx("button",{onClick:()=>{H(!1),re(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(st,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-2 flex items-center",children:[e.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Draft Type: ",w.is_bulk_draft?"Bulk Draft Creation":"Single Draft Creation"]}),e.jsx("p",{className:"text-blue-700 text-sm",children:w.is_bulk_draft?`This bulk draft contains ${w.total_jobs} jobs across ${w.bulk_entries?.length||0} entries and ${new Set(w.bulk_entries?.map(b=>b.country)).size||0} countries.`:"This is a single job draft following the standard 8-step creation process."}),w.is_bulk_draft?e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-blue-700 mb-1",children:[e.jsx("span",{children:"Bulk Draft Summary"}),e.jsxs("span",{children:[w.total_jobs," jobs  ",(()=>{const b=[...new Set(w.bulk_entries?.map(ae=>ae.country).filter(Boolean))],P=b.length===1?"country":"countries";return b.length>0?`${b.length} ${P} (${b.slice(0,2).join(", ")}${b.length>2?` +${b.length-2} more`:""})`:`${new Set(w.bulk_entries?.map(ae=>ae.country)).size||0} countries`})()]})]}),e.jsx("div",{className:"w-full bg-purple-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:"100%"}})})]}):(()=>{const b=[w.title&&w.company&&w.country,w.period_years&&w.employment_type,w.positions&&w.positions.length>0,w.skills&&w.skills.length>0||w.tags&&w.tags.length>0,w.expenses&&w.expenses.length>0,w.cutout&&(w.cutout.has_file||w.cutout.is_uploaded||w.cutout.file_name||w.cutout.file_url),w.interview&&w.interview.date_ad,!0].filter(Boolean).length,P=b/8*100;return e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-blue-700 mb-1",children:[e.jsx("span",{children:"Completion Progress"}),e.jsxs("span",{children:[b,"/8 steps (",Math.round(P),"%)"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${P}%`}})})]})})()]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:w.is_bulk_draft?"Bulk Draft Details":"Draft Details"}),w.is_bulk_draft?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border border-purple-200 rounded-lg overflow-hidden bg-purple-50",children:e.jsxs("div",{className:"p-4 border-l-4 border-purple-500",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-purple-900 flex items-center",children:[e.jsx(gt,{className:"w-5 h-5 text-purple-600 mr-2"}),"Bulk Draft Summary"]}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-100 text-purple-700",children:[w.bulk_entries?.length||0," Entries"]})]}),e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsxs("div",{className:"text-purple-800",children:[e.jsx("strong",{children:"Total Jobs:"})," ",w.total_jobs]}),e.jsxs("div",{className:"text-purple-800",children:[e.jsx("strong",{children:"Countries:"})," ",(()=>{const b=[...new Set(w.bulk_entries?.map(P=>P.country).filter(Boolean))];return b.length>0?`${b.length} (${b.join(", ")})`:"0 (Not specified)"})()]}),e.jsxs("div",{className:"text-purple-800",children:[e.jsx("strong",{children:"Positions:"})," ",(()=>{const b=[...new Set(w.bulk_entries?.map(P=>P.position).filter(Boolean))];return b.length>0?`${b.length} types (${b.join(", ")})`:"0 types (Not specified)"})()]}),e.jsxs("div",{className:"text-purple-800",children:[e.jsx("strong",{children:"Description:"})," ",(()=>{const b=[...new Set(w.bulk_entries?.map(ae=>ae.country).filter(Boolean))],P=[...new Set(w.bulk_entries?.map(ae=>ae.position).filter(Boolean))];if(b.length>0&&P.length>0){const ae=b.length===1?"country":"countries";return`Bulk job creation for ${w.total_jobs} positions across ${b.length} ${ae} (${b.join(", ")}) for ${P.join(", ")} roles`}else if(b.length>0){const ae=b.length===1?"country":"countries";return`Bulk job creation for ${w.total_jobs} positions across ${b.length} ${ae} (${b.join(", ")})`}else return P.length>0?`Bulk job creation for ${w.total_jobs} positions for ${P.join(", ")} roles`:w.description||`Bulk job creation for ${w.total_jobs} positions`})()]})]})]})}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(jt,{className:"w-5 h-5 text-amber-500 mr-3 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-amber-800 mb-1",children:"Bulk Draft Publishing Options"}),e.jsxs("p",{className:"text-sm text-amber-700 mb-4",children:["Choose how you want to handle this bulk draft with ",w.total_jobs," jobs."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("h6",{className:"text-sm font-medium text-blue-900 mb-1 flex items-center",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"})," Recommended: Complete Individual Details"]}),e.jsx("p",{className:"text-xs text-blue-700 mb-2",children:"Expand into individual drafts where you can fill in all job details properly."}),e.jsxs("button",{onClick:()=>pt(w),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 rounded-md shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(Nt,{className:"w-3 h-3 mr-1.5"}),"Expand & Complete"]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[e.jsxs("h6",{className:"text-sm font-medium text-orange-900 mb-1 flex items-center",children:[e.jsx(gt,{className:"w-4 h-4 mr-2"})," Quick Publish with Basic Details"]}),e.jsx("p",{className:"text-xs text-orange-700 mb-2",children:'Publish immediately with available details. Missing fields will be marked as "N/A".'}),e.jsxs("button",{onClick:()=>Se(w),className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 rounded-md shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(jt,{className:"w-3 h-3 mr-1.5"}),"Force Publish"]})]})]})]})]})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:`p-4 border-l-4 ${w.title&&w.company&&w.country?"border-green-500 bg-green-50":"border-orange-400 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[w.title&&w.company&&w.country?e.jsx(gt,{className:"w-5 h-5 text-green-600 mr-2"}):e.jsx(Dt,{className:"w-5 h-5 text-orange-500 mr-2"}),"1. Posting Details"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{H(!1),re(null),Fe(w,0)},className:"text-xs px-2 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Edit Posting Details",children:e.jsx(Nt,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.title&&w.company&&w.country?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.title&&w.company&&w.country?"Completed":"Incomplete"})]})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[w.title?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Job Title:"})," ",w.title]}):e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," Job Title - Please add a clear job title"]}),w.company?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Company:"})," ",w.company]}):e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," Company Name - Please specify the hiring company"]}),w.employer&&w.employer!==w.company&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Employer:"})," ",w.employer]}),w.country?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Country:"})," ",w.country]}):e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," Country - Please select the job location country"]}),w.city&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"City:"})," ",w.city]}),w.posting_agency&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Posting Agency:"})," ",w.posting_agency]}),w.lt_number?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"LT Number:"})," ",w.lt_number]}):e.jsx("div",{className:"text-gray-500 text-xs italic",children:"LT Number: Not provided (will be added later)"}),w.chalani_number?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Chalani Number:"})," ",w.chalani_number]}):e.jsx("div",{className:"text-gray-500 text-xs italic",children:"Chalani Number: Not provided (will be added later)"}),w.approval_date_ad&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Approval Date:"})," ",w.approval_date_ad]}),w.posting_date_ad&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Posting Date:"})," ",w.posting_date_ad]}),w.announcement_type&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Announcement Type:"})," ",w.announcement_type]}),w.description&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Description:"})," ",w.description.length>100?w.description.substring(0,100)+"...":w.description]}),!w.title||!w.company||!w.country?e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"To complete this section:"})," Fill in the missing required fields above and continue to save your progress."]}):e.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"Section Complete:"})," All required posting details have been filled."]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:`p-4 border-l-4 ${w.period_years&&w.employment_type?"border-green-500 bg-green-50":"border-orange-400 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[w.period_years&&w.employment_type?e.jsx(gt,{className:"w-5 h-5 text-green-600 mr-2"}):e.jsx(Dt,{className:"w-5 h-5 text-orange-500 mr-2"}),"2. Contract"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{H(!1),re(null),Fe(w,1)},className:"text-xs px-2 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Edit Contract Details",children:e.jsx(Nt,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.period_years&&w.employment_type?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.period_years&&w.employment_type?"Completed":"Incomplete"})]})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[w.period_years?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Contract Duration:"})," ",w.period_years," year(s)"]}):e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," Contract Duration - Please specify contract period in years"]}),w.employment_type?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Employment Type:"})," ",w.employment_type]}):e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," Employment Type - Please specify if Full-time, Part-time, etc."]}),w.renewable!==void 0&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Renewable:"})," ",w.renewable?"Yes":"No"]}),w.hours_per_day&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Working Hours:"})," ",w.hours_per_day," hours/day"]}),w.days_per_week&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Working Days:"})," ",w.days_per_week," days/week"]}),w.overtime_policy&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Overtime Policy:"})," ",w.overtime_policy.replace("_"," ")]}),w.weekly_off_days!==void 0&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Weekly Off Days:"})," ",w.weekly_off_days]}),w.annual_leave_days&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Annual Leave:"})," ",w.annual_leave_days," days"]}),w.food&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Food:"})," ",w.food]}),w.accommodation&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Accommodation:"})," ",w.accommodation]}),w.transport&&e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Transport:"})," ",w.transport]}),!w.period_years||!w.employment_type?e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"To complete this section:"})," Add contract duration and employment type to define the employment terms."]}):e.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"Section Complete:"})," Employment contract terms are defined."]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:`p-4 border-l-4 ${w.positions&&w.positions.length>0?"border-green-500 bg-green-50":"border-orange-400 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[w.positions&&w.positions.length>0?e.jsx(gt,{className:"w-5 h-5 text-green-600 mr-2"}):e.jsx(Dt,{className:"w-5 h-5 text-orange-500 mr-2"}),"3. Positions"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{H(!1),re(null),Fe(w,2)},className:"text-xs px-2 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Edit Positions",children:e.jsx(Nt,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.positions&&w.positions.length>0?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.positions&&w.positions.length>0?"Completed":"Incomplete"})]})]}),e.jsx("div",{className:"text-sm space-y-1",children:w.positions&&w.positions.length>0?e.jsxs("div",{children:[w.positions.map((b,P)=>e.jsxs("div",{className:"text-gray-700 border-b border-gray-200 pb-2 last:border-b-0 mb-2",children:[e.jsxs("div",{children:[e.jsxs("strong",{children:["Position ",P+1,":"]})," ",b.title]}),e.jsxs("div",{className:"ml-4 text-xs space-y-1",children:[e.jsxs("div",{children:["Male Vacancies: ",b.vacancies_male||0]}),e.jsxs("div",{children:["Female Vacancies: ",b.vacancies_female||0]}),e.jsxs("div",{children:["Total Vacancies: ",(b.vacancies_male||0)+(b.vacancies_female||0)]}),b.monthly_salary&&e.jsxs("div",{children:["Salary: ",b.monthly_salary," ",b.currency||"AED","/month"]})]})]},P)),e.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"Section Complete:"})," ",w.positions.length," position(s) defined with salary details."]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," No positions defined"]}),e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"To complete this section:"})," Add at least one job position with title, vacancy count, and salary information."]})]})})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:`p-4 border-l-4 ${w.skills&&w.skills.length>0||w.tags&&w.tags.length>0?"border-green-500 bg-green-50":"border-orange-400 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[w.skills&&w.skills.length>0||w.tags&&w.tags.length>0?e.jsx(gt,{className:"w-5 h-5 text-green-600 mr-2"}):e.jsx(Dt,{className:"w-5 h-5 text-orange-500 mr-2"}),"4. Tags & Canonical Titles"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{H(!1),re(null),Fe(w,3)},className:"text-xs px-2 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Edit Tags & Canonical Titles",children:e.jsx(Nt,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.skills&&w.skills.length>0||w.tags&&w.tags.length>0?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.skills&&w.skills.length>0||w.tags&&w.tags.length>0?"Completed":"Incomplete"})]})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[w.skills&&w.skills.length>0?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Skills:"})," ",w.skills.join(", ")]}):e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," Skills - Please add required job skills"]}),w.tags&&w.tags.length>0?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Tags:"})," ",w.tags.join(", ")]}):w.skills&&w.skills.length===0?e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," Tags - Please add relevant job tags"]}):null,w.education_requirements&&w.education_requirements.length>0?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Education:"})," ",w.education_requirements.join(", ")]}):e.jsx("div",{className:"text-gray-500 text-xs italic",children:"Education Requirements: Not specified (optional)"}),w.experience_requirements?e.jsxs("div",{className:"text-gray-700",children:[e.jsx("strong",{children:"Experience:"})," ",w.experience_requirements.min_years," years minimum",w.experience_requirements.domains&&e.jsxs("span",{children:[" in ",w.experience_requirements.domains.join(", ")]})]}):e.jsx("div",{className:"text-gray-500 text-xs italic",children:"Experience Requirements: Not specified (optional)"}),w.skills&&w.skills.length>0||w.tags&&w.tags.length>0?e.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"Section Complete:"})," Job requirements and skills are defined."]}):e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"To complete this section:"})," Add skills or tags to help candidates understand job requirements."]})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:`p-4 border-l-4 ${w.expenses&&w.expenses.length>0?"border-green-500 bg-green-50":"border-orange-400 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[w.expenses&&w.expenses.length>0?e.jsx(gt,{className:"w-5 h-5 text-green-600 mr-2"}):e.jsx(Dt,{className:"w-5 h-5 text-orange-500 mr-2"}),"5. Expenses"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{H(!1),re(null),Fe(w,4)},className:"text-xs px-2 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Edit Expenses",children:e.jsx(Nt,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.expenses&&w.expenses.length>0?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.expenses&&w.expenses.length>0?"Completed":"Incomplete"})]})]}),e.jsx("div",{className:"text-sm space-y-1",children:w.expenses&&w.expenses.length>0?e.jsxs("div",{children:[w.expenses.map((b,P)=>e.jsxs("div",{className:"text-gray-700 border-b border-gray-200 pb-2 last:border-b-0",children:[e.jsxs("div",{children:[e.jsxs("strong",{children:[b.type,":"]})," ",b.who_pays," pays",b.is_free?" (Free)":b.amount?` ${b.amount} ${b.currency} (Paid)`:" (Paid)"]}),b.notes&&e.jsxs("div",{className:"text-gray-500 text-xs ml-2",children:["Note: ",b.notes]})]},P)),e.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"Section Complete:"})," ",w.expenses.length," expense item(s) detailed."]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," No expense details provided"]}),e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"To complete this section:"})," Add expense details (medical, visa, travel, etc.) to clarify cost responsibilities."]})]})})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:`p-4 border-l-4 ${w.cutout&&(w.cutout.has_file||w.cutout.is_uploaded||w.cutout.file_name||w.cutout.file_url)?"border-green-500 bg-green-50":"border-orange-400 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[w.cutout&&(w.cutout.has_file||w.cutout.is_uploaded||w.cutout.file_name||w.cutout.file_url)?e.jsx(gt,{className:"w-5 h-5 text-green-600 mr-2"}):e.jsx(Dt,{className:"w-5 h-5 text-orange-500 mr-2"}),"6. Cutout"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{H(!1),re(null),Fe(w,5)},className:"text-xs px-2 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Edit Cutout",children:e.jsx(Nt,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.cutout&&(w.cutout.has_file||w.cutout.is_uploaded||w.cutout.file_name||w.cutout.file_url)?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.cutout&&(w.cutout.has_file||w.cutout.is_uploaded||w.cutout.file_name||w.cutout.file_url)?"Completed":"Incomplete"})]})]}),e.jsx("div",{className:"text-sm space-y-3",children:w.cutout&&(w.cutout.file_url||w.cutout.preview_url)?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"text-blue-800 text-sm font-semibold mb-3 flex items-center",children:[e.jsx(li,{className:"w-4 h-4 mr-2"}),"Job Advertisement Cutout:"]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:w.cutout.file_url||w.cutout.preview_url,alt:"Job Advertisement Cutout",className:"max-w-full max-h-64 w-auto h-auto rounded-lg border-2 border-white shadow-lg",style:{maxWidth:"400px"},onError:b=>{b.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xNTAgMTEwSDI1MFYxMzBIMTUwVjExMFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHA+aCBkPSJNMTUwIDE0MEgyNTBWMTUwSDE1MFYxNDBaIiBmaWxsPSIjOUNBNEFGIi8+CjxwYXRoIGQ9Ik0xNTAgMTYwSDIxMFYxNzBIMTUwVjE2MFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHA+aCBkPSJNMTcwIDIwMEMxNzAgMTk0LjQ3NyAxNzQuNDc3IDE5MCAxODAgMTkwQzE4NS41MjMgMTkwIDE5MCAyMDAgMTcwIDIwMFoiIGZpbGw9IiM5Q0E0QUYiLz4KPHBhdGggZD0iTTE2MCAyMjBIMjQwVjIzMEgxNjBWMjIwWiIgZmlsbD0iIzlDQTRBRiIvPgo8dGV4dCB4PSIyMDAiIHk9IjI2MCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSIjNkI3MzgwIj5Kb2IgQWR2ZXJ0aXNlbWVudDwvdGV4dD4KPC9zdmc+",b.target.className="max-w-full max-h-64 w-auto h-auto rounded-lg border-2 border-dashed border-gray-300 bg-gray-100"}}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full flex items-center",children:[e.jsx(gt,{className:"w-3 h-3 mr-1"}),"Uploaded"]})})]})}),e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("button",{onClick:()=>{const b=w.cutout.file_url||w.cutout.preview_url,P=document.createElement("div");P.style.cssText="position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.9);z-index:9999;display:flex;align-items:center;justify-content:center;cursor:pointer";const ae=document.createElement("img");ae.src=b,ae.style.cssText="max-width:95%;max-height:95%;object-fit:contain",P.appendChild(ae),P.onclick=()=>document.body.removeChild(P),document.body.appendChild(P)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"View Full Screen"]})})]}),e.jsxs("div",{className:"mt-3 p-2 bg-green-50 border border-green-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"Section Complete:"})," Job advertisement image uploaded successfully."]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," No job advertisement image provided"]}),e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"To complete this section:"})," Upload a job advertisement image (cutout) for better visibility and engagement."]})]})})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:`p-4 border-l-4 ${w.review&&w.review.is_complete?"border-green-500 bg-green-50":"border-orange-400 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[w.review&&w.review.is_complete?e.jsx(gt,{className:"w-5 h-5 text-green-600 mr-2"}):e.jsx(Dt,{className:"w-5 h-5 text-orange-500 mr-2"}),"7. Review"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{H(!1),re(null),Fe(w,6)},className:"text-xs px-2 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Edit Review",children:e.jsx(Nt,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.review&&w.review.is_complete?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.review&&w.review.is_complete?"Completed":"Incomplete"})]})]}),e.jsx("div",{className:"text-sm space-y-3",children:w.review&&w.review.is_complete?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:[" ",e.jsx("strong",{children:"Section Complete:"})," Review completed."]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," No review provided"]}),e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"To complete this section:"})," Review the draft and confirm all details are correct."]})]})})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("div",{className:`p-4 border-l-4 ${w.submit&&w.submit.is_complete?"border-green-500 bg-green-50":"border-orange-400 bg-orange-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[w.submit&&w.submit.is_complete?e.jsx(gt,{className:"w-5 h-5 text-green-600 mr-2"}):e.jsx(Dt,{className:"w-5 h-5 text-orange-500 mr-2"}),"8. Submit"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{H(!1),re(null),Fe(w,7)},className:"text-xs px-2 py-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Edit Submit",children:e.jsx(Nt,{className:"w-3 h-3"})}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${w.submit&&w.submit.is_complete?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:w.submit&&w.submit.is_complete?"Completed":"Incomplete"})]})]}),e.jsx("div",{className:"text-sm space-y-3",children:w.submit&&w.submit.is_complete?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:[" ",e.jsx("strong",{children:"Section Complete:"})," Submission completed."]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"text-orange-600 bg-orange-50 px-2 py-1 rounded border-l-2 border-orange-400",children:[" ",e.jsx("strong",{children:"Missing:"})," No submission provided"]}),e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[" ",e.jsx("strong",{children:"To complete this section:"})," Submit the draft for final approval."]})]})})]})})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>{H(!1),re(null)},className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Back to Selection"]}),e.jsxs("button",{onClick:()=>{H(!1),re(null),Fe(w,w.is_bulk_draft?0:3)},className:"inline-flex items-center px-4 py-2 text-sm font-medium text-primary-700 bg-primary-50 border border-primary-200 rounded-md hover:bg-primary-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 shadow-sm hover:shadow-md",title:w.is_bulk_draft?"Edit bulk draft settings and entries":"Continue editing this draft",children:[e.jsx(Nt,{className:"w-4 h-4 mr-2"}),w.is_bulk_draft?"Edit Bulk Draft":"Continue Editing"]})]}),e.jsx("button",{onClick:async()=>{try{if(w.is_bulk_draft){Se(w);return}if(w.is_partial){Le(" Cannot publish incomplete draft. Please complete all required fields first.","error");return}await at(w.id),H(!1),re(null),Le(" Job published successfully from preview!","success")}catch{Le(" Failed to publish job. Please try again.","error")}},className:`inline-flex items-center px-6 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 shadow-sm hover:shadow-md ${w.is_partial?"bg-gray-400 cursor-not-allowed":w.is_bulk_draft?"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 focus:ring-orange-500":[w.title&&w.company&&w.country,w.period_years&&w.employment_type,w.positions&&w.positions.length>0,w.skills&&w.skills.length>0||w.tags&&w.tags.length>0,w.expenses&&w.expenses.length>0,w.cutout&&(w.cutout.has_file||w.cutout.is_uploaded),w.interview&&w.interview.date_ad].filter(Boolean).length>=5?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"bg-orange-600 hover:bg-orange-700 focus:ring-orange-500"}`,disabled:$.has(w.id)||w.is_partial,title:w.is_bulk_draft?"Publish bulk draft with current details (missing fields will be marked N/A)":w.is_partial?"Complete the draft before publishing":"Publish this job",children:$.has(w.id)?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 mr-2 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Publishing..."]}):e.jsx(e.Fragment,{children:w.is_bulk_draft?e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Publish Options"]}):e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),w.is_partial?"Complete Draft First":[w.title&&w.company&&w.country,w.period_years&&w.employment_type,w.positions&&w.positions.length>0,w.skills&&w.skills.length>0||w.tags&&w.tags.length>0,w.expenses&&w.expenses.length>0,w.cutout&&(w.cutout.has_file||w.cutout.is_uploaded),w.interview&&w.interview.date_ad].filter(Boolean).length>=5?"Publish Now":"Publish (Incomplete)"]})})})]})]})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${W==="delete"?"bg-red-100":W==="publish"?"bg-green-100":"bg-blue-100"}`,children:[W==="delete"&&e.jsx(fr,{className:"w-5 h-5 text-red-600"}),W==="publish"&&e.jsx(gt,{className:"w-5 h-5 text-green-600"}),W==="edit"&&e.jsx(Nt,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[W==="delete"&&"Delete Draft",W==="publish"&&"Publish Draft",W==="edit"&&"Edit Draft"]})]}),e.jsxs("div",{className:"mb-6",children:[W==="delete"&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:["Are you sure you want to delete ",e.jsxs("strong",{children:['"',U?.title,'"']}),"?"]}),e.jsx("p",{className:"text-red-600 text-sm font-medium",children:" This action cannot be undone. All draft data will be permanently lost."})]}),W==="publish"&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-700 mb-2",children:["Are you sure you want to publish ",e.jsxs("strong",{children:['"',U?.title,'"']}),"?"]}),e.jsx("p",{className:"text-green-600 text-sm font-medium",children:" This will make the job posting live and visible to candidates."})]}),W==="edit"&&U?.hasChanges&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 mb-2",children:"You have unsaved changes in the current draft."}),e.jsx("p",{className:"text-orange-600 text-sm font-medium",children:" Opening the editor will discard any unsaved changes."})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{k(!1),C(null),oe(null)},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:rt,className:`flex-1 px-4 py-2 text-sm font-medium text-white rounded-md transition-colors ${W==="delete"?"bg-red-600 hover:bg-red-700":W==="publish"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:[W==="delete"&&"Delete Draft",W==="publish"&&"Publish Now",W==="edit"&&"Continue Editing"]})]})]})})}),ue&&ve&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-3 bg-orange-100",children:e.jsx(jt,{className:"w-5 h-5 text-orange-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Publish Bulk Draft"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-gray-700 mb-3",children:["You're about to publish ",e.jsxs("strong",{children:[ve.total_jobs," jobs"]})," from this bulk draft."]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"})," We Recommend: Complete Individual Details"]}),e.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"For best results, expand this bulk draft into individual drafts where you can fill in all job details properly."}),e.jsxs("button",{onClick:async()=>{ge(!1),await pt(ve)},className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Expand & Complete Details"]})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-amber-900 mb-2 flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"})," Force Publish Option"]}),e.jsxs("p",{className:"text-sm text-amber-700 mb-3",children:["If you proceed with force publish, missing job details will be marked as ",e.jsx("strong",{children:'"N/A"'}),". This includes:"]}),e.jsxs("ul",{className:"text-sm text-amber-700 list-disc list-inside mb-3 space-y-1",children:[e.jsx("li",{children:"Salary information"}),e.jsx("li",{children:"Detailed job requirements"}),e.jsx("li",{children:"Contact information"}),e.jsx("li",{children:"Accommodation & benefits details"}),e.jsx("li",{children:"Contract specifics"})]}),e.jsx("p",{className:"text-sm text-amber-700",children:"Only basic information from your bulk draft (Position, Country, Job Count) will be used."})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{ge(!1),Ie(null)},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{await he(ve)},className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 rounded-md transition-colors",children:" Force Publish with N/A"})]})]})})}),Q&&e.jsx("div",{className:"fixed top-4 right-4 z-50 transform transition-all duration-300 ease-in-out animate-in slide-in-from-right-full",children:e.jsxs("div",{className:`flex items-center p-4 rounded-lg shadow-xl border-l-4 min-w-[300px] max-w-[500px] ${L==="success"?"bg-green-50 border-green-500 text-green-800":L==="error"?"bg-red-50 border-red-500 text-red-800":"bg-blue-50 border-blue-500 text-blue-800"}`,children:[e.jsxs("div",{className:"flex items-center",children:[L==="success"&&e.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center mr-3",children:e.jsx(gt,{className:"w-3 h-3 text-white"})}),L==="error"&&e.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center mr-3",children:e.jsx(st,{className:"w-3 h-3 text-white"})}),L==="info"&&e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center mr-3",children:e.jsx(jt,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-medium text-sm",children:_e})]}),e.jsx("button",{onClick:()=>se(!1),className:`ml-3 p-1 rounded-full hover:bg-opacity-20 ${L==="success"?"hover:bg-green-600":L==="error"?"hover:bg-red-600":"hover:bg-blue-600"}`,children:e.jsx(st,{className:"w-4 h-4"})})]})})]})},Fj=({resourceType:n="AGENCY_PROFILE",resourceId:a="agency_001"})=>{const[r,i]=j.useState([]),[o,d]=j.useState(!0),[m,p]=j.useState(null),[x,f]=j.useState({resource_type:n,resource_id:a,page:1,limit:20}),[v,h]=j.useState(new Set),[_,F]=j.useState(null);j.useEffect(()=>{(async()=>{try{d(!0);const[R,K]=await Promise.all([$e.getAuditLogs(x),$e.getAuditSummary(n,a)]);i(R.logs),F(K)}catch{p("Failed to load audit logs")}finally{d(!1)}})()},[x,n,a]);const I=z=>{const R=new Set(v);R.has(z)?R.delete(z):R.add(z),h(R)},E=z=>({UPDATE:Nt,CREATE:Ot,DELETE:jt,FILE_UPLOAD:Nr,LOGIN:Yt,LOGOUT:Yt})[z]||di,$=z=>({UPDATE:"text-blue-600 bg-blue-100",CREATE:"text-green-600 bg-green-100",DELETE:"text-red-600 bg-red-100",FILE_UPLOAD:"text-purple-600 bg-purple-100",LOGIN:"text-gray-600 bg-gray-100",LOGOUT:"text-gray-600 bg-gray-100"})[z]||"text-gray-600 bg-gray-100",O=z=>Object.entries(z).map(([R,K])=>({field:R,from:K.from,to:K.to}));return o?e.jsx("div",{className:"card p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(z=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},z))})]})}):e.jsxs("div",{className:"space-y-6",children:[_&&e.jsxs("div",{className:"card p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(rn,{className:"w-5 h-5 mr-2"}),"Audit Summary"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:_.total_changes}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Changes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:_.unique_users}),e.jsx("div",{className:"text-sm text-gray-600",children:"Users Involved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.first_change?Ne(new Date(_.first_change),"MMM d, yyyy"):"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"First Change"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.last_change?Ne(new Date(_.last_change),"MMM d, yyyy"):"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Last Change"})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Change History"]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{className:"btn-secondary text-sm flex items-center",children:[e.jsx(Sd,{className:"w-4 h-4 mr-1"}),"Filter"]})})]}),m&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("p",{className:"text-red-800",children:m})]})}),r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No audit logs found"}),e.jsx("p",{className:"text-gray-600",children:"Changes will appear here once they are made."})]}):e.jsx("div",{className:"space-y-4",children:r.map(z=>{const R=E(z.action),K=v.has(z.id),Z=O(z.changes);return e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>I(z.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${$(z.action)}`,children:e.jsx(R,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:$e.getActionLabel(z.action)}),e.jsxs("span",{className:"text-sm text-gray-500",children:["by ",z.user_name]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dt,{className:"w-3 h-3 mr-1"}),Ne(new Date(z.timestamp),"PPp")]}),Z.length>0&&e.jsxs("div",{children:[Z.length," field",Z.length!==1?"s":""," changed"]}),z.metadata?.section&&e.jsx("div",{className:"chip chip-blue text-xs",children:z.metadata.section})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:K?e.jsx(an,{className:"w-4 h-4 text-gray-400"}):e.jsx(oi,{className:"w-4 h-4 text-gray-400"})})]})}),K&&e.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:[Z.length>0?e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Changes Made:"}),e.jsx("div",{className:"space-y-3",children:Z.map((ee,te)=>e.jsxs("div",{className:"bg-white rounded-md p-3 border",children:[e.jsx("div",{className:"font-medium text-sm text-gray-700 mb-2",children:ee.field.replace(/_/g," ").replace(/\b\w/g,Q=>Q.toUpperCase())}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500 mb-1",children:"From:"}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded px-2 py-1 text-red-800",children:typeof ee.from=="object"?JSON.stringify(ee.from,null,2):ee.from||"Empty"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500 mb-1",children:"To:"}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded px-2 py-1 text-green-800",children:typeof ee.to=="object"?JSON.stringify(ee.to,null,2):ee.to||"Empty"})]})]})]},te))})]}):e.jsx("p",{className:"text-gray-600",children:"No detailed changes recorded."}),z.metadata&&Object.keys(z.metadata).length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Information:"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[z.metadata.file_name&&e.jsxs("div",{children:["File: ",z.metadata.file_name]}),z.metadata.file_size&&e.jsxs("div",{children:["Size: ",(z.metadata.file_size/1024).toFixed(1)," KB"]}),z.metadata.browser&&e.jsxs("div",{children:["Browser: ",z.metadata.browser]}),e.jsxs("div",{children:["Session: ",z.session_id]}),e.jsxs("div",{children:["IP: ",z.ip_address]})]})]})]})]},z.id)})})]})]})},$j=()=>{const{agencyData:n,updateAgencyData:a,updateAgencyLogo:r,updateAgencyName:i,isLoading:o}=s0(),[d,m]=j.useState("basic"),[p,x]=j.useState(!1),[f,v]=j.useState(!1),[h,_]=j.useState(null),[F,I]=j.useState(null),[E,$]=j.useState(null),[O,z]=j.useState({}),[R]=j.useState({id:"user_001",name:"Current User",email:"user@agency.com"}),K=o||p,Z=(pe,L)=>{z(V=>({...V,[pe]:L}))},ee=(pe,L={})=>{$(pe),z(L),_(null),I(null)},te=()=>{$(null),z({})},Q=async pe=>{try{v(!0),_(null);const L={user:R};let V;switch(pe){case"basic":V=await Ps.updateBasicInfo(O,L);break;case"contact":V=await Ps.updateContactInfo(O,L);break;case"social":V=await Ps.updateSocialMedia(O,L);break;case"settings":V=await Ps.updateSettings(O,L);break;case"hours":V=await Ps.updateOperatingHours(O,L);break;case"services":V=await Ps.updateServices(O.services||[],L);break;case"countries":V=await Ps.updateTargetCountries(O.countries||[],L);break;case"specializations":V=await Ps.updateSpecializations(O.specializations||[],L);break;default:V=await Ps.updateAgencyProfile(O,L)}a(V),pe==="basic"&&O.name&&i(O.name),$(null),z({}),I("Changes saved successfully!"),setTimeout(()=>I(null),3e3)}catch{_("Failed to save changes")}finally{v(!1)}},se=async(pe,L)=>{try{v(!0),_(null);const V={user:R};let D;L==="logo"?D=await Ps.uploadLogo(pe,V):L==="banner"&&(D=await Ps.uploadBanner(pe,V)),a(D),L==="logo"&&r(D.logo_url),I(`${L==="logo"?"Logo":"Banner"} updated successfully!`),setTimeout(()=>I(null),3e3)}catch{_(`Failed to upload ${L}`)}finally{v(!1)}};if(K)return e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(pe=>e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},pe))})]})}),e.jsx("div",{children:e.jsxs("div",{className:"card p-6",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded"})]})})]})]})});const _e=[{id:"basic",label:"Basic Info",icon:jd},{id:"contact",label:"Contact",icon:gs},{id:"location",label:"Location",icon:Ls},{id:"media",label:"Images",icon:li},{id:"social",label:"Social Media",icon:ci},{id:"services",label:"Services",icon:Is},{id:"settings",label:"Settings",icon:di},{id:"audit",label:"Audit Log",icon:rn}];return e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agency Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your agency profile, contact information, and preferences"})]}),F&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(os,{className:"w-5 h-5 text-green-500 mr-2"}),e.jsx("p",{className:"text-green-800",children:F})]})}),h&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("p",{className:"text-red-800",children:h})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:_e.map(pe=>{const L=pe.icon;return e.jsxs("button",{onClick:()=>m(pe.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${d===pe.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),pe.label]},pe.id)})})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[d==="basic"&&e.jsx(Bj,{data:n,isEditing:E==="basic",formData:O,onFormChange:Z,onStartEdit:()=>ee("basic",{name:n.name,description:n.description,established_year:n.established_year,license_number:n.license_number}),onSave:()=>Q("basic"),onCancel:te,isSaving:f}),d==="contact"&&e.jsx(Uj,{data:n,isEditing:E==="contact",formData:O,onFormChange:Z,onStartEdit:()=>ee("contact",{phone:n.phone,mobile:n.mobile,email:n.email,website:n.website}),onSave:()=>Q("contact"),onCancel:te,isSaving:f}),d==="location"&&e.jsx(zj,{data:n,isEditing:E==="location",formData:O,onFormChange:Z,onStartEdit:()=>ee("location",{address:n.address}),onSave:()=>Q("basic"),onCancel:te,isSaving:f}),d==="media"&&e.jsx(Wj,{data:n,onFileUpload:se,isSaving:f,onLogoUpdate:r}),d==="social"&&e.jsx(Jj,{data:n,isEditing:E==="social",formData:O,onFormChange:Z,onStartEdit:()=>ee("social",n.social_media||{}),onSave:()=>Q("social"),onCancel:te,isSaving:f}),d==="services"&&e.jsx(Hj,{data:n,isEditing:E==="services",formData:O,onFormChange:Z,onStartEdit:()=>ee("services",{services:n.services||[],specializations:n.specializations||[],countries:n.target_countries||[]}),onSave:()=>Q("services"),onCancel:te,isSaving:f}),d==="settings"&&e.jsx(Vj,{data:n,isEditing:E==="settings",formData:O,onFormChange:Z,onStartEdit:()=>ee("settings",n.settings||{}),onSave:()=>Q("settings"),onCancel:te,isSaving:f}),d==="audit"&&e.jsx(Fj,{resourceType:"AGENCY_PROFILE",resourceId:n?.id||"agency_001"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(qj,{data:n}),e.jsx(Kj,{data:n})]})]})]})},Bj=({data:n,isEditing:a,formData:r,onFormChange:i,onStartEdit:o,onSave:d,onCancel:m,isSaving:p})=>a?e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Basic Information"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",disabled:p,children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:p,className:"btn-primary text-sm flex items-center",children:[e.jsx(ya,{className:"w-4 h-4 mr-1"}),p?"Saving...":"Save"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agency Name *"}),e.jsx("input",{type:"text",value:r.name||"",onChange:x=>{i("name",x.target.value),x.target.value.trim()},className:"form-input",placeholder:"Enter agency name"}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" This will update the agency name in the navigation menu"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:r.description||"",onChange:x=>i("description",x.target.value),rows:4,className:"form-textarea",placeholder:"Describe your agency's mission and services"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established Year"}),e.jsx("input",{type:"number",value:r.established_year||"",onChange:x=>i("established_year",parseInt(x.target.value)),className:"form-input",placeholder:"2020",min:"1900",max:new Date().getFullYear()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number *"}),e.jsx("input",{type:"text",value:r.license_number||"",onChange:x=>i("license_number",x.target.value),className:"form-input",placeholder:"REG-2024-001"})]})]})]})]}):e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),e.jsxs("button",{onClick:o,className:"btn-secondary text-sm flex items-center",children:[e.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agency Name"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Established"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.established_year})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"License Number"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.license_number})]})]})]})]}),Uj=({data:n,isEditing:a,formData:r,onFormChange:i,onStartEdit:o,onSave:d,onCancel:m,isSaving:p})=>a?e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Contact Information"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",disabled:p,children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:p,className:"btn-primary text-sm flex items-center",children:[e.jsx(ya,{className:"w-4 h-4 mr-1"}),p?"Saving...":"Save"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),e.jsx("input",{type:"tel",value:r.phone||"",onChange:x=>i("phone",x.target.value),className:"form-input",placeholder:"+977-1-4567890"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile *"}),e.jsx("input",{type:"tel",value:r.mobile||"",onChange:x=>i("mobile",x.target.value),className:"form-input",placeholder:"+977-9841234567"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",value:r.email||"",onChange:x=>i("email",x.target.value),className:"form-input",placeholder:"info@agency.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsx("input",{type:"url",value:r.website||"",onChange:x=>i("website",x.target.value),className:"form-input",placeholder:"www.agency.com"})]})]})]}):e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Contact Information"}),e.jsxs("button",{onClick:o,className:"btn-secondary text-sm flex items-center",children:[e.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.phone})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.mobile})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Sr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ci,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("a",{href:`https://${n.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:text-primary-800",children:n.website})]})]})]})]}),zj=({data:n,isEditing:a,formData:r,onFormChange:i,onStartEdit:o,onSave:d,onCancel:m,isSaving:p})=>a?e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Location"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",disabled:p,children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:p,className:"btn-primary text-sm flex items-center",children:[e.jsx(ya,{className:"w-4 h-4 mr-1"}),p?"Saving...":"Save"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),e.jsx("textarea",{value:r.address||"",onChange:x=>i("address",x.target.value),rows:3,className:"form-textarea",placeholder:"Enter complete address including city, district, and country"})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Tip:"})," Include landmarks and detailed directions to help candidates find your office easily."]})})]})]}):e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Location"}),e.jsxs("button",{onClick:o,className:"btn-secondary text-sm flex items-center",children:[e.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(Ls,{className:"w-4 h-4 text-gray-400 mr-2 mt-0.5"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.address})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"text-sm text-gray-600",children:"This address will be displayed on your public profile and used for candidate visits."})})]})]}),Wj=({data:n,onFileUpload:a,isSaving:r,onLogoUpdate:i})=>{const o=(d,m)=>{const p=d.target.files[0];if(p){if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(p.type)){alert("Please select a valid image file (JPEG, PNG, or GIF)");return}if(p.size>5242880){alert("File size must be less than 5MB");return}if(m==="logo"){const f=new FileReader;f.onload=v=>{i&&i(v.target.result)},f.readAsDataURL(p)}a(p,m)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Agency Logo"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:n.logo_url?e.jsx("img",{src:n.logo_url,alt:"Agency Logo",className:"w-full h-full object-cover"}):e.jsx(jd,{className:"w-8 h-8 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Upload your agency logo. This will be displayed on your profile and job postings."}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"btn-secondary text-sm flex items-center cursor-pointer",children:[e.jsx(Nr,{className:"w-4 h-4 mr-1"}),r?"Uploading...":"Upload Logo",e.jsx("input",{type:"file",accept:"image/*",onChange:d=>o(d,"logo"),className:"hidden",disabled:r})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Max 5MB, JPEG/PNG/GIF"})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:" Changes will appear instantly in the navigation menu"})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Agency Banner"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:n.banner_url?e.jsx("img",{src:n.banner_url,alt:"Agency Banner",className:"w-full h-full object-cover"}):e.jsx(li,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Upload a banner image for your agency profile. Recommended size: 1200x300 pixels."}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"btn-secondary text-sm flex items-center cursor-pointer",children:[e.jsx(Nr,{className:"w-4 h-4 mr-1"}),r?"Uploading...":"Upload Banner",e.jsx("input",{type:"file",accept:"image/*",onChange:d=>o(d,"banner"),className:"hidden",disabled:r})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Max 5MB, JPEG/PNG/GIF"})]})]})]})]})]})},Jj=({data:n,isEditing:a,formData:r,onFormChange:i,onStartEdit:o,onSave:d,onCancel:m,isSaving:p})=>{const x=[{key:"facebook",label:"Facebook",placeholder:"https://facebook.com/yourpage"},{key:"instagram",label:"Instagram",placeholder:"https://instagram.com/yourpage"},{key:"linkedin",label:"LinkedIn",placeholder:"https://linkedin.com/company/yourcompany"},{key:"twitter",label:"Twitter",placeholder:"https://twitter.com/yourhandle"}];return a?e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Social Media"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",disabled:p,children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:p,className:"btn-primary text-sm flex items-center",children:[e.jsx(ya,{className:"w-4 h-4 mr-1"}),p?"Saving...":"Save"]})]})]}),e.jsx("div",{className:"space-y-4",children:x.map(f=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f.label}),e.jsx("input",{type:"url",value:r[f.key]||"",onChange:v=>i(f.key,v.target.value),className:"form-input",placeholder:f.placeholder})]},f.key))})]}):e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Social Media"}),e.jsxs("button",{onClick:o,className:"btn-secondary text-sm flex items-center",children:[e.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsx("div",{className:"space-y-4",children:x.map(f=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f.label}),n.social_media?.[f.key]?e.jsx("a",{href:n.social_media[f.key],target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:text-primary-800 break-all",children:n.social_media[f.key]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Not set"})]},f.key))})]})},Hj=({data:n,isEditing:a,formData:r,onFormChange:i,onStartEdit:o,onSave:d,onCancel:m,isSaving:p})=>{const x=(v,h)=>{const _=r[v]||[];h.trim()&&!_.includes(h.trim())&&i(v,[..._,h.trim()])},f=(v,h)=>{const _=r[v]||[];i(v,_.filter((F,I)=>I!==h))};return a?e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Services & Specializations"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",disabled:p,children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:p,className:"btn-primary text-sm flex items-center",children:[e.jsx(ya,{className:"w-4 h-4 mr-1"}),p?"Saving...":"Save"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Services Offered"}),e.jsxs("div",{className:"space-y-2",children:[(r.services||[]).map((v,h)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded-md",children:[e.jsx("span",{className:"text-sm",children:v}),e.jsx("button",{onClick:()=>f("services",h),className:"text-red-500 hover:text-red-700",children:e.jsx(st,{className:"w-4 h-4"})})]},h)),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Add new service",className:"form-input flex-1",onKeyPress:v=>{v.key==="Enter"&&(x("services",v.target.value),v.target.value="")}}),e.jsx("button",{onClick:v=>{const h=v.target.previousElementSibling;x("services",h.value),h.value=""},className:"btn-secondary text-sm",children:e.jsx(xs,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations"}),e.jsxs("div",{className:"space-y-2",children:[(r.specializations||[]).map((v,h)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded-md",children:[e.jsx("span",{className:"text-sm",children:v}),e.jsx("button",{onClick:()=>f("specializations",h),className:"text-red-500 hover:text-red-700",children:e.jsx(st,{className:"w-4 h-4"})})]},h)),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Add specialization",className:"form-input flex-1",onKeyPress:v=>{v.key==="Enter"&&(x("specializations",v.target.value),v.target.value="")}}),e.jsx("button",{onClick:v=>{const h=v.target.previousElementSibling;x("specializations",h.value),h.value=""},className:"btn-secondary text-sm",children:e.jsx(xs,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Countries"}),e.jsxs("div",{className:"space-y-2",children:[(r.countries||[]).map((v,h)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded-md",children:[e.jsx("span",{className:"text-sm",children:v}),e.jsx("button",{onClick:()=>f("countries",h),className:"text-red-500 hover:text-red-700",children:e.jsx(st,{className:"w-4 h-4"})})]},h)),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("select",{className:"form-select flex-1",onChange:v=>{v.target.value&&(x("countries",v.target.value),v.target.value="")},children:[e.jsx("option",{value:"",children:"Select country to add"}),e.jsx("option",{value:"UAE",children:"UAE"}),e.jsx("option",{value:"Saudi Arabia",children:"Saudi Arabia"}),e.jsx("option",{value:"Qatar",children:"Qatar"}),e.jsx("option",{value:"Kuwait",children:"Kuwait"}),e.jsx("option",{value:"Oman",children:"Oman"}),e.jsx("option",{value:"Bahrain",children:"Bahrain"}),e.jsx("option",{value:"Malaysia",children:"Malaysia"}),e.jsx("option",{value:"Singapore",children:"Singapore"})]})})]})]})]})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Services & Specializations"}),e.jsxs("button",{onClick:o,className:"btn-secondary text-sm flex items-center",children:[e.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Services Offered"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.services?.map((v,h)=>e.jsx("span",{className:"chip chip-blue",children:v},h))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.specializations?.map((v,h)=>e.jsx("span",{className:"chip chip-green",children:v},h))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Target Countries"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.target_countries?.map((v,h)=>e.jsx("span",{className:"chip chip-yellow",children:v},h))})]})]})]})})},Vj=({data:n,isEditing:a,formData:r,onFormChange:i,onStartEdit:o,onSave:d,onCancel:m,isSaving:p})=>a?e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Settings"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:m,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800",disabled:p,children:"Cancel"}),e.jsxs("button",{onClick:d,disabled:p,className:"btn-primary text-sm flex items-center",children:[e.jsx(ya,{className:"w-4 h-4 mr-1"}),p?"Saving...":"Save"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),e.jsxs("select",{value:r.currency||"",onChange:x=>i("currency",x.target.value),className:"form-select",children:[e.jsx("option",{value:"NPR",children:"NPR - Nepali Rupee"}),e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"AED",children:"AED - UAE Dirham"}),e.jsx("option",{value:"SAR",children:"SAR - Saudi Riyal"}),e.jsx("option",{value:"QAR",children:"QAR - Qatari Riyal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),e.jsxs("select",{value:r.timezone||"",onChange:x=>i("timezone",x.target.value),className:"form-select",children:[e.jsx("option",{value:"Asia/Kathmandu",children:"Asia/Kathmandu"}),e.jsx("option",{value:"Asia/Dubai",children:"Asia/Dubai"}),e.jsx("option",{value:"Asia/Riyadh",children:"Asia/Riyadh"}),e.jsx("option",{value:"Asia/Qatar",children:"Asia/Qatar"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),e.jsxs("select",{value:r.language||"",onChange:x=>i("language",x.target.value),className:"form-select",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ne",children:"Nepali"}),e.jsx("option",{value:"hi",children:"Hindi"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Format"}),e.jsxs("select",{value:r.date_format||"",onChange:x=>i("date_format",x.target.value),className:"form-select",children:[e.jsx("option",{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx("option",{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx("option",{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Notifications"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.notifications?.email_enabled||!1,onChange:x=>i("notifications",{...r.notifications,email_enabled:x.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Email notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.notifications?.sms_enabled||!1,onChange:x=>i("notifications",{...r.notifications,sms_enabled:x.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"SMS notifications"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.notifications?.push_enabled||!1,onChange:x=>i("notifications",{...r.notifications,push_enabled:x.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Push notifications"})]})]})]})]})]}):e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Settings"}),e.jsxs("button",{onClick:o,className:"btn-secondary text-sm flex items-center",children:[e.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.settings?.currency||"NPR"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.settings?.timezone||"Asia/Kathmandu"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.settings?.language==="en"?"English":n.settings?.language})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Format"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.settings?.date_format||"DD/MM/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notifications"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${n.settings?.notifications?.email_enabled?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-sm text-gray-700",children:"Email notifications"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${n.settings?.notifications?.sms_enabled?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-sm text-gray-700",children:"SMS notifications"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${n.settings?.notifications?.push_enabled?"bg-green-500":"bg-gray-300"}`}),e.jsx("span",{className:"text-sm text-gray-700",children:"Push notifications"})]})]})]})]})]}),qj=({data:n})=>e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Agency Preview"}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg mx-auto mb-3 flex items-center justify-center overflow-hidden",children:n.logo_url?e.jsx("img",{src:n.logo_url,alt:"Agency Logo",className:"w-full h-full object-cover"}):e.jsx(jd,{className:"w-6 h-6 text-gray-400"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:n.name}),e.jsx("p",{className:"text-sm text-gray-600",children:n.address})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{children:n.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Sr,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{children:n.email})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ci,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{children:n.website})]})]})]}),Kj=({data:n})=>{const a=[{label:"Total Placements",value:n.statistics?.total_placements||0,icon:_t},{label:"Success Rate",value:`${n.statistics?.success_rate||0}%`,icon:cy},{label:"Countries Served",value:n.statistics?.countries_served||0,icon:ci},{label:"Partner Companies",value:n.statistics?.partner_companies||0,icon:Is}];return e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),e.jsx("div",{className:"space-y-4",children:a.map((r,i)=>{const o=r.icon;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(o,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:r.label})]}),e.jsx("span",{className:"font-semibold text-gray-900",children:r.value})]},i)})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Dt,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["Active since ",new Date(n.statistics?.active_since).getFullYear()]})]})})]})},Yj=()=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx($j,{})});function h0(n){var a,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(a=0;a<o;a++)n[a]&&(r=h0(n[a]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function Gj(){for(var n,a,r=0,i="",o=arguments.length;r<o;r++)(n=arguments[r])&&(a=h0(n))&&(i&&(i+=" "),i+=a);return i}const Zh=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Xh=Gj,p0=(n,a)=>r=>{var i;if(a?.variants==null)return Xh(n,r?.class,r?.className);const{variants:o,defaultVariants:d}=a,m=Object.keys(o).map(f=>{const v=r?.[f],h=d?.[f];if(v===null)return null;const _=Zh(v)||Zh(h);return o[f][_]}),p=r&&Object.entries(r).reduce((f,v)=>{let[h,_]=v;return _===void 0||(f[h]=_),f},{}),x=a==null||(i=a.compoundVariants)===null||i===void 0?void 0:i.reduce((f,v)=>{let{class:h,className:_,...F}=v;return Object.entries(F).every(I=>{let[E,$]=I;return Array.isArray($)?$.includes({...d,...p}[E]):{...d,...p}[E]===$})?[...f,h,_]:f},[]);return Xh(n,m,x,r?.class,r?.className)},Qj=p0("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",{variants:{variant:{primary:["bg-gradient-to-r from-brand-navy to-brand-blue-bright text-white","hover:from-brand-navy/90 hover:to-brand-blue-bright/90","focus:ring-brand-blue-bright","shadow-md hover:shadow-lg"],secondary:["bg-white/80 backdrop-blur-sm text-gray-800 border border-gray-200/50","hover:bg-white/90 hover:border-gray-300/50","focus:ring-brand-blue-bright"],success:["bg-gradient-to-r from-brand-green-vibrant to-green-500 text-white","hover:from-brand-green-vibrant/90 hover:to-green-500/90","focus:ring-brand-green-vibrant"],danger:["bg-gradient-to-r from-red-500 to-red-600 text-white","hover:from-red-500/90 hover:to-red-600/90","focus:ring-red-500"],outline:["bg-transparent border border-brand-blue-bright text-brand-navy","hover:bg-brand-blue-bright/10","focus:ring-brand-blue-bright"],ghost:["bg-transparent text-gray-700 hover:text-brand-navy","hover:bg-gray-100/50","focus:ring-brand-blue-bright"]},size:{sm:"text-xs px-3 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3",xl:"text-lg px-8 py-4"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"primary",size:"md"}}),tt=j.forwardRef(({children:n,variant:a="primary",size:r="md",fullWidth:i=!1,loading:o=!1,disabled:d=!1,className:m="",leftIcon:p,rightIcon:x,...f},v)=>{const h=d||o;return e.jsxs("button",{ref:v,className:Qj({variant:a,size:r,fullWidth:i,className:m}),disabled:h,...f,children:[o&&e.jsx(eo,{className:`mr-2 animate-spin ${r==="sm"?"w-3 h-3":r==="lg"||r==="xl"?"w-5 h-5":"w-4 h-4"}`}),p&&!o&&e.jsx("span",{className:"mr-2",children:p}),n,x&&e.jsx("span",{className:"ml-2",children:x})]})});tt.displayName="Button";const ao=({children:n,className:a="",...r})=>e.jsx("div",{className:`bg-white/80 backdrop-blur-sm shadow-lg rounded-xl overflow-hidden border border-gray-200/50 transition-all duration-300 hover:shadow-xl ${a}`,...r,children:n}),hi=({children:n,className:a="",...r})=>e.jsx("div",{className:`px-6 py-4 border-b border-gray-200/50 bg-white/50 ${a}`,...r,children:n}),pi=({children:n,className:a="",...r})=>e.jsx("h3",{className:`text-lg font-bold text-gray-900 bg-gradient-to-r from-brand-navy to-brand-blue-bright bg-clip-text text-transparent ${a}`,...r,children:n}),xi=({children:n,className:a="",...r})=>e.jsx("div",{className:`px-6 py-4 ${a}`,...r,children:n}),ro=({children:n,className:a="",...r})=>e.jsx("div",{className:`px-6 py-4 bg-gray-50/50 border-t border-gray-200/50 backdrop-blur-sm ${a}`,...r,children:n}),Zj="/assets/logo-eTx7uKJs.svg",Xj=()=>{const[n,a]=j.useState(""),[r,i]=j.useState(""),[o,d]=j.useState(!1),[m,p]=j.useState(""),[x,f]=j.useState(!1),{login:v,isAuthenticated:h}=ui(),_=ba(),F=Qa();j.useEffect(()=>{if(h){const E=F.state?.from?.pathname||"/dashboard";_(E,{replace:!0})}},[h,_,F]);const I=async E=>{E.preventDefault(),f(!0),p("");try{const $=await v(n,r);if($.success){const O=F.state?.from?.pathname||"/dashboard";_(O,{replace:!0})}else p($.error)}catch{p("An unexpected error occurred. Please try again.")}finally{f(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-brand-navy/10 via-brand-blue-bright/5 to-brand-green-vibrant/10 p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("div",{className:"flex flex-col items-center mb-4",children:[e.jsx("img",{src:Zj,alt:"Udaan Sarathi Logo",className:"w-40 h-40 object-contain mb-2 drop-shadow-lg"}),e.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-brand-navy to-brand-blue-bright bg-clip-text text-transparent",children:"Udaan Sarathi"}),e.jsx("p",{className:"text-gray-600",children:"Recruitment Management Portal"})]})}),e.jsxs(ao,{children:[e.jsx(hi,{children:e.jsx(pi,{className:"text-center text-xl",children:"Sign in to your account"})}),e.jsx(xi,{children:e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[m&&e.jsx("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 rounded-lg p-3 text-sm text-red-700 shadow-sm",children:m}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Yt,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:n,onChange:E=>a(E.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue-bright focus:border-brand-blue-bright backdrop-blur-sm bg-white/50 transition-all",placeholder:"Enter your username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Ul,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:r,onChange:E=>i(E.target.value),className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue-bright focus:border-brand-blue-bright backdrop-blur-sm bg-white/50 transition-all",placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-brand-navy transition-colors",onClick:()=>d(!o),children:o?e.jsx(ay,{className:"h-5 w-5"}):e.jsx(Xt,{className:"h-5 w-5"})})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg shadow-md text-sm font-medium text-white bg-gradient-to-r from-brand-navy to-brand-blue-bright hover:from-brand-navy/90 hover:to-brand-blue-bright/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-blue-bright disabled:opacity-50 transition-all duration-300 transform hover:scale-[1.02]",children:x?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:e.jsxs("p",{children:[" ",new Date().getFullYear()," Udaan Sarathi. All rights reserved."]})})]})})},ew="modulepreload",tw=function(n){return"/"+n},ep={},tp=function(a,r,i){let o=Promise.resolve();if(r&&r.length>0){let f=function(v){return Promise.all(v.map(h=>Promise.resolve(h).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var m=f;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),x=p?.nonce||p?.getAttribute("nonce");o=f(r.map(v=>{if(v=tw(v),v in ep)return;ep[v]=!0;const h=v.endsWith(".css"),_=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${_}`))return;const F=document.createElement("link");if(F.rel=h?"stylesheet":ew,h||(F.as="script"),F.crossOrigin="",F.href=v,x&&F.setAttribute("nonce",x),document.head.appendChild(F),h)return new Promise((I,E)=>{F.addEventListener("load",I),F.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(p){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=p,window.dispatchEvent(x),!x.defaultPrevented)throw p}return o.then(p=>{for(const x of p||[])x.status==="rejected"&&d(x.reason);return a().catch(d)})},x0=({size:n="default",text:a="Loading...",fullScreen:r=!1,overlay:i=!1,className:o=""})=>{const d={small:"w-4 h-4",default:"w-6 h-6",large:"w-8 h-8"},m={small:"text-sm",default:"text-base",large:"text-lg"},p=()=>e.jsxs("div",{className:`flex flex-col items-center justify-center ${o}`,children:[e.jsx(eo,{className:`${d[n]} animate-spin text-primary-600 mb-2`}),e.jsx("p",{className:`${m[n]} text-gray-600 animate-pulse`,children:a})]});return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(p,{})}):i?e.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10",children:e.jsx(p,{})}):e.jsx(p,{})},sw=()=>{const{user:n}=ui(),[a,r]=j.useState([]),[i,o]=j.useState(!0),[d,m]=j.useState(null),[p,x]=j.useState({user_id:"",resource_type:"",action:"",date_from:"",date_to:"",page:1,limit:20}),[f,v]=j.useState(new Set),[h,_]=j.useState([]),[F,I]=j.useState(0),[E,$]=j.useState(0),[O,z]=j.useState("");j.useEffect(()=>{(async()=>{try{o(!0);const H=await $e.getAuditLogs(p);r(H.logs),I(H.total),$(H.total_pages)}catch(H){m("Failed to load audit logs"),console.error("Audit log fetch error:",H)}finally{o(!1)}})()},[p]);const R=j.useRef(null),K=async()=>{try{const[{jsPDF:D},H]=await Promise.all([tp(()=>import("https://esm.sh/jspdf@2.5.1"),[]),tp(()=>import("https://esm.sh/html2canvas@1.4.1"),[])]);window.html2canvas=H.default||H;const w=new Date,re=document.createElement("div");re.style.width="800px",re.style.padding="24px",re.style.fontFamily="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial",re.innerHTML=`
        <h1 style="font-size:20px;margin:0 0 12px;">Audit Log</h1>
        <div style="font-size:12px;color:#4B5563;margin-bottom:16px;">Exported: ${w.toLocaleString()} | Page ${p.page} | Limit ${p.limit}</div>
        ${ee.map(k=>`
          <div style="border:1px solid #E5E7EB;border-radius:8px;margin:10px 0;page-break-inside:avoid;">
            <div style="padding:10px 12px;background:#F9FAFB;display:flex;align-items:center;justify-content:space-between;">
              <div style="font-weight:600;">${$e.getActionLabel(k.action)} <span style="color:#6B7280;font-weight:400;">by ${k.user_name}</span></div>
              <div style="display:inline-block;padding:2px 8px;border-radius:9999px;background:#EEF2FF;color:#3730A3;font-size:10px;">${$e.getResourceLabel(k.resource_type)}</div>
            </div>
            <div style="padding:12px;font-size:12px;">
              <div style="display:flex;gap:16px;color:#4B5563;"><div><strong>Timestamp:</strong> ${new Date(k.timestamp).toLocaleString()}</div><div><strong>User:</strong> ${k.user_id}</div></div>
              ${k.changes&&Object.keys(k.changes).length?`<div style="margin-top:8px;"><strong>Changes:</strong> ${Object.keys(k.changes).length} field(s)</div>`:""}
              <div style="margin-top:8px;color:#6B7280;">Session: ${k.session_id||"unknown_session"} | IP: ${k.ip_address||"N/A"}</div>
            </div>
          </div>
        `).join("")}
      `,document.body.appendChild(re),await new D({unit:"pt",format:"a4"}).html(re,{margin:[24,24,24,24],autoPaging:"text",x:0,y:0,html2canvas:{scale:.72,useCORS:!0},callback:k=>{const W=`audit_logs_page${p.page}_limit${p.limit}.pdf`;k.save(W),document.body.removeChild(re)}})}catch(D){console.error("PDF export failed",D)}},Z=D=>({UPDATE:Nt,CREATE:Ot,DELETE:jt,FILE_UPLOAD:Nr,LOGIN:Yt,LOGOUT:Yt})[D]||di,ee=j.useMemo(()=>{if(!O.trim())return a;const D=O.toLowerCase();return a.filter(H=>H.user_name?.toLowerCase().includes(D)||H.action?.toLowerCase().includes(D)||H.resource_type?.toLowerCase().includes(D)||$e.getActionLabel(H.action)?.toLowerCase().includes(D)||$e.getResourceLabel(H.resource_type)?.toLowerCase().includes(D))},[a,O]),te=()=>{const D=["id","timestamp","user_id","user_name","action","resource_type","resource_id","ip_address","session_id"],H=ee.map(W=>D.map(C=>JSON.stringify(W[C]??(C==="timestamp"?new Date(W.timestamp).toISOString():""))).join(",")),w=[D.join(","),...H].join(`
`),re=new Blob([w],{type:"text/csv;charset=utf-8;"}),Y=URL.createObjectURL(re),k=document.createElement("a");k.href=Y,k.download=`audit_logs_page${p.page}_limit${p.limit}.csv`,k.click(),URL.revokeObjectURL(Y)},Q=D=>({UPDATE:"text-blue-600 bg-blue-100",CREATE:"text-green-600 bg-green-100",DELETE:"text-red-600 bg-red-100",FILE_UPLOAD:"text-purple-600 bg-purple-100",LOGIN:"text-gray-600 bg-gray-100",LOGOUT:"text-gray-600 bg-gray-100"})[D]||"text-gray-600 bg-gray-100",se=D=>Object.entries(D).map(([H,w])=>({field:H,from:w.from,to:w.to})),_e=D=>{const H=new Set(f);H.has(D)?H.delete(D):H.add(D),v(H)},pe=(D,H)=>{x(w=>({...w,[D]:H,page:1}))},L=()=>{x({user_id:"",resource_type:"",action:"",date_from:"",date_to:"",page:1,limit:20})},V=()=>{x(D=>({...D}))};return i?e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Audit Log"})}),e.jsx(x0,{})]}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(rn,{className:"w-6 h-6 mr-2"}),"Audit Log"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:O,onChange:D=>z(D.target.value),placeholder:"Search logs (user, action, resource)",className:"input w-64"}),e.jsxs("button",{onClick:V,className:"btn-secondary flex items-center",children:[e.jsx(Ed,{className:"w-4 h-4 mr-1"}),"Refresh"]}),e.jsx("button",{className:"btn-outline",onClick:te,children:"Export CSV"}),e.jsx("button",{className:"btn-outline",onClick:K,children:"Download PDF"})]})]}),e.jsx("div",{className:"card p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),e.jsxs("select",{value:p.user_id,onChange:D=>pe("user_id",D.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Users"}),e.jsx("option",{value:"user_1",children:"System Administrator"}),e.jsx("option",{value:"user_2",children:"Senior Recruiter"}),e.jsx("option",{value:"user_3",children:"Interview Coordinator"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resource Type"}),e.jsxs("select",{value:p.resource_type,onChange:D=>pe("resource_type",D.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"AGENCY_PROFILE",children:"Agency Profile"}),e.jsx("option",{value:"AGENCY_MEDIA",children:"Agency Media"}),e.jsx("option",{value:"JOB_POSTING",children:"Job Posting"}),e.jsx("option",{value:"CANDIDATE",children:"Candidate"}),e.jsx("option",{value:"APPLICATION",children:"Application"}),e.jsx("option",{value:"USER",children:"User"}),e.jsx("option",{value:"AUTH",children:"Auth"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),e.jsxs("select",{value:p.action,onChange:D=>pe("action",D.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"All Actions"}),e.jsx("option",{value:"UPDATE",children:"Update"}),e.jsx("option",{value:"CREATE",children:"Create"}),e.jsx("option",{value:"DELETE",children:"Delete"}),e.jsx("option",{value:"FILE_UPLOAD",children:"File Upload"}),e.jsx("option",{value:"LOGIN",children:"Login"}),e.jsx("option",{value:"LOGOUT",children:"Logout"})]})]}),e.jsx("div",{className:"flex items-end space-x-2",children:e.jsx("button",{onClick:L,className:"btn-secondary w-full",children:"Reset"})})]})}),d&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(jt,{className:"w-5 h-5 text-red-500 mr-2"}),e.jsx("p",{className:"text-red-800",children:d})]})}),e.jsx("div",{className:"card p-6",ref:R,children:ee.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No audit logs found"}),e.jsx("p",{className:"text-gray-600",children:"Changes will appear here once they are made."})]}):e.jsx("div",{className:"space-y-4",children:ee.map(D=>{const H=Z(D.action),w=f.has(D.id),re=se(D.changes);return e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>_e(D.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Q(D.action)}`,children:e.jsx(H,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:$e.getActionLabel(D.action)}),e.jsxs("span",{className:"text-sm text-gray-500",children:["by ",D.user_name]}),D.metadata?.role&&e.jsx("span",{className:"chip chip-purple text-xs",children:D.metadata.role})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dt,{className:"w-3 h-3 mr-1"}),Ne(new Date(D.timestamp),"PPp")]}),re.length>0&&e.jsxs("div",{children:[re.length," field",re.length!==1?"s":""," changed"]}),D.resource_type&&e.jsx("div",{className:"chip chip-blue text-xs",children:$e.getResourceLabel(D.resource_type)})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:w?e.jsx(an,{className:"w-4 h-4 text-gray-400"}):e.jsx(oi,{className:"w-4 h-4 text-gray-400"})})]})}),w&&e.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:[re.length>0?e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Changes Made:"}),e.jsx("div",{className:"space-y-3",children:re.map((Y,k)=>e.jsxs("div",{className:"bg-white rounded-md p-3 border",children:[e.jsx("div",{className:"font-medium text-sm text-gray-700 mb-2",children:Y.field.replace(/_/g," ").replace(/\b\w/g,W=>W.toUpperCase())}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500 mb-1",children:"From:"}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded px-2 py-1 text-red-800 max-h-32 overflow-auto",children:typeof Y.from=="object"?JSON.stringify(Y.from,null,2):Y.from!==null&&Y.from!==void 0?Y.from.toString():"Empty"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500 mb-1",children:"To:"}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded px-2 py-1 text-green-800 max-h-32 overflow-auto",children:typeof Y.to=="object"?JSON.stringify(Y.to,null,2):Y.to!==null&&Y.to!==void 0?Y.to.toString():"Empty"})]})]})]},k))})]}):e.jsx("p",{className:"text-gray-600",children:"No detailed changes recorded."}),D.metadata&&Object.keys(D.metadata).length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Additional Information:"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[D.metadata.file_name&&e.jsxs("div",{children:["File: ",D.metadata.file_name]}),D.metadata.file_size&&e.jsxs("div",{children:["Size: ",(D.metadata.file_size/1024).toFixed(1)," KB"]}),(D.metadata.browser||D.user_agent)&&e.jsxs("div",{children:["Browser: ",D.metadata.browser||D.user_agent]}),D.metadata.section&&e.jsxs("div",{children:["Section: ",D.metadata.section]}),e.jsxs("div",{children:["Session: ",D.session_id]}),e.jsxs("div",{children:["IP: ",D.ip_address]})]})]})]})]},D.id)})})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx(to,{currentPage:p.page,totalPages:E,totalItems:F,itemsPerPage:p.limit}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n0,{value:p.limit,onChange:D=>x(H=>({...H,limit:D,page:1})),options:[10,20,50,100]}),e.jsx(ni,{currentPage:p.page,totalPages:E,onPageChange:D=>x(H=>({...H,page:D})),size:"sm"})]})]})]})},aw=()=>{const n={dashboard:rw(),jobs:nw(),shortlist:iw(),interviews:lw(),drafts:ow(),settings:cw(),technical:dw()};return{overall:Object.values(n).every(r=>r.status==="pass")?"pass":"fail",timestamp:ja(),results:n}},rw=()=>{const n=[];try{const a=ja(),r=es(a);n.push({name:"Nepal Timezone Support",status:a&&r?"pass":"fail",details:`Current Nepal time: ${r}`});const i={totalJobs:10,publishedJobs:8,totalApplications:150,shortlistedCandidates:45};n.push({name:"Metrics Calculation",status:i.totalJobs>0?"pass":"fail",details:`${i.totalJobs} jobs, ${i.totalApplications} applications`})}catch(a){n.push({name:"Dashboard Error",status:"fail",details:a.message})}return{feature:"Dashboard Core Metrics",status:n.every(a=>a.status==="pass")?"pass":"fail",tests:n}},nw=()=>{const n=[];try{const a={id:"job_001",title:"Test Job",company:"Test Company",status:"published",tags:["Skill1","Skill2"],applications_count:10};n.push({name:"Job Data Structure",status:a.id&&a.title&&a.tags?"pass":"fail",details:`Job: ${a.title} with ${a.tags.length} tags`});const i=[a,{...a,id:"job_002",status:"draft"}].filter(o=>o.status==="published");n.push({name:"Job Filtering",status:i.length===1?"pass":"fail",details:`${i.length} published jobs found`})}catch(a){n.push({name:"Jobs Error",status:"fail",details:a.message})}return{feature:"Jobs List/Detail with Tabs",status:n.every(a=>a.status==="pass")?"pass":"fail",tests:n}},iw=()=>{const n=[];try{const a={id:"candidate_001",name:"Test Candidate",skills:["Cooking","English","Restaurant"],experience:"3 years",applied_at:new Date().toISOString()},r={id:"job_001",title:"Cook",tags:["Cooking","Restaurant","Food Preparation"]},i=Yl([a],r);n.push({name:"Skill-based Ranking",status:i.length>0&&i[0].priority_score?"pass":"fail",details:`Priority score: ${i[0]?.priority_score||0}%`});const o=m0([a],r);n.push({name:"Ranking Insights",status:o&&o.totalCandidates===1?"pass":"fail",details:`${o?.totalCandidates||0} candidates analyzed`})}catch(a){n.push({name:"Shortlist Error",status:"fail",details:a.message})}return{feature:"Shortlist + Bulk Reject",status:n.every(a=>a.status==="pass")?"pass":"fail",tests:n}},lw=()=>{const n=[];try{const a={id:"interview_001",candidateId:"candidate_001",jobId:"job_001",scheduledAt:ja(),type:"video",status:"scheduled"};n.push({name:"Interview Data Structure",status:a.id&&a.scheduledAt?"pass":"fail",details:`Interview scheduled for ${es(a.scheduledAt)}`});const i=["candidate_001","candidate_002","candidate_003"].length;n.push({name:"Batch Operations",status:i>1?"pass":"fail",details:`${i} candidates ready for batch scheduling`})}catch(a){n.push({name:"Interview Error",status:"fail",details:a.message})}return{feature:"Interview Scheduling (Manual + Batch)",status:n.every(a=>a.status==="pass")?"pass":"fail",tests:n}},ow=()=>{const n=[];try{const a={id:"job_draft_001",title:"Draft Job",status:"draft",created_at:ja(),isComplete:!1};n.push({name:"Draft Data Structure",status:a.id&&a.status==="draft"?"pass":"fail",details:`Draft: ${a.title}`});const i=[a,{...a,id:"job_draft_002"}].filter(m=>m.status==="draft");n.push({name:"Bulk Draft Operations",status:i.length===2?"pass":"fail",details:`${i.length} drafts selected for bulk operation`});const d=Object.values({validation:!0,approval:!0,publishing:!0}).every(m=>m);n.push({name:"Publish Workflow",status:d?"pass":"fail",details:"All workflow steps validated"})}catch(a){n.push({name:"Drafts Error",status:"fail",details:a.message})}return{feature:"Drafts (Single + Bulk), Publish Workflow",status:n.every(a=>a.status==="pass")?"pass":"fail",tests:n}},cw=()=>{const n=[];try{const a={agencyName:"Test Agency",contactInfo:{email:"test@agency.com",phone:"+977-1234567890"},users:[{id:"user_001",role:"admin",permissions:["all"]},{id:"user_002",role:"recruiter",permissions:["view_jobs","manage_candidates"]}]};n.push({name:"Agency Settings Structure",status:a.agencyName&&a.users.length>0?"pass":"fail",details:`${a.agencyName} with ${a.users.length} users`});const r=a.users.find(o=>o.role==="admin"),i=r&&r.permissions.includes("all");n.push({name:"Permission System",status:i?"pass":"fail",details:"Admin user has all permissions"})}catch(a){n.push({name:"Settings Error",status:"fail",details:a.message})}return{feature:"Agency Settings Basic Functionality",status:n.every(a=>a.status==="pass")?"pass":"fail",tests:n}},dw=()=>{const n=[];try{const a=ja(),r=a instanceof Date&&!isNaN(a);n.push({name:"Nepal Timezone Utilities",status:r?"pass":"fail",details:`Current time: ${es(a)}`});const i=["grid-responsive","btn-mobile","text-responsive-base","touch-target"];n.push({name:"Responsive Design Classes",status:i.length>0?"pass":"fail",details:`${i.length} responsive utility classes available`});const o=["skip-to-content","sr-only","touch-target","focus-visible"];n.push({name:"Accessibility Features",status:o.length>0?"pass":"fail",details:`${o.length} accessibility features implemented`})}catch(a){n.push({name:"Technical Error",status:"fail",details:a.message})}return{feature:"Technical Infrastructure",status:n.every(a=>a.status==="pass")?"pass":"fail",tests:n}},uw=n=>{const{overall:a,timestamp:r,results:i}=n;let o=`# MVP Validation Report

`;return o+=`**Overall Status:** ${a.toUpperCase()}
`,o+=`**Timestamp:** ${es(r)}

`,Object.entries(i).forEach(([d,m])=>{o+=`## ${m.feature}
`,o+=`**Status:** ${m.status.toUpperCase()}

`,m.tests.forEach(p=>{const x=p.status==="pass"?"":"";o+=`${x} **${p.name}:** ${p.details}
`}),o+=`
`}),o},mw=()=>{const[n,a]=j.useState(null),[r,i]=j.useState(!0),[o,d]=j.useState(!1);j.useEffect(()=>{(async()=>{try{i(!0),await new Promise(_=>setTimeout(_,1e3));const h=aw();a(h)}catch(h){console.error("Validation failed:",h)}finally{i(!1)}})()},[]);const m=[{id:"dashboard",name:"Dashboard Core Metrics",icon:Tl,description:"Real-time metrics with Nepal timezone support",testPath:"/dashboard",color:"blue"},{id:"jobs",name:"Jobs List/Detail with Tabs",icon:Is,description:"Job management with Applied/Shortlisted/Scheduled tabs",testPath:"/jobs",color:"green"},{id:"shortlist",name:"Shortlist + Bulk Reject",icon:_t,description:"Skill-based ranking and bulk operations",testPath:"/jobs/job_001/shortlist",color:"purple"},{id:"interviews",name:"Interview Scheduling",icon:nt,description:"Manual and batch interview scheduling",testPath:"/interviews",color:"orange"},{id:"drafts",name:"Drafts Management",icon:Ot,description:"Single and bulk draft operations with publish workflow",testPath:"/drafts",color:"yellow"},{id:"settings",name:"Agency Settings",icon:di,description:"Basic agency configuration and user management",testPath:"/settings",color:"gray"}],p=[{name:"Authentication & Security",icon:Ip,status:"pass",description:"Role-based access control and permission system"},{name:"Nepal Timezone Support",icon:ci,status:"pass",description:"Complete Asia/Kathmandu timezone integration"},{name:"Responsive Design",icon:oy,status:"pass",description:"Mobile-first responsive design with accessibility"}],x=v=>{switch(v){case"pass":return e.jsx(os,{className:"w-5 h-5 text-green-500"});case"fail":return e.jsx(wr,{className:"w-5 h-5 text-red-500"});default:return e.jsx(Dt,{className:"w-5 h-5 text-yellow-500"})}},f=v=>{switch(v){case"pass":return"bg-green-50 border-green-200 text-green-800";case"fail":return"bg-red-50 border-red-200 text-red-800";default:return"bg-yellow-50 border-yellow-200 text-yellow-800"}};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Running MVP validation tests..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"MVP Testing Dashboard"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Validate all MVP features and ensure deployment readiness"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Last validated: ",es(ja(),"EEEE, MMMM dd, yyyy HH:mm:ss")]})]}),n&&e.jsx("div",{className:`rounded-lg border-2 p-6 mb-8 ${f(n.overall)}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[x(n.overall),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Overall MVP Status: ",n.overall.toUpperCase()]}),e.jsx("p",{className:"text-sm opacity-75",children:n.overall==="pass"?"All critical features are implemented and ready for deployment":"Some features need attention before deployment"})]})]}),e.jsxs("button",{onClick:()=>d(!o),className:"btn-secondary text-sm",children:[o?"Hide":"Show"," Detailed Report"]})]})}),o&&n&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Detailed Validation Report"}),e.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded overflow-x-auto whitespace-pre-wrap",children:uw(n)})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:m.map(v=>{const h=n?.results[v.id],_=v.icon;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-lg bg-${v.color}-100`,children:e.jsx(_,{className:`w-6 h-6 text-${v.color}-600`})}),h&&x(h.status)]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:v.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:v.description}),h&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Tests: ",h.tests.filter(F=>F.status==="pass").length,"/",h.tests.length," passed"]}),e.jsxs("div",{className:"space-y-1",children:[h.tests.slice(0,2).map((F,I)=>e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[x(F.status),e.jsx("span",{className:"truncate",children:F.name})]},I)),h.tests.length>2&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",h.tests.length-2," more tests"]})]})]}),e.jsx(Ut,{to:v.testPath,className:"btn-primary w-full text-center text-sm",children:"Test Feature"})]},v.id)})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Technical Infrastructure"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.map((v,h)=>{const _=v.icon;return e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(_,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:v.name}),x(v.status)]}),e.jsx("p",{className:"text-sm text-gray-600",children:v.description})]})]},h)})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(Ut,{to:"/dashboard",className:"btn-primary text-center",children:"View Dashboard"}),e.jsx(Ut,{to:"/jobs",className:"btn-secondary text-center",children:"Manage Jobs"}),e.jsx(Ut,{to:"/interviews",className:"btn-secondary text-center",children:"Schedule Interviews"}),e.jsx(Ut,{to:"/settings",className:"btn-secondary text-center",children:"Agency Settings"})]})]}),e.jsxs("div",{className:"text-center mt-8 text-sm text-gray-500",children:[e.jsx("p",{children:"MVP Implementation Complete  Ready for Production Deployment"}),e.jsx("p",{className:"mt-1",children:"All core features implemented with Nepal timezone support and accessibility compliance"})]})]})})},Ds=({children:n,requiredRole:a=null,requiredPermission:r=null,requiredPermissions:i=[]})=>{const{isAuthenticated:o,isLoading:d,hasRole:m,hasPermission:p,hasAnyPermission:x}=ui(),f=ba(),v=Qa();return j.useEffect(()=>{if(!d&&!o)f("/login",{state:{from:v.pathname},replace:!0});else if(!d&&o){if(a&&!m(a)){f("/dashboard",{replace:!0});return}if(r&&!p(r)){f("/dashboard",{replace:!0});return}if(i.length>0&&!x(i)){f("/dashboard",{replace:!0});return}}},[o,m,p,x,a,r,i,d,f,v]),d?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(x0,{})}):o?!(a&&!m(a)||r&&!p(r)||i.length>0&&!x(i))?n:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"card p-8 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),e.jsx("button",{onClick:()=>f("/dashboard"),className:"btn-primary",children:"Go to Dashboard"})]})}):null};class hw extends j.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,r){this.setState({error:a,errorInfo:r}),console.error("Error Boundary caught an error:",a,r)}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"card-responsive text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(va,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-responsive-lg font-semibold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-responsive-sm text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try again or contact support if the problem persists."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs("button",{onClick:this.handleRetry,className:"btn-primary btn-mobile flex items-center justify-center",children:[e.jsx(Ed,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e.jsxs("button",{onClick:()=>window.location.href="/dashboard",className:"btn-secondary btn-mobile flex items-center justify-center",children:[e.jsx(Mp,{className:"w-4 h-4 mr-2"}),"Go Home"]})]}),!1]})})}):this.props.children}}const pw=j.createContext(),xw=({children:n})=>{const[a,r]=j.useState([]),i=(f,v="info",h=5e3)=>{const _=Date.now(),F={id:_,message:f,type:v,duration:h};return r(I=>[...I,F]),h>0&&setTimeout(()=>{o(_)},h),_},o=f=>{r(v=>v.filter(h=>h.id!==f))},d=(f,v)=>i(f,"success",v),m=(f,v)=>i(f,"error",v),p=(f,v)=>i(f,"warning",v),x=(f,v)=>i(f,"info",v);return e.jsxs(pw.Provider,{value:{success:d,error:m,warning:p,info:x,removeToast:o},children:[n,e.jsx(gw,{toasts:a,onRemove:o})]})},gw=({toasts:n,onRemove:a})=>n.length===0?null:e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",role:"region","aria-label":"Notifications",children:n.map(r=>e.jsx(fw,{toast:r,onRemove:a},r.id))}),fw=({toast:n,onRemove:a})=>{const[r,i]=j.useState(!1),o=()=>{i(!0),setTimeout(()=>a(n.id),300)};j.useEffect(()=>{const x=setTimeout(()=>{o()},n.duration);return()=>clearTimeout(x)},[n.duration]);const m=(x=>{const f={success:{icon:os,bgColor:"bg-green-500",textColor:"text-white",iconColor:"text-white"},error:{icon:wr,bgColor:"bg-red-500",textColor:"text-white",iconColor:"text-white"},warning:{icon:jt,bgColor:"bg-yellow-500",textColor:"text-white",iconColor:"text-white"},info:{icon:Ka,bgColor:"bg-blue-500",textColor:"text-white",iconColor:"text-white"}};return f[x]||f.info})(n.type),p=m.icon;return e.jsxs("div",{className:`
        ${m.bgColor} ${m.textColor}
        max-w-sm w-full shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5
        transform transition-all duration-300 ease-in-out
        ${r?"translate-x-full opacity-0":"translate-x-0 opacity-100"}
      `,role:"alert","aria-live":"assertive","aria-atomic":"true",children:[e.jsx("div",{className:"flex-1 w-0 p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(p,{className:`h-5 w-5 ${m.iconColor}`,"aria-hidden":"true"})}),e.jsx("div",{className:"ml-3 flex-1",children:e.jsx("p",{className:`text-sm font-medium ${m.textColor}`,children:n.message})})]})}),e.jsx("div",{className:"flex border-l border-gray-200",children:e.jsx("button",{onClick:o,className:"w-full border border-transparent rounded-none rounded-r-lg p-4 flex items-center justify-center text-sm font-medium hover:opacity-75 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Close notification",children:e.jsx(st,{className:"h-4 w-4","aria-hidden":"true"})})})]})};function yw(){return j.useEffect(()=>(Ms.init(),()=>{Xn.cleanup()}),[]),e.jsx(hw,{children:e.jsx(xj,{children:e.jsx(sj,{children:e.jsx(xw,{children:e.jsx(yj,{children:e.jsxs(rd,{children:[e.jsx(Bt,{path:"/login",element:e.jsx(Xj,{})}),e.jsx(Bt,{path:"*",element:e.jsx(aj,{children:e.jsxs(rd,{children:[e.jsx(Bt,{path:"/",element:e.jsx(Ds,{children:e.jsx(Yh,{})})}),e.jsx(Bt,{path:"/dashboard",element:e.jsx(Ds,{children:e.jsx(Yh,{})})}),e.jsx(Bt,{path:"/jobs",element:e.jsx(Ds,{requiredPermission:ce.VIEW_JOBS,children:e.jsx(fj,{})})}),e.jsx(Bt,{path:"/jobs/:id",element:e.jsx(Ds,{requiredPermission:ce.VIEW_JOBS,children:e.jsx(bj,{})})}),e.jsx(Bt,{path:"/jobs/:jobId/shortlist",element:e.jsx(Ds,{requiredPermission:ce.VIEW_APPLICATIONS,children:e.jsx(Sj,{})})}),e.jsx(Bt,{path:"/applications",element:e.jsx(Ds,{requiredPermission:ce.VIEW_APPLICATIONS,children:e.jsx(Dj,{})})}),e.jsx(Bt,{path:"/interviews",element:e.jsx(Ds,{requiredPermissions:[ce.VIEW_INTERVIEWS,ce.SCHEDULE_INTERVIEW],children:e.jsx(Ij,{})})}),e.jsx(Bt,{path:"/workflow",element:e.jsx(Ds,{requiredPermission:ce.VIEW_WORKFLOW,children:e.jsx(Lj,{})})}),e.jsx(Bt,{path:"/drafts",element:e.jsx(Ds,{requiredPermissions:[ce.CREATE_JOB,ce.EDIT_JOB],children:e.jsx(Rj,{})})}),e.jsx(Bt,{path:"/settings",element:e.jsx(Ds,{requiredPermission:ce.MANAGE_SETTINGS,children:e.jsx(Yj,{})})}),e.jsx(Bt,{path:"/auditlog",element:e.jsx(Ds,{requiredPermission:ce.VIEW_AUDIT_LOGS,children:e.jsx(sw,{})})}),e.jsx(Bt,{path:"/mvp-testing",element:e.jsx(Ds,{requiredPermission:ce.MANAGE_SETTINGS,children:e.jsx(mw,{})})})]})})})]})})})})})})}const vw=({isOpen:n,onClose:a,title:r,children:i,footer:o,size:d="md",closeOnOverlayClick:m=!0,closeOnEsc:p=!0,showCloseButton:x=!0})=>{if(!n)return null;const f={sm:"max-w-md",md:"max-w-xl",lg:"max-w-3xl",xl:"max-w-5xl",full:"max-w-full mx-4"},v=_=>{m&&_.target===_.currentTarget&&a()},h=_=>{p&&_.key==="Escape"&&a()};return wg.createPortal(e.jsxs(j.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-40 transition-opacity duration-300","aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",onClick:v,onKeyDown:h,role:"dialog","aria-modal":"true","aria-labelledby":r?"modal-title":void 0,children:e.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:e.jsxs("div",{className:`
              glass-effect-strong rounded-xl shadow-xl transform transition-all duration-300
              w-full ${f[d]} max-h-[90vh] overflow-hidden flex flex-col
              animate-fade-in
            `,children:[r&&e.jsxs(hi,{className:"flex items-center justify-between",children:[e.jsx(pi,{id:"modal-title",className:"text-lg",children:r}),x&&e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-brand-blue-bright rounded-full p-1 transition-colors","aria-label":"Close",children:e.jsx(st,{className:"w-5 h-5"})})]}),e.jsx(xi,{className:"flex-grow overflow-y-auto max-h-[70vh]",children:i}),o&&e.jsx(ro,{className:"flex justify-end space-x-3",children:o})]})})})]}),document.body)},bw=p0("rounded-lg border p-4 backdrop-blur-sm transition-all duration-300",{variants:{variant:{default:"bg-white/80 border-gray-200/50 text-gray-800",success:"bg-green-50/80 border-green-200/50 text-green-800",warning:"bg-yellow-50/80 border-yellow-200/50 text-yellow-800",error:"bg-red-50/80 border-red-200/50 text-red-800",info:"bg-blue-50/80 border-blue-200/50 text-blue-800"}},defaultVariants:{variant:"default"}}),jw={success:os,warning:jt,error:wr,info:Ka},g0=({children:n,variant:a="default",title:r,className:i="",onClose:o,...d})=>{const m=jw[a]||Ka;return e.jsx("div",{role:"alert",className:bw({variant:a,className:i}),...d,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(m,{className:`w-5 h-5 ${a==="success"?"text-green-500":a==="warning"?"text-yellow-500":a==="error"?"text-red-500":a==="info"?"text-blue-500":"text-gray-500"}`})}),e.jsxs("div",{className:"ml-3 flex-1",children:[r&&e.jsx("h3",{className:`text-sm font-medium ${a==="success"?"text-green-800":a==="warning"?"text-yellow-800":a==="error"?"text-red-800":a==="info"?"text-blue-800":"text-gray-800"}`,children:r}),e.jsx("div",{className:`text-sm ${a==="success"?"text-green-700":a==="warning"?"text-yellow-700":a==="error"?"text-red-700":a==="info"?"text-blue-700":"text-gray-700"}`,children:n})]}),o&&e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{onClick:o,className:`inline-flex rounded-md p-1.5 ${a==="success"?"text-green-500 hover:text-green-700":a==="warning"?"text-yellow-500 hover:text-yellow-700":a==="error"?"text-red-500 hover:text-red-700":a==="info"?"text-blue-500 hover:text-blue-700":"text-gray-500 hover:text-gray-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 ${a==="success"?"focus:ring-green-500":a==="warning"?"focus:ring-yellow-500":a==="error"?"focus:ring-red-500":a==="info"?"focus:ring-blue-500":"focus:ring-gray-500"}`,"aria-label":"Close",children:e.jsx(st,{className:"w-4 h-4"})})})]})})},ww=()=>{const[n,a]=j.useState(!1),[r,i]=j.useState([]),o=(m,p,x)=>{const f=Date.now();i(v=>[...v,{id:f,variant:m,title:p,message:x}])},d=m=>{i(p=>p.filter(x=>x.id!==m))};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(ao,{children:[e.jsx(hi,{children:e.jsx(pi,{children:"UI Component Demo"})}),e.jsxs(xi,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Buttons"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(tt,{variant:"primary",children:"Primary"}),e.jsx(tt,{variant:"secondary",children:"Secondary"}),e.jsx(tt,{variant:"success",children:"Success"}),e.jsx(tt,{variant:"danger",children:"Danger"}),e.jsx(tt,{variant:"outline",children:"Outline"}),e.jsx(tt,{variant:"ghost",children:"Ghost"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Button Sizes"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(tt,{size:"sm",children:"Small"}),e.jsx(tt,{size:"md",children:"Medium"}),e.jsx(tt,{size:"lg",children:"Large"}),e.jsx(tt,{size:"xl",children:"Extra Large"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Buttons with Icons"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(tt,{leftIcon:e.jsx(xs,{className:"w-4 h-4"}),children:"Add Item"}),e.jsx(tt,{rightIcon:e.jsx(st,{className:"w-4 h-4"}),children:"Close"}),e.jsx(tt,{variant:"success",leftIcon:e.jsx(gt,{className:"w-4 h-4"}),children:"Confirm"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Loading Buttons"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(tt,{loading:!0,children:"Loading..."}),e.jsx(tt,{variant:"secondary",loading:!0,children:"Loading..."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Alerts"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(tt,{variant:"outline",onClick:()=>o("default","Default Alert","This is a default alert message"),children:"Show Default Alert"}),e.jsx(tt,{variant:"outline",onClick:()=>o("success","Success Alert","Operation completed successfully!"),children:"Show Success Alert"}),e.jsx(tt,{variant:"outline",onClick:()=>o("warning","Warning Alert","Please check your input"),children:"Show Warning Alert"}),e.jsx(tt,{variant:"outline",onClick:()=>o("error","Error Alert","Something went wrong"),children:"Show Error Alert"}),e.jsx(tt,{variant:"outline",onClick:()=>o("info","Info Alert","Here's some useful information"),children:"Show Info Alert"})]}),e.jsx("div",{className:"mt-4 space-y-3",children:r.map(m=>e.jsx(g0,{variant:m.variant,title:m.title,onClose:()=>d(m.id),children:m.message},m.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Modal"}),e.jsx(tt,{onClick:()=>a(!0),children:"Open Modal"})]})]}),e.jsx(ro,{children:e.jsx("p",{className:"text-sm text-gray-500",children:"This demo showcases the new UI components with brand colors and glass-morphism effects."})})]}),e.jsx(vw,{isOpen:n,onClose:()=>a(!1),title:"Component Demo Modal",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{children:"This is a modal component with glass-morphism effects and smooth animations."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(tt,{variant:"primary",children:"Primary Action"}),e.jsx(tt,{variant:"secondary",onClick:()=>a(!1),children:"Close"})]})]})})]})},Nw=(n,a)=>{const[r,i]=j.useState(n);return j.useEffect(()=>{const o=setTimeout(()=>{i(n)},a);return()=>{clearTimeout(o)}},[n,a]),r},_w=(n=[])=>{const[a,r]=j.useState(n),[i,o]=j.useState(new Map),d=j.useCallback((f,v,h)=>{o(_=>new Map(_.set(f,{updater:v,rollback:h}))),r(_=>v(_))},[]),m=j.useCallback(f=>{o(v=>{const h=new Map(v);return h.delete(f),h})},[]),p=j.useCallback(f=>{const v=i.get(f);v&&(r(h=>v.rollback(h)),o(h=>{const _=new Map(h);return _.delete(f),_}))},[i]),x=j.useCallback(()=>{o(new Map)},[]);return{data:a,setData:r,optimisticUpdate:d,confirmUpdate:m,rollbackUpdate:p,clearPendingUpdates:x,hasPendingUpdates:i.size>0}},Sw=(n,a={})=>{const[r,i]=j.useState(!1),[o,d]=j.useState(!1),[m,p]=j.useState(!1),x=j.useRef(null),f={threshold:.1,rootMargin:"0px",...a},v=j.useCallback(async()=>{if(!m&&r&&!o){d(!0);try{await n(),p(!0)}catch(h){console.error("Error loading data:",h)}finally{d(!1)}}},[m,r,o,n]);return j.useEffect(()=>{const h=new IntersectionObserver(([_])=>{i(_.isIntersecting)},f);return x.current&&h.observe(x.current),()=>{x.current&&h.unobserve(x.current)}},[f]),j.useEffect(()=>{v()},[r,v]),{elementRef:x,isLoading:o,hasLoaded:m,isVisible:r}},kw=(n,a=300*1e3)=>{const[r,i]=j.useState(()=>{try{const x=localStorage.getItem(`api_cache_${n}`);if(x){const f=JSON.parse(x);if(Date.now()-f.timestamp<a)return new Map(Object.entries(f.data))}}catch(x){console.warn("Failed to parse cache:",x)}return new Map});j.useEffect(()=>{try{const x=Object.fromEntries(r);localStorage.setItem(`api_cache_${n}`,JSON.stringify({data:x,timestamp:Date.now()}))}catch(x){console.warn("Failed to save cache:",x)}},[r,n]);const o=j.useCallback(x=>{const f=r.get(x);if(f){if(Date.now()-f.timestamp<a)return f.data;i(v=>{const h=new Map(v);return h.delete(x),h})}return null},[r,a]),d=j.useCallback((x,f)=>{i(v=>{const h=new Map(v);return h.set(x,{data:f,timestamp:Date.now()}),h})},[]),m=j.useCallback(x=>{i(f=>{const v=new Map(f);return v.delete(x),v})},[]),p=j.useCallback(()=>{i(new Map);try{localStorage.removeItem(`api_cache_${n}`)}catch(x){console.warn("Failed to clear cache:",x)}},[n]);return{get:o,set:d,clear:m,clearAll:p,cacheSize:r.size}},Cw=()=>{const[n,a]=j.useState(""),r=Nw(n,300),[i,o]=j.useState([]),d=[{id:1,text:"Learn React Hooks",completed:!1},{id:2,text:"Build Performance Demo",completed:!0},{id:3,text:"Optimize Application",completed:!1}],{data:m,optimisticUpdate:p,confirmUpdate:x,rollbackUpdate:f}=_w(d),v=kw("demo",5e3),[h,_]=j.useState(null),[F,I]=j.useState("");j.useEffect(()=>{if(r){const L=[`Result 1 for "${r}"`,`Result 2 for "${r}"`,`Result 3 for "${r}"`];o(L)}else o([])},[r]);const E=L=>{const V=`toggle_${L}_${Date.now()}`;p(V,D=>D.map(H=>H.id===L?{...H,completed:!H.completed}:H),D=>D.map(H=>H.id===L?{...H,completed:!H.completed}:H)),setTimeout(()=>{Math.random()>.3?x(V):(f(V),alert("Failed to update todo. Rollback applied."))},500)},$=L=>{const V={id:Date.now(),text:L,completed:!1},D=`add_${V.id}`;p(D,H=>[...H,V],H=>H.filter(w=>w.id!==V.id)),setTimeout(()=>{Math.random()>.2?x(D):(f(D),alert("Failed to add todo. Rollback applied."))},300)},O=L=>{const V=`delete_${L}_${Date.now()}`,D=m.find(H=>H.id===L);p(V,H=>H.filter(w=>w.id!==L),H=>[...H,D]),setTimeout(()=>{Math.random()>.1?x(V):(f(V),alert("Failed to delete todo. Rollback applied."))},400)},z=()=>{const L={timestamp:new Date().toISOString(),message:"This data is cached",random:Math.random()};v.set("demo_data",L),_(L),I("Data cached")},R=()=>{const L=v.get("demo_data");L?(_(L),I("Data retrieved from cache")):(_(null),I("No cached data found"))},K=()=>{v.clear("demo_data"),_(null),I("Cache cleared")},[Z,ee]=j.useState(!1),[te,Q]=j.useState(null),{elementRef:se,isLoading:_e,hasLoaded:pe}=Sw(async()=>{Q(null),await new Promise(L=>setTimeout(L,1e3)),Q("This content was loaded lazily when it became visible!")});return e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(ao,{children:[e.jsx(hi,{children:e.jsx(pi,{children:"Performance Hooks Demo"})}),e.jsxs(xi,{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Debounced Search"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:n,onChange:L=>a(L.target.value),placeholder:"Type to search (debounced)...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue-bright"})]}),r&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Debounced search term: ",e.jsx("strong",{children:r})]}),i.length>0&&e.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Search Results:"}),e.jsx("ul",{className:"space-y-1",children:i.map((L,V)=>e.jsx("li",{className:"text-sm",children:L},V))})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Optimistic Updates"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Add new todo...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-blue-bright",onKeyPress:L=>{L.key==="Enter"&&L.target.value.trim()&&($(L.target.value.trim()),L.target.value="")}}),e.jsx(tt,{variant:"secondary",onClick:()=>{const L=document.querySelector('input[placeholder="Add new todo..."]');L&&L.value.trim()&&($(L.value.trim()),L.value="")},children:e.jsx(xs,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Todo List:"}),e.jsx("ul",{className:"space-y-2",children:m.map(L=>e.jsxs("li",{className:"flex items-center justify-between p-2 hover:bg-white/50 rounded",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:L.completed,onChange:()=>E(L.id),className:"mr-2"}),e.jsx("span",{className:L.completed?"line-through text-gray-500":"",children:L.text})]}),e.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>O(L.id),children:e.jsx(fr,{className:"w-4 h-4 text-red-500"})})]},L.id))})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"API Caching"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(tt,{onClick:z,variant:"secondary",children:"Cache Data"}),e.jsx(tt,{onClick:R,variant:"secondary",children:"Get Cached Data"}),e.jsx(tt,{onClick:K,variant:"outline",children:"Clear Cache"})]}),F&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.jsx("strong",{children:F})]}),h&&e.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Cached Data:"}),e.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(h,null,2)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Lazy Loading"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(tt,{onClick:()=>ee(!Z),variant:"secondary",children:[Z?"Hide":"Show"," Lazy Loading Demo"]}),Z&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Scroll down to see lazy loading in action"})}),e.jsx("div",{className:"h-96"}),e.jsxs("div",{ref:se,className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gray-200/50 shadow-lg",children:[_e&&e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-brand-blue-bright"}),e.jsx("span",{className:"ml-2",children:"Loading content..."})]}),pe&&te&&e.jsxs("div",{className:"text-center",children:[e.jsx(gt,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),e.jsx("p",{className:"text-lg",children:te}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This content was loaded only when it became visible in the viewport."})]})]})]})]})]})]}),e.jsx(ro,{children:e.jsx("p",{className:"text-sm text-gray-500",children:"This demo showcases performance optimization hooks for debounced search, optimistic updates, API caching, and lazy loading."})})]})})},Xr=n=>n==null||n===""||typeof n=="string"&&n.trim()===""?"This field is required":(Array.isArray(n)&&n.length,null),Ew=n=>n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?null:"Please enter a valid email address":null,sd=n=>a=>a?a.length>=n?null:`Must be at least ${n} characters`:null,sp=n=>a=>a?a.length<=n?null:`Must be no more than ${n} characters`:null,Aw=n=>a=>{if(a==null)return null;const r=Number(a);return isNaN(r)||r>=n?null:`Must be at least ${n}`},Dw=n=>a=>{if(a==null)return null;const r=Number(a);return isNaN(r)||r<=n?null:`Must be no more than ${n}`},Pw=n=>n?/^[\+]?[1-9][\d]{0,15}$/.test(n)?null:"Please enter a valid phone number":null,en=(...n)=>(a,r)=>{for(const i of n){const o=i(a,r);if(o)return o}return null},Mw=(n={},a={})=>{const[r,i]=j.useState(n),[o,d]=j.useState({}),[m,p]=j.useState({}),[x,f]=j.useState(!1),v=j.useCallback((R,K)=>{const Z=a[R];return Z?Z(K,r):null},[a,r]),h=j.useCallback((R=r)=>{const K={};for(const[Z,ee]of Object.entries(a)){const te=ee(R[Z],R);te&&(K[Z]=te)}return K},[a,r]),_=j.useCallback((R,K)=>{if(i(Z=>({...Z,[R]:K})),m[R]){const Z=v(R,K);d(ee=>({...ee,[R]:Z}))}},[m,v]),F=j.useCallback(R=>{p(Z=>({...Z,[R]:!0}));const K=v(R,r[R]);d(Z=>({...Z,[R]:K}))},[r,v]),I=j.useCallback(()=>{i(n),d({}),p({}),f(!1)},[n]),E=j.useCallback(R=>{i(R)},[]),$=j.useCallback((R,K)=>{d(Z=>({...Z,[R]:K}))},[]),O=j.useCallback(()=>Object.keys(h()).length===0,[h]),z=j.useCallback(async R=>{const K=Object.keys(a).reduce((ee,te)=>(ee[te]=!0,ee),{});p(K);const Z=h();if(d(Z),Object.keys(Z).length===0){f(!0);try{await R(r)}finally{f(!1)}}},[h,a,r]);return{values:r,errors:o,touched:m,isSubmitting:x,isValid:O(),handleChange:_,handleBlur:F,reset:I,setFormValues:E,setFieldError:$,submitForm:z}},Tw=()=>{const n={name:en(Xr,sd(2),sp(50)),email:en(Xr,Ew),phone:en(Xr,Pw),age:en(Xr,Aw(18),Dw(100)),password:en(Xr,sd(8)),confirmPassword:(h,_)=>h?h!==_.password?"Passwords do not match":null:"Please confirm your password",bio:en(Xr,sd(10),sp(500))},{values:a,errors:r,touched:i,isSubmitting:o,isValid:d,handleChange:m,handleBlur:p,reset:x,submitForm:f}=Mw({name:"",email:"",phone:"",age:"",password:"",confirmPassword:"",bio:""},n),v=async h=>{await new Promise(_=>setTimeout(_,1e3)),alert(`Form submitted successfully!
`+JSON.stringify(h,null,2))};return e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs(ao,{children:[e.jsx(hi,{children:e.jsx(pi,{children:"Form Validation Demo"})}),e.jsx(xi,{children:e.jsxs("form",{onSubmit:h=>{h.preventDefault(),f(v)},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:a.name,onChange:h=>m("name",h.target.value),onBlur:()=>p("name"),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.name&&r.name?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-brand-blue-bright"} backdrop-blur-sm bg-white/50`,placeholder:"Enter your full name"})]}),i.name&&r.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Sr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"email",value:a.email,onChange:h=>m("email",h.target.value),onBlur:()=>p("email"),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.email&&r.email?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-brand-blue-bright"} backdrop-blur-sm bg-white/50`,placeholder:"Enter your email address"})]}),i.email&&r.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"tel",value:a.phone,onChange:h=>m("phone",h.target.value),onBlur:()=>p("phone"),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.phone&&r.phone?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-brand-blue-bright"} backdrop-blur-sm bg-white/50`,placeholder:"Enter your phone number"})]}),i.phone&&r.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"number",value:a.age,onChange:h=>m("age",h.target.value),onBlur:()=>p("age"),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.age&&r.age?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-brand-blue-bright"} backdrop-blur-sm bg-white/50`,placeholder:"Enter your age"})]}),i.age&&r.age&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.age})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"password",value:a.password,onChange:h=>m("password",h.target.value),onBlur:()=>p("password"),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.password&&r.password?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-brand-blue-bright"} backdrop-blur-sm bg-white/50`,placeholder:"Enter your password"})]}),i.password&&r.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"password",value:a.confirmPassword,onChange:h=>m("confirmPassword",h.target.value),onBlur:()=>p("confirmPassword"),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.confirmPassword&&r.confirmPassword?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-brand-blue-bright"} backdrop-blur-sm bg-white/50`,placeholder:"Confirm your password"})]}),i.confirmPassword&&r.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-3 text-gray-400 w-4 h-4"}),e.jsx("textarea",{value:a.bio,onChange:h=>m("bio",h.target.value),onBlur:()=>p("bio"),rows:4,className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 ${i.bio&&r.bio?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-brand-blue-bright"} backdrop-blur-sm bg-white/50`,placeholder:"Tell us about yourself"})]}),i.bio&&r.bio&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.bio})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(tt,{type:"submit",disabled:o||!d,className:"flex-1 min-w-[120px]",children:o?"Submitting...":"Submit Form"}),e.jsx(tt,{type:"button",variant:"secondary",onClick:x,className:"flex-1 min-w-[120px]",children:"Reset Form"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(g0,{variant:d?"success":"warning",children:["Form Status: ",d?"Valid":"Invalid"]})})]})}),e.jsx(ro,{children:e.jsx("p",{className:"text-sm text-gray-500",children:"This form demonstrates client-side validation with real-time feedback. All fields are required and have specific validation rules."})})]})})},Iw=new qf({defaultOptions:{queries:{staleTime:300*1e3,cacheTime:600*1e3}}});jg.createRoot(document.getElementById("root")).render(e.jsx(rp.StrictMode,{children:e.jsx(Jv,{children:e.jsx(Yf,{client:Iw,children:e.jsx(jf,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsxs(rd,{children:[e.jsx(Bt,{path:"/component-demo",element:e.jsx(ww,{})}),e.jsx(Bt,{path:"/performance-demo",element:e.jsx(Cw,{})}),e.jsx(Bt,{path:"/validation-demo",element:e.jsx(Tw,{})}),e.jsx(Bt,{path:"/*",element:e.jsx(yw,{})})]})})})})}));
